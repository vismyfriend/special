<template>
  <div class="relative">
    <div id="phoneFrame">
      <img class="backgroundImg" src="../assets/images/backgroundBlur.jpg" alt="blur">
      <p class="bubble left think" id="intro-message">What ' s<br> your <br>name?</p>
      <img class="a-girl" src="../assets/images/special logo detective girl 2.png" alt="logo">

      <div class="inside-phone-frame">

        <div class="registration-container">
          <input v-model="userName" type="text" placeholder="Enter your name" class="name-input">
          <q-btn color="green-5" @click="submitName">OK</q-btn>
          <q-btn color="blue-5" @click="continueAsGuest">–Ø –∞–Ω–æ–Ω–∏–º–Ω–æ —Ö–æ—á—É!</q-btn>
          <q-btn push color="brown-5" @click="backToPreviousPage">üì∑ –Ω–∞–∑–∞–¥ </q-btn>

        </div>
      </div>
    </div>
  </div>
</template>


<script setup>
import { useRoute } from 'vue-router';
import { useRouter } from 'vue-router';
import {ref} from "vue";
import {api} from "src/api";
import {useQuasar} from "quasar";


const router = useRouter()
const route = useRoute()
const $q = useQuasar()
const userName = ref()



const backToPreviousPage = () => {
  // router.push(-1)
  router.push("/")
}

const setNotify = (message, color = 'black') => {
  $q.notify({
    color: color,
    position: 'top',
    message: message,
    textColor: 'white',
  })
}

const submitName = async () => {
    const res = await api.auth.post(userName.value)
  setNotify(res.data.token)

localStorage.setItem('token', res.data.token);
localStorage.setItem('agentName', userName.value);


  await router.push("/special-app/")



};


const continueAsGuest = async () => {
  const res2 = await api.scores.post("tnt",134, 2, 11)
  const res3 = await api.scores.get()
  console.log(res3)
  // router.push("/special-app")

  // –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∂–∏–º –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  // –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–µ–∫—Ä–¥–∞ –º—ã –±–µ—Ä–µ–º –∏–º—è –∏–≥—Ä—ã –∏–∑ —Ä–∞—É—Ç–∞, –≤—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö, –æ—à–∏–±–∫–∏/—á–∏—Ç—ã, —ç–π–¥–∂–µ–Ω—Ç –Ω—ç–π–º –∏–∑ –ª–æ–∫–∞–ª
  // (—Å—Ç–æ—Ä–∏–¥–∂–∞)


$q.notify({message:res2})
};


</script>

<style lang="scss" scoped>
.inside-phone-frame{
  padding: 1px 15px;
}

.backgroundImg {
  width: 100%;
  height: 100vh;
  top: 0;
  left: 0;
  position: fixed;
  object-fit: cover;
  z-index: -1;
  right: 0;
  bottom: 0;

}
#phoneFrame {
  position: relative; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –µ–≥–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è
  height: 655px; // –í—ã—Å–æ—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
  width: 310px; // –®–∏—Ä–∏–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
  background:
    linear-gradient( // –§–æ–Ω–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç
        to top, // –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
        #fff -250%, // –ë–µ–ª—ã–π —Ü–≤–µ—Ç
        #000000 150% // –ß–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç
    );
  margin: 5px auto; // –û—Ç—Å—Ç—É–ø—ã —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É, —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
  border-radius: 2em; // –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤
  border: solid 5px #6a6a6a; // –†–∞–º–∫–∞ –≤–æ–∫—Ä—É–≥ —ç–ª–µ–º–µ–Ω—Ç–∞
  box-shadow: // –¢–µ–Ω–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞
    inset 0 0 2px 7px #000, // –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ç–µ–Ω—å
    inset 0 0 3px 7px #000, // –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ç–µ–Ω—å
    0 150px 200px -80px #000; // –í–Ω–µ—à–Ω—è—è —Ç–µ–Ω—å
  overflow: auto; // –û–±—Ä–µ–∑–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, –µ—Å–ª–∏ –æ–Ω–æ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —ç–ª–µ–º–µ–Ω—Ç–∞

  // –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
  &::-webkit-scrollbar {
    width: 8px; // –®–∏—Ä–∏–Ω–∞ –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
  }

  &::-webkit-scrollbar-track {
    background: transparent; // –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
  }

  &::-webkit-scrollbar-thumb {
    background: gray; // –¶–≤–µ—Ç –ø–æ–ª–∑—É–Ω–∫–∞
    border-radius: 10px; // –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ –ø–æ–ª–∑—É–Ω–∫–∞
  }

  &::-webkit-scrollbar-thumb:hover {
    background: darkgray; // –¶–≤–µ—Ç –ø–æ–ª–∑—É–Ω–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
  }

  &::before {
    // –ü—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º
    text-align: center; // –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É
    word-spacing: 6em; // –ü—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É —Å–ª–æ–≤–∞–º–∏
    color: #fff; // –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞
    font-family: helvetica; // –®—Ä–∏—Ñ—Ç
    font-size: .7em; // –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
    display: block; // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–∫ –±–ª–æ—á–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
    height: 240px; // –í—ã—Å–æ—Ç–∞ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–∞
    width: 240px; // –®–∏—Ä–∏–Ω–∞ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–∞
    position: absolute; // –ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    margin: 30px; // –û—Ç—Å—Ç—É–ø—ã
  }
}


.closeThisPage {
  display: block;
  margin: 0 auto;
  border-radius: 30px;
  background-color: transparent;

}

.registration-container {
  display: flex; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º flexbox –¥–ª—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å—Ç—Ä–æ–∫—É */
  justify-content: space-between; /* –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
  flex-direction: column;
  align-items: center;

  gap: 10px;
  margin-top: 20px;
}


.name-input {
  padding: 10px;
  border-radius: 10px;
  border: 2px solid #6a6a6a;
  width: 80%;
  font-size: 16px;
}

.bubble {
  text-align: center;
  user-select: none;
  font-family: "Permanent Marker";
  font-size: 17px;
  display: inline-block;
  position: absolute;

  border-radius: 10px;
  border: 3px solid black;
  background: white;
  clear: both;
  padding: 15px;

  &:before {
    content: '';
    position: absolute;
    bottom: -50px;
    height: 50px;
    width: 90px;

  }

  &.left {
    float: left;
    margin: 20px 1px 62px 180px;

    &:before {
      border-radius: 0 0 100%;
      box-shadow:
        -2px -2px 0 0 #000 inset,
        -23px 0 0 0 #fff inset,
        -25px -2px 0 0 #000 inset;
      left: 0;
    }

  }
  &.right {
    float: right;
    margin: 10px 10px 60px 10px;
    &:before {
      border-radius: 0 0 0 100%;
      box-shadow:
        2px -2px 0 0 #000 inset,
        23px 0 0 0 #fff inset,
        25px -2px 0 0 #000 inset;
      right: 0;
    }
  }

  &.think {
    &:before {
      height: 3px;
      width: 3px;
      bottom: -20px;
      border-radius: 100%;
      background: #fff;
    }
    &.left:before {
      left: 50px;
      box-shadow:
        0 0 0 7px white,
        0 0 0 10px black,
        -20px 15px 0 5px white,
        -20px 15px 0 8px black,
        -40px 20px 0 2px white,
        -40px 20px 0 5px black;
    }
    &.right:before {
      right: 50px;
      box-shadow:
        0 0 0 7px white,
        0 0 0 10px black,
        20px 15px 0 5px white,
        20px 15px 0 8px black,
        40px 20px 0 2px white,
        40px 20px 0 5px black;
    }
  }
  &.yell {
    &:before {
      height: 0px;
      width: 0px;
      bottom: -8px;
      border-radius: 0;
      background: #fff;
    }
    &:after {
      content: '';
      position: absolute;
      bottom: -41px;
      height: 20px;
      width: 59px;
    }
    &.left {
      &:before {
        transform: skew(-45deg);
        left: 50px;
        box-shadow:
          //0 0 0 7px white,
          0 -3px 0 5px white,
          0 0 0 5px white,
          0 8px 0 5px white,
          8px 8px 0 5px white,
          16px 8px 0 5px white,
          24px 8px 0 5px white,

          0 0 0 8px black,
          0 8px 0 8px black,
          8px 8px 0 8px black,
          16px 8px 0 8px black,
          24px 8px 0 8px black;
      }
      &:after {
        border-radius: 0 0 60%;
        transform: skew(-45deg);
        box-shadow:
          -3px -2px 0 0 #000 inset,
          -14px 0 0 0 #fff inset,
          -17px -2px 0 0 #000 inset;
        left: 0;
      }
    }
    &.right {
      &:before {
        transform: skew(45deg);
        right: 50px;
        box-shadow:
          0 -3px 0 5px white,
          0 0 0 5px white,
          0 8px 0 5px white,
          -8px 8px 0 5px white,
          -16px 8px 0 5px white,
          -24px 8px 0 5px white,
          0 0 0 8px black,
          0 8px 0 8px black,
          -8px 8px 0 8px black,
          -16px 8px 0 8px black,
          -24px 8px 0 8px black;
      }
      &:after {
        border-radius: 0 0 0 60%;
        transform: skew(45deg);
        box-shadow:
          3px -2px 0 0 #000 inset,
          14px 0 0 0 #fff inset,
          17px -2px 0 0 #000 inset;
        right: 0;
      }
    }
  }

}



</style>
