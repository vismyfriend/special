import{p as D,u as $,r as l,f as F,C as q,o as z,b as o,c as u,e as m,s as L,t as p,j as M,F as g,q as E,n as S}from"./index.7ec98dab.js";import{s as V}from"./short-words-data.d4fc36e7.js";import{u as j}from"./example-store.a8d08e05.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";const K={class:"progress-container"},O={key:0,class:"progress-text"},Q={key:0,class:"row"},T={class:"col"},U=["onClick"],X={class:"col"},Y=["onClick"],Z={__name:"GameFindPairsHard",setup(W){const A=D(),H=$(),b=j(),k=s=>s.sort(()=>Math.random()-.5),C=l(),r=l(),i=l([]),n=l([]),y=l(0),_=l(0),P=l(5),v=l(0),w=F(()=>{var s;return((s=r.value)==null?void 0:s.length)||0}),I=F(()=>`${v.value/w.value*100}%`),d=l(0),x=()=>{const s=Math.round(v.value/w.value*100);d.value<s?(d.value+=1,requestAnimationFrame(x)):d.value=s};q(v,x);const N=(s,a)=>k(s).slice(0,a),f=s=>{var e;let a=(e=r.value)==null?void 0:e.map(t=>({id:t.id,lang:t[s],active:!1,visible:!0}));return a=a.slice(_.value,P.value),k(a)},h=s=>{switch(s){case"left":i.value.forEach(a=>a.active=!1);break;case"right":n.value.forEach(a=>a.active=!1);break;default:i.value.forEach(a=>a.active=!1),n.value.forEach(a=>a.active=!1);break}},G=(s,a)=>{let e,t;if(a==="left"){if(h(a),e=i.value.find(c=>c.id===s),e.active=!0,t=n.value.find(c=>c.active),!t)return}else if(h(a),t=n.value.find(c=>c.id===s),t.active=!0,e=i.value.find(c=>c.active),!e)return;e.id===t.id&&R(t,e),h()},R=(s,a)=>{s.visible=!1,a.visible=!1,v.value++,i.value.every(t=>t.visible===!1)&&(P.value+=5,_.value+=5,_.value<r.value.length?(n.value=f("ru"),i.value=f("eng")):B())},B=()=>{b.setLastGameResults(y.value,20),b.setGameName("FindPairsHard"),A.push("/leader-board/")};return z(()=>{C.value=H.params.missionName,r.value=V[C.value],r.value=N(r.value,20),n.value=f("ru"),i.value=f("eng"),setInterval(()=>{y.value+=10},10)}),(s,a)=>(o(),u(g,null,[m("div",K,[m("div",{class:"progress-bar",style:L({width:I.value})},null,4),v.value>0?(o(),u("div",O,p(d.value)+"%",1)):M("",!0)]),r.value?(o(),u("div",Q,[m("div",T,[(o(!0),u(g,null,E(i.value,e=>(o(),u("div",{class:S(["flex direction-column wordCard",[e.active?"active":"",e.visible?"":"invisible"]]),key:e.id,onClick:t=>G(e.id,"left")},p(e.lang),11,U))),128))]),m("div",X,[(o(!0),u(g,null,E(n.value,e=>(o(),u("div",{class:S(["flex direction-column wordCard",[e.active?"active":"",e.visible?"":"invisible"]]),key:e.id,onClick:t=>G(e.id,"right")},p(e.lang),11,Y))),128))])])):M("",!0)],64))}};var ie=J(Z,[["__scopeId","data-v-548ac431"]]);export{ie as default};
