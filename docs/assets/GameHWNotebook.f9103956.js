import{u as z,b as c,i as v,d as B,o,f as a,h as e,t as l,F as f,q as H,l as u,j as b,m as x,s as D}from"./index.ee6dc8cd.js";import{s as A}from"./short-words-data.0663bef0.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";const F={class:"container"},j={class:"notebook-cover"},L={class:"notebook-page"},P={class:"lesson-title display-none"},Y={class:"words-section"},Z={class:"words-list"},J={class:"word-content"},K={class:"english-word"},O={key:0,class:"hint"},Q={class:"translation"},X={key:0,class:"materials-section"},ee={key:1,class:"homework-section"},te={class:"homework-content"},se={class:"homework-words"},ne={class:"word-header"},oe={class:"word-number"},ae={class:"word-to-translate"},ie=["onClick"],le={key:0,class:"hint-content"},re={class:"hint-text"},ce=["onUpdate:modelValue"],de={class:"homework-submission"},ue=["disabled"],me={__name:"GameHWNotebook",setup(he){const C=z(),p=c(""),d=c([]),_=c(null),k=c(600),m=c(""),i=c([]),w=["Hello, my dear teacher!","Hi, Vincentinushka!","Hello, professor!","What'suuuuup, V!","Hey there, language master!","Zdarova Vinnie!","Hello, wise teacher!","Hi, amazing mentor!","Hey, Boss of English!","Greetings, word guru!","Hello, English sensei!","Yo, my buddy V!","I wish you a great day, my friend!"],M=()=>{const s=Math.floor(Math.random()*w.length);return w[s]},T=v(()=>d.value.length>0),V=v(()=>i.value.length>0),$=v(()=>i.value.every(s=>s.userTranslation&&s.userTranslation.trim()!=="")),I=v(()=>i.value.filter(s=>s.showHint).length),W=()=>{if(d.value.length===0)return[];const s=[...d.value].sort(()=>.5-Math.random());return s.slice(0,Math.min(5,s.length)).map(n=>({...n,userTranslation:"",showHint:!1}))},G=s=>{s.showHint=!s.showHint},N=()=>{console.log("Homework validation updated")},E=async s=>{try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(s),!0;{const n=document.createElement("textarea");return n.value=s,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),!0}}catch(n){return console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430:",n),!1}},S=async()=>{const s="vismyfriend",n=M();let t="";const r="!".repeat(I.value);m.value.trim()?t+=`${n}${r} 

I am not a lazy ass, and it is my message to you: 
"${m.value.trim()}"

`:t+=`${n}${r}

I am a little lazy today.
And how do you feel?
It is my homework: 

`,t+=`Words from homework:
`,i.value.forEach((g,y)=>{t+=`${y+1}. ${g.eng}
`}),t+=`
My translation:
`,i.value.forEach((g,y)=>{t+=`${y+1}. ${g.userTranslation}
`}),await E(t),alert(`\u2705 \u0423\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E!
\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u043C \u0443\u0447\u0438\u043B\u043A\u0435... 

 \u0415\u0441\u043B\u0438 \u0432\u0430\u0448\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u043D\u0435 \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u0441\u044F \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438, \u0442\u043E\u0433\u0434\u0430:

\u{1F4BB} \u041D\u0430 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435: 
\u043A\u043B\u0438\u043A \u043F\u0440\u0430\u0432\u043E\u0439 \u043A\u043D\u043E\u043F\u043A\u043E\u0439 \u2192 \u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C
\u{1F4F1}\u041D\u0430 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0435: 
\u0437\u0430\u0436\u043C\u0438\u0442\u0435 \u043F\u0430\u043B\u044C\u0446\u0435\u043C \u2192 \u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C`);const h=`https://t.me/${s}?text=${encodeURIComponent(t)}`;window.open(h,"_blank")},R=()=>{if(!_.value)return 600;const s=_.value.scrollHeight;return Math.max(600,s+50)},U=()=>{const s=document.querySelector(".print-controls");s&&(s.style.display="none"),setTimeout(()=>{window.print(),setTimeout(()=>{s&&(s.style.display="block")},500)},100)};return B(()=>{p.value=C.params.missionName||"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u0443\u0440\u043E\u043A",d.value=A[p.value]||[],i.value=W(),setTimeout(()=>{k.value=R()},100)}),(s,n)=>(o(),a("div",F,[e("div",{class:"notebook-wrapper",style:D({height:k.value+"px"})},[e("div",j,[e("div",L,[n[4]||(n[4]=e("div",{class:"notebook-grid"},null,-1)),e("div",{class:"notebook-content",ref_key:"contentRef",ref:_},[e("div",P,' "'+l(p.value)+'" ',1),e("div",Y,[n[1]||(n[1]=e("div",{class:"section-title display-none"},"\u0421\u0435\u043A\u0440\u0435\u0442\u043D\u0430\u044F \u043C\u0438\u0441\u0441\u0438\u044F : ",-1)),n[2]||(n[2]=e("div",{class:"lesson-title"},null,-1)),e("div",Z,[(o(!0),a(f,null,H(d.value,(t,r)=>(o(),a("div",{class:"word-line",key:t.id},[e("div",J,[e("span",K,l(t.eng),1),t.hint?(o(),a("span",O,l(t.hint),1)):u("",!0),e("span",Q,"- "+l(t.ru),1)])]))),128))])]),T.value?(o(),a("div",X,n[3]||(n[3]=[e("div",{class:"section-title"}," \u041E\u0445 \u0443\u0436 \u044D\u0442\u043E\u0442 Vincent...",-1),e("div",{class:"materials-content"},[e("p",null,"\u043D\u0430\u043F\u0440\u0438\u0434\u0443\u043C\u044B\u0432\u0430\u0435\u0442 \u0444\u0440\u0430\u0437 \u0432\u0441\u044F\u043A\u0438\u0445, a \u043C\u043D\u0435"),e("p",null,"\u043F\u0438\u0441\u0430\u0442\u044C \u0438 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0438\u0442\u044C... \u041B\u0430\u0434\u043D\u043E, \u043D\u0430\u043F\u0438\u0448\u0443!"),e("p",null,"\u042F \u0436\u0435 \u043F\u043E\u043D\u0438\u043C\u0430\u044E, \u0447\u0442\u043E \u0443\u0447\u0438\u043B\u043A\u0430 \u0434\u043B\u044F \u043C\u0435\u043D\u044F"),e("p",null,"\u0441\u0442\u0430\u0440\u0430\u043B\u0441\u044F. \u0418 \u044F \u043D\u0435 \u043B\u0435\u043D\u0438\u0432\u0430\u044F \u0437\u0430\u0434\u043D\u0438\u0446\u0430! ")],-1)]))):u("",!0),V.value?(o(),a("div",ee,[e("div",te,[e("div",se,[(o(!0),a(f,null,H(i.value,(t,r)=>(o(),a("div",{class:"homework-word",key:"hw-"+r},[e("div",ne,[e("span",oe,l(r+1)+". ",1),e("span",ae,l(t.ru),1),t.hint&&!t.showHint?(o(),a("span",{key:0,class:"hint-icon",onClick:h=>G(t)}," \u{1F50D}\uFE0F \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0443 ",8,ie)):u("",!0)]),t.showHint?(o(),a("div",le,[e("span",re,l(t.hint),1)])):u("",!0),b(e("input",{type:"text","onUpdate:modelValue":h=>t.userTranslation=h,placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434...",class:"translation-input",onInput:N},null,40,ce),[[x,t.userTranslation]])]))),128))]),e("div",de,[b(e("textarea",{class:"message-input","onUpdate:modelValue":n[0]||(n[0]=t=>m.value=t),placeholder:"\u0421\u043E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0434\u043B\u044F \u0412\u0438 \u0447\u0442\u043E-\u043D\u0438\u0431\u0443\u0434\u044C \u0438\u0437 \u0441\u043B\u043E\u0432 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435, \u043F\u0443\u0441\u0442\u044C \u0442\u043E\u0436\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0438\u0442 (\u043B\u044E\u0431\u043E\u0435 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435)!"},null,512),[[x,m.value]]),e("button",{class:"homework-submit-btn",onClick:S,disabled:!$.value}," Send to Vismyfriend \u2192 ",8,ue)])])])):u("",!0)],512)])])],4),e("div",{class:"print-controls"},[e("button",{class:"print-button",onClick:U},"\u0420\u0430\u0441\u043F\u0435\u0447\u0430\u0442\u0430\u0442\u044C \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B")])]))}};var ge=q(me,[["__scopeId","data-v-d46eb94a"]]);export{ge as default};
