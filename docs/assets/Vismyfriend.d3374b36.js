import{b as d,d as b,e as L,o as p,f,h as c,t as D,s as E,p as B,a as A,Q as M,F as Y,q as k,c as P}from"./index.55083d55.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";const X={class:"title-bar"},I=300,V=200,z={__name:"DraggableWindow",props:["title","position","isActive"],emits:["updatePosition","setActiveWindow"],setup(u,{emit:v}){const m=u,r=v,a=d(!1),l=d({x:0,y:0}),e=d(1),s=t=>{a.value=!0,e.value=1,e.value=e.value+1,r("setActiveWindow",m.title);const i=t.touches?t.touches[0].clientX:t.clientX,g=t.touches?t.touches[0].clientY:t.clientY;l.value.x=i-t.target.getBoundingClientRect().left,l.value.y=g-t.target.getBoundingClientRect().top,t.touches&&t.preventDefault()},o=t=>{if(a.value){const i=t.touches?t.touches[0].clientX:t.clientX;let w=(t.touches?t.touches[0].clientY:t.clientY)-l.value.y,_=i-l.value.x;const x=window.innerHeight-V,y=window.innerWidth-I;w=Math.max(0,Math.min(w,x)),_=Math.max(0,Math.min(_,y));const W={top:`${w}px`,left:`${_}px`};e.value=1,e.value=e.value+1,r("updatePosition",W),t.touches&&t.preventDefault()}},n=()=>{a.value=!1,e.value=e.value+1};return b(()=>{window.addEventListener("mousemove",o),window.addEventListener("mouseup",n),window.addEventListener("touchmove",o,{passive:!1}),window.addEventListener("touchend",n)}),L(()=>{window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",n),window.removeEventListener("touchmove",o),window.removeEventListener("touchend",n)}),(t,i)=>(p(),f("div",{class:"draggable-window",style:E({top:u.position.top,left:u.position.left,zIndex:e.value}),onMousedown:s,onTouchstart:s},[c("div",X,D(u.title),1),i[0]||(i[0]=c("div",{class:"content"},[c("p",null,"\u042D\u0442\u043E \u0442\u0435\u0441\u0442\u043E\u0432\u043E\u0435 \u043E\u043A\u043D\u043E. \u041F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0439\u0442\u0435 \u043C\u0435\u043D\u044F!")],-1))],36))}};var $=h(z,[["__scopeId","data-v-62bcf376"]]);const C={class:"background"},R={class:"content"},S={__name:"Vismyfriend",setup(u){const v=B(),m=()=>{v.push("/")},r=d([{title:"Window 1",position:{top:"50px",left:"50px"}},{title:"Window 2",position:{top:"100px",left:"100px"}}]),a=d(""),l=(s,o)=>{r.value[s].position=o},e=s=>{a.value=s};return(s,o)=>(p(),f("div",C,[c("div",R,[o[0]||(o[0]=c("h2",null,"\u0422\u0443\u0442 \u043A\u043E\u0433\u0434\u0430-\u0442\u043E \u043F\u043E\u044F\u0432\u0438\u0442\u0441\u044F \u0438\u043D\u0444\u0430 \u0438\u043B\u0438 \u0433\u043E\u043B\u0435\u043D\u044C\u043A\u0438\u0439 \u0412\u0438",-1)),A(M,{class:"q-mb-sm zoomIn",icon:"mail",label:"\u041F\u0440\u043E\u0439\u0442\u0438 \u0442\u0435\u0441\u0442",push:"",color:"primary",onClick:m})]),c("div",null,[(p(!0),f(Y,null,k(r.value,(n,t)=>(p(),P($,{key:t,title:n.title,position:n.position,isActive:a.value===n.title,onUpdatePosition:i=>l(t,i),onSetActiveWindow:e},null,8,["title","position","isActive","onUpdatePosition"]))),128))])]))}};var q=h(S,[["__scopeId","data-v-ff954b66"]]);export{q as default};
