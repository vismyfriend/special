import{p as R,b as x,d as b,o as f,f as p,h as y,F as D,q as T,l as H,s as S,t as P}from"./index.30c503e9.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";const N=["onMousedown"],O={class:"color-text"},V={key:0,class:"success-message"},$={__name:"noCanvasTest",setup(j){const W=R(),_=x(null),F=[{text:"\u041A\u0440\u0430\u0441\u043D\u044B\u0439",color:"#FF0000"},{text:"\u041E\u0440\u0430\u043D\u0436\u0435\u0432\u044B\u0439",color:"#FF7F00"},{text:"\u0416\u0435\u043B\u0442\u044B\u0439",color:"#FFFF00"},{text:"\u0417\u0435\u043B\u0435\u043D\u044B\u0439",color:"#00FF00"},{text:"\u0413\u043E\u043B\u0443\u0431\u043E\u0439",color:"#00FFFF"},{text:"\u0421\u0438\u043D\u0438\u0439",color:"#0000FF"},{text:"\u0424\u0438\u043E\u043B\u0435\u0442\u043E\u0432\u044B\u0439",color:"#8B00FF"}],c=x([]),a=x(null),m=x({x:0,y:0}),M=x(!1),w=()=>{const o=[...F];for(let t=o.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[o[t],o[n]]=[o[n],o[t]]}c.value=o.map((t,n)=>{const r=Math.floor(6.666666666666667),g=Math.floor(n/r),i=n%r,u=Math.min(o.length-g*r,r)*100+(Math.min(o.length-g*r,r)-1)*20;return{...t,x:i*(100+20)+(800-u)/2,y:g*(60+40),width:100,height:60,zIndex:n,isDragging:!1,targetX:i*(100+20)+(800-u)/2,targetY:g*(60+40)}})},k=(o,t,n)=>{const d=_.value.getBoundingClientRect();o.currentTarget.getBoundingClientRect(),m.value={x:o.clientX-d.left-t.x,y:o.clientY-d.top-t.y},a.value=t,t.isDragging=!0,c.value.forEach(s=>{s.zIndex>t.zIndex&&s.zIndex--}),t.zIndex=c.value.length},X=o=>{if(!a.value)return;const t=_.value.getBoundingClientRect();a.value.x=o.clientX-t.left-m.value.x,a.value.y=o.clientY-t.top-m.value.y,z()},z=()=>{if(!a.value)return;[...c.value].sort((e,h)=>e.x-h.x).findIndex(e=>e===a.value);const t=100,n=20,d=800,s=60+40,v=Math.round(a.value.y/s),l=c.value.filter(e=>Math.round(e.y/s)===v&&e!==a.value).sort((e,h)=>e.x-h.x);let r=l.findIndex(e=>a.value.x<e.x);r===-1&&(r=l.length);const g=(l.length+1)*t+l.length*n;let i=(d-g)/2,u=0;for(let e=0;e<=l.length;e++)e===r?(a.value.targetX=i,a.value.targetY=v*s,i+=t+n):u<l.length&&(l[u].targetX=i,l[u].targetY=v*s,i+=t+n,u++);c.value.forEach(e=>{if(e!==a.value){const h=e.targetX-e.x,C=e.targetY-e.y;Math.abs(h)>1||Math.abs(C)>1?(e.x+=h*.2,e.y+=C*.2):(e.x=e.targetX,e.y=e.targetY)}})},I=()=>{!a.value||(a.value.x=a.value.targetX,a.value.y=a.value.targetY,a.value.isDragging=!1,a.value=null,Y())},Y=()=>{const o=[...c.value].sort((t,n)=>t.y-n.y||t.x-n.x).map(t=>t.text);M.value=o.every((t,n)=>t===F[n].text)};b(()=>{w()});const B=()=>{W.push("/")};return(o,t)=>(f(),p("div",null,[y("button",{class:"closeThisPage",onClick:B},"close Special App \u274C"),y("div",{class:"game-container",onMousemove:X,onMouseup:I,onMouseleave:I,ref_key:"gameContainer",ref:_},[(f(!0),p(D,null,T(c.value,(n,d)=>(f(),p("div",{key:n.text,class:"color-card",style:S({backgroundColor:n.color,transform:`translate(${n.x}px, ${n.y}px)`,zIndex:n.zIndex,transition:n.isDragging?"none":"transform 0.3s ease"}),onMousedown:s=>k(s,n)},[y("div",O,P(n.text),1)],44,N))),128))],544),M.value?(f(),p("div",V," \u0420\u0430\u0434\u0443\u0433\u0430 \u0441\u043E\u0431\u0440\u0430\u043D\u0430 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E! \u{1F308} ")):H("",!0)]))}};var L=E($,[["__scopeId","data-v-73100c27"]]);export{L as default};
