import{a as _}from"./index.e3dcd663.js";import{n as h,r as c,o as N,b as r,c as o,d as e,i as f,t as l,u as m,F as B,l as b,f as v,x as w}from"./index.4fa58fb4.js";import{u as G}from"./example-store.7fc5ca21.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";const R={class:"result"},$={key:0,class:"leaderboard"},x={key:0,class:"highlight-row"},A={__name:"LeaderBoard",setup(C){h();const a=G();c({minutes:0,seconds:0,mistakes:0});const g=[{agent:"\u0410\u0433\u0435\u043D\u0442 A",time:"1 min 30 sec"},{agent:"\u0410\u0433\u0435\u043D\u0442 B",time:"2:15:187"},{agent:"\u0410\u0433\u0435\u043D\u0442 C",time:"3 \u043C\u0438\u043D 5 \u0441\u0435\u043A"},{agent:"\u0410\u0433\u0435\u043D\u0442 D",time:"3 \u043C\u0438\u043D 50 \u0441\u0435\u043A"},{agent:"\u0410\u0433\u0435\u043D\u0442 E",time:"6 \u043C\u0438\u043D 0 \u0441\u0435\u043A",mistakes:"20"},{agent:"\u0410\u0433\u0435\u043D\u0442 F",time:"7 \u043C\u0438\u043D 20 \u0441\u0435\u043A"},{agent:"\u0410\u0433\u0435\u043D\u0442 G",time:"10 \u0447\u0430\u0441\u043E\u0432"}],n=c(),u=c(),p=async()=>{try{const t=(await _.scores.get()).data[a.gameName];console.log(t),Array.isArray(t)?n.value=t:(console.warn("\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u043D\u0435 \u044F\u0432\u043B\u044F\u044E\u0442\u0441\u044F \u043C\u0430\u0441\u0441\u0438\u0432\u043E\u043C! \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E \u0437\u0430\u043F\u0430\u0441\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",t),n.value=g)}catch(s){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0442\u0430\u0431\u043B\u0438\u0446\u044B \u043F\u043E\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u0435\u0439, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E \u0437\u0430\u043F\u0430\u0441\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",s),n.value=g}},y=()=>{n.value=n.value.sort((s,t)=>s.time-t.time),n.value.forEach((s,t)=>{s.time=s.time/1e3,s.agent===a.$state.agentName&&(u.value=t+1)})},k=async()=>{await _.scores.post(a.$state.gameName,a.$state.lastGameResults.time,a.$state.lastGameResults.mistakes,a.$state.agentName)};return N(async()=>{await k(),await p(),y()}),(s,t)=>(r(),o("div",R,[e("p",null,[f("\u041F\u043E\u0437\u0434\u0440\u0430\u0432\u043B\u044F\u0435\u043C! "+l(m(a).$state.agentName)+" ",1),t[0]||(t[0]=e("br",null,null,-1)),t[1]||(t[1]=f(" \u0432\u043E\u0448\u0435\u043B \u0432 \u0438\u0441\u0442\u043E\u0440\u0438\u044E!!"))]),t[3]||(t[3]=e("p",null,"\u0441\u0434\u0435\u043B\u0430\u0439 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442 \u0438 \u043F\u043E\u0445\u0432\u0430\u0441\u0442\u0443\u0439\u0441\u044F \u0442\u0438\u0447\u0435\u0440\u0443!",-1)),n.value?(r(),o("div",$,[e("table",null,[t[2]||(t[2]=e("thead",null,[e("tr",null,[e("th",null,"\u{1F3C6}"),e("th",null,"agent"),e("th",null,"time"),e("th",null,"fails")])],-1)),e("tbody",null,[(r(!0),o(B,null,b(n.value.slice(0,7),(i,d)=>(r(),o("tr",{key:d,class:w({"highlight-row":u.value===d+1})},[e("td",null,l(d+1),1),e("td",null,l(i.agent),1),e("td",null,l(i.time),1),e("td",null,l(i.mistakes),1)],2))),128)),u.value>7?(r(),o("tr",x,[e("td",null,l(u.value),1),e("td",null,"\u0412\u044B: "+l(m(a).agentName),1),e("td",null,l(m(a).lastGameResults.time/1e3),1),e("td",null,l(m(a).lastGameResults.mistakes),1)])):v("",!0)])])])):v("",!0)]))}};var V=L(A,[["__scopeId","data-v-66ce7eff"]]);export{V as default};
