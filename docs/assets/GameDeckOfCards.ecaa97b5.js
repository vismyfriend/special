import{j as S,u as x,r as u,c as P,C as R,o as M,b as v,d as _,e as t,t as f,F as q,q as G,g as I,h as D,A as W}from"./index.f3ae645f.js";import{q as B}from"./questions-data.c8aa9c58.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";const A={key:0,class:"game-container"},U=["disabled"],z={class:"deck-of-cards"},F={class:"card-content"},V={class:"card-text"},$={class:"word"},j={class:"translation"},Q={class:"remaining-cards",ref:"remainingCardsContainer"},Z={class:"card-content"},J={class:"card-text"},K={class:"word"},X={class:"translation"},O=1e3,Y={__name:"GameDeckOfCards",setup(ee){S();const b=x(),k=/iPhone|iPad|iPod/i.test(navigator.userAgent),m=u([]),s=u(null);let n=[];const o=u([]),h=u(!1),w=e=>e.sort(()=>Math.random()-.5),i=()=>{if(n.length===0){L();return}const e=n.pop();s.value&&o.value.push(s.value),s.value=e},p=()=>{if(o.value.length===0)return;const e=o.value.pop();s.value&&n.push(s.value),s.value=e},L=()=>{alert("\u0418\u0433\u0440\u0430 \u043E\u043A\u043E\u043D\u0447\u0435\u043D\u0430! \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430.")},T=P(()=>n),E=e=>({top:`${e*1.5}px`,left:`${e*1.5}px`});let r=0,c=!0;const g=e=>{const{beta:l}=e,a=Date.now(),d=45,y=-30,N=30;Math.abs(l)<N&&(c=!0),c&&(l>d&&a-r>O?(navigator.vibrate&&navigator.vibrate(30),i(),r=a,c=!1):l<y&&a-r>O&&(navigator.vibrate&&navigator.vibrate(30),p(),r=a,c=!1))},C=()=>{window.DeviceOrientationEvent&&(typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"&&(window.addEventListener("deviceorientation",g),h.value=!0)}).catch(console.error):(window.addEventListener("deviceorientation",g),h.value=!0))};return R(()=>{window.removeEventListener("deviceorientation",g)}),M(()=>{const e=b.params.missionName;m.value=B[e]||[],n=w([...m.value]),i(),C()}),(e,l)=>m.value.length?(v(),_("div",A,[t("button",{class:"goBackPage",onClick:p,disabled:o.value.length===0}," ctrl + z ",8,U),t("div",z,[t("div",{class:"wordCard",onClick:i},[t("div",F,[t("div",V,[t("div",$,f(s.value.ru),1),t("div",j,f(s.value.eng),1)])])]),t("div",Q,[(v(!0),_(q,null,G(T.value,(a,d)=>(v(),_("div",{class:"remaining-card",onClick:i,key:d,style:W(E(d))},[t("div",Z,[t("div",J,[t("div",K,f(a.ru),1),t("div",X,f(a.eng),1)])])],4))),128))],512)]),!h.value&&I(k)?(v(),_("button",{key:0,onClick:C,class:"enable-tilt-btn"}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430\u043A\u043B\u043E\u043D\u043E\u043C ")):D("",!0)])):D("",!0)}};var ne=H(Y,[["__scopeId","data-v-4994f71b"]]);export{ne as default};
