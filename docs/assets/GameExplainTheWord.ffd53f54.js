import{u as X,r as o,o as Z,G as J,b as s,c as r,e as t,j as w,w as I,H as P,y as W,t as u,i as Q,F as Y}from"./index.7b5c8b5e.js";import{q as ee}from"./questions-data.e4548d5f.js";import{_ as te}from"./plugin-vue_export-helper.21dcd24c.js";const ne={key:0,class:"modal-overlay"},oe={key:1,class:"game-container"},ae={key:0,class:"modal-overlay"},le={class:"modal-content"},ie={key:1,class:"modal-overlay"},se={class:"modal-content"},re={class:"word"},ue={class:"translation"},ve={class:"counter-row"},$=60,q=120,A=20,de={__name:"GameExplainTheWord",setup(ce){const R=X(),B=/iPhone|iPad|iPod/i.test(navigator.userAgent),y=o([]),k=o([]),C=o([]),a=o({}),v=o(!1),M=o(!0),h=o(!1),g=o(""),i=o(0),E=o(!1),b=o(null),x=o(0),N=o(0),T=o("portrait"),d=()=>{T.value=window.innerWidth>window.innerHeight?"landscape":"portrait"},c=o(!1),p=o("on"),G=()=>{v.value=!1},L=n=>{g.value=`${n}

Next: ${x.value} \u0440\u0430\u0437
Skip: ${N.value} \u0440\u0430\u0437`,v.value=!0},O=()=>{x.value+=1,D()},U=()=>{N.value+=1,D()},S=()=>{H()},V=n=>n.sort(()=>Math.random()-.5),D=()=>{if(k.value.length===0){L("\u{1F389} \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430!");return}a.value&&!a.value.isIntro&&C.value.push(a.value),a.value=k.value.pop()},H=()=>{C.value.length!==0&&(a.value&&k.value.push(a.value),a.value=C.value.pop())},F=()=>{if(E.value){clearInterval(b.value),i.value=0,E.value=!1;return}D(),i.value=10,E.value=!0,b.value=setInterval(()=>{i.value-=1,i.value<=0&&(clearInterval(b.value),E.value=!1,L("\u23F0 \u0412\u0440\u0435\u043C\u044F \u0432\u044B\u0448\u043B\u043E!"))},1e3)};let f=null,_=!0;const m=n=>{if(p.value==="off")return;d();let e=0;if(T.value==="portrait"?e=n.beta:e=-n.gamma,console.log(`Orientation: ${T.value}, Angle: ${e.toFixed(1)}`),e>$&&e<q){_=!0,f=null;return}!_||(e>=q+A&&f!=="forward"&&(O(),_=!1,f="forward"),e<=$-A&&f!=="back"&&(S(),_=!1,f="back"))},z=()=>{window.DeviceOrientationEvent&&(typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(n=>{n==="granted"&&(window.addEventListener("deviceorientation",m),c.value=!0)}):(window.addEventListener("deviceorientation",m),c.value=!0))},K=()=>{M.value=!1},j=async()=>{if(M.value=!1,d(),window.DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"&&(window.addEventListener("deviceorientation",m),c.value=!0,g.value=`\u2705 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,v.value=!0)}catch(n){console.warn("Permission denied",n)}else window.addEventListener("deviceorientation",m),c.value=!0,g.value=`\u2705 \u041D\u0430\u043A\u043B\u043E\u043D\u044B \u0432\u043A\u043B\u044E\u0447\u0435\u043D\u044B!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,v.value=!0};return Z(()=>{const n=R.params.missionName;y.value=ee[n]||[],k.value=V([...y.value]),a.value={ru:"\u041E\u0431\u044A\u044F\u0441\u043D\u0438 \u044D\u0442\u043E \u043C\u043D\u0435",eng:"Explain it to me",isIntro:!0},d(),window.addEventListener("resize",d)}),J(()=>{clearInterval(b.value),window.removeEventListener("deviceorientation",m),window.removeEventListener("resize",d)}),(n,e)=>(s(),r(Y,null,[M.value?(s(),r("div",ne,[t("div",{class:"modal-content"},[e[5]||(e[5]=t("p",null,"\u0412\u044B \u0438\u0433\u0440\u0430\u0435\u0442\u0435 \u0441 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u0438\u043B\u0438 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430?",-1)),t("button",{onClick:j},"\u{1F4F1} \u0421 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E"),t("button",{onClick:K},"\u{1F4BB} \u0421 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430")])])):w("",!0),y.value.length?(s(),r("div",oe,[t("button",{onClick:e[0]||(e[0]=l=>h.value=!0)},"\u2699"),h.value?(s(),r("div",ae,[t("div",le,[e[8]||(e[8]=t("p",null,"\u0420\u0435\u0436\u0438\u043C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043D\u0430\u043A\u043B\u043E\u043D\u0430\u043C\u0438:",-1)),t("label",null,[I(t("input",{type:"radio",value:"off","onUpdate:modelValue":e[1]||(e[1]=l=>p.value=l)},null,512),[[P,p.value]]),e[6]||(e[6]=W(" \u{1F515} \u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),e[9]||(e[9]=t("br",null,null,-1)),t("label",null,[I(t("input",{type:"radio",value:"on","onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l)},null,512),[[P,p.value]]),e[7]||(e[7]=W(" \u{1F4F2} \u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),e[10]||(e[10]=t("br",null,null,-1)),t("button",{onClick:e[3]||(e[3]=l=>h.value=!1)},"OK")])])):w("",!0),v.value?(s(),r("div",ie,[t("div",se,[t("p",null,u(g.value),1),t("button",{onClick:G},"OK")])])):w("",!0),t("div",{class:"word-card",onClick:e[4]||(e[4]=(...l)=>n.toggleTranslation&&n.toggleTranslation(...l))},[t("div",re,u(a.value.eng),1),t("div",ue,u(a.value.ru),1)]),t("div",{class:"timer",onClick:F},u(i.value>0?`${i.value} \u0441\u0435\u043A`:"\u0421\u0442\u0430\u0440\u0442"),1),t("div",{class:"button-row"},[t("button",{onClick:S},"\u2190 Back"),t("button",{onClick:O},"\u2192 Next"),t("button",{onClick:U},"\u23ED Skip")]),t("div",ve,[t("span",null,"Next: "+u(x.value),1),t("span",null,"Skip: "+u(N.value),1)]),!c.value&&Q(B)?(s(),r("button",{key:2,onClick:z}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043D\u0430\u043A\u043B\u043E\u043D\u044B ")):w("",!0)])):w("",!0)],64))}};var we=te(de,[["__scopeId","data-v-17e6a226"]]);export{we as default};
