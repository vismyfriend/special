import{_ as g}from"./plugin-vue_export-helper.21dcd24c.js";import{o as d,f as c,h as i,z as h,t as l,l as u}from"./index.ee6dc8cd.js";const f={name:"GameSnakeCursor",data(){return{canvas:null,ctx:null,gridSize:20,tileCount:14,snake:[{x:7,y:7}],food:{},dx:1,dy:0,score:0,gameSpeed:200,highScore:localStorage.getItem("snakeHighScore")||0,gameRunning:!0,gameLoopInterval:null}},mounted(){this.initGame()},beforeDestroy(){this.cleanup()},methods:{initGame(){this.canvas=this.$refs.gameCanvas,this.ctx=this.canvas.getContext("2d"),this.generateFood(),this.startGameLoop(),window.addEventListener("keydown",this.handleKeyDown)},cleanup(){clearInterval(this.gameLoopInterval),window.removeEventListener("keydown",this.handleKeyDown)},generateFood(){this.food={x:Math.floor(Math.random()*(this.tileCount-2))+1,y:Math.floor(Math.random()*(this.tileCount-2))+1};for(let e of this.snake)if(e.x===this.food.x&&e.y===this.food.y){this.generateFood();return}},drawSnake(){this.ctx.fillStyle="#4CAF50";for(let t of this.snake)this.ctx.fillRect(t.x*this.gridSize,t.y*this.gridSize,this.gridSize-2,this.gridSize-2);const e=this.snake[0];this.ctx.fillStyle="#45a049",this.ctx.fillRect(e.x*this.gridSize,e.y*this.gridSize,this.gridSize-2,this.gridSize-2),this.ctx.font="20px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText("\u{1F575}\uFE0F",e.x*this.gridSize+this.gridSize/2,e.y*this.gridSize+this.gridSize/2)},drawFood(){this.ctx.fillStyle="#ff4757",this.ctx.beginPath(),this.ctx.arc(this.food.x*this.gridSize+this.gridSize/2,this.food.y*this.gridSize+this.gridSize/2,this.gridSize/2-1,0,Math.PI*2),this.ctx.fill()},drawGrid(){this.ctx.strokeStyle="rgba(255, 255, 255, 0.1)",this.ctx.lineWidth=1;for(let e=0;e<=this.tileCount;e++)this.ctx.beginPath(),this.ctx.moveTo(e*this.gridSize,0),this.ctx.lineTo(e*this.gridSize,this.canvas.height),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(0,e*this.gridSize),this.ctx.lineTo(this.canvas.width,e*this.gridSize),this.ctx.stroke()},moveSnake(){const e={x:this.snake[0].x+this.dx,y:this.snake[0].y+this.dy};if(e.x<0||e.x>=this.tileCount||e.y<0||e.y>=this.tileCount){this.gameOver();return}for(let t of this.snake)if(e.x===t.x&&e.y===t.y){this.gameOver();return}this.snake.unshift(e),e.x===this.food.x&&e.y===this.food.y?(this.score+=10,this.generateFood()):this.snake.pop()},gameOver(){this.gameRunning=!1,this.score>this.highScore&&(this.highScore=this.score,localStorage.setItem("snakeHighScore",this.highScore))},restartGame(){this.snake=[{x:4,y:4}],this.dx=1,this.dy=0,this.score=0,this.gameRunning=!0,this.generateFood(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawGrid(),this.drawFood(),this.drawSnake()},handleDirection(e){if(!this.gameRunning)return;const t=this.snake[0];let s=t.x,o=t.y;switch(e){case"up":this.dy!==1&&(o=t.y-1,this.isPositionInSnake(s,o)||(this.dx=0,this.dy=-1));break;case"down":this.dy!==-1&&(o=t.y+1,this.isPositionInSnake(s,o)||(this.dx=0,this.dy=1));break;case"left":this.dx!==1&&(s=t.x-1,this.isPositionInSnake(s,o)||(this.dx=-1,this.dy=0));break;case"right":this.dx!==-1&&(s=t.x+1,this.isPositionInSnake(s,o)||(this.dx=1,this.dy=0));break}},isPositionInSnake(e,t){for(let s=0;s<this.snake.length-1;s++)if(this.snake[s].x===e&&this.snake[s].y===t)return!0;return!1},handleKeyDown(e){if(!!this.gameRunning)switch(e.key){case"ArrowUp":case"w":case"W":case"\u0426":case"\u0446":e.preventDefault(),this.handleDirection("up");break;case"ArrowDown":case"s":case"s":case"\u044B":case"\u042B":e.preventDefault(),this.handleDirection("down");break;case"ArrowLeft":case"a":case"A":case"\u0444":case"\u0424":e.preventDefault(),this.handleDirection("left");break;case"ArrowRight":case"d":case"D":case"\u0412":case"\u0432":e.preventDefault(),this.handleDirection("right");break}},startGameLoop(){this.gameLoopInterval=setInterval(()=>{this.gameRunning&&this.moveSnake(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawGrid(),this.drawFood(),this.drawSnake()},this.gameSpeed)},backToIntroPage(){this.$router.push("/")}}},x={class:"snake-game-container"},k={class:"game-container"},m={class:"canvas-wrapper"},S={ref:"gameCanvas",width:"280",height:"280"},v={class:"controls"},y={class:"control-buttons"},p={class:"game-info"},w={class:"score"},b={class:"high-score"},z={key:0,class:"game-over"};function C(e,t,s,o,r,n){return d(),c("div",x,[i("button",{class:"closeThisPage",onClick:t[0]||(t[0]=(...a)=>n.backToIntroPage&&n.backToIntroPage(...a))},"close game \u274C"),i("div",k,[i("div",m,[i("canvas",S,null,512)]),i("div",v,[i("div",y,[i("button",{class:"control-btn up",onClick:t[1]||(t[1]=a=>n.handleDirection("up"))},"\u2191"),i("button",{class:"control-btn left",onClick:t[2]||(t[2]=a=>n.handleDirection("left"))},"\u2190"),i("button",{class:"control-btn right",onClick:t[3]||(t[3]=a=>n.handleDirection("right"))},"\u2192"),i("button",{class:"control-btn down",onClick:t[4]||(t[4]=a=>n.handleDirection("down"))},"\u2193")])]),t[8]||(t[8]=i("h1",null,"\u{1F40D} Snake Game",-1)),t[9]||(t[9]=i("p",{class:"subtitle"},"\u0412\u0438\u043D\u0441\u0435\u043D\u0442 \u0438\u0437 \u043C\u0430\u043C\u0438\u043D \u043A\u043E\u0434\u0435\u0440)",-1)),i("div",p,[i("div",w,[t[6]||(t[6]=h("Score: ")),i("span",null,l(r.score),1)]),i("div",b,[t[7]||(t[7]=h("High Score: ")),i("span",null,l(r.highScore),1)])]),t[10]||(t[10]=i("div",{class:"instructions"},[i("p",null,[i("strong",null,"Controls:")]),i("p",null,"\u2022 Use arrow keys or WASD to move"),i("p",null,"\u2022 Click the control buttons above"),i("p",null,"\u2022 Eat the food to grow and increase your score!")],-1))]),r.gameRunning?u("",!0):(d(),c("div",z,[t[12]||(t[12]=i("h2",null,"You are special!",-1)),i("p",null,[t[11]||(t[11]=h("Your score is : ")),i("span",null,l(r.score),1)]),i("button",{class:"restart-btn",onClick:t[5]||(t[5]=(...a)=>n.restartGame&&n.restartGame(...a))},"Click Start")]))])}var _=g(f,[["render",C],["__scopeId","data-v-d2549a9a"]]);export{_ as default};
