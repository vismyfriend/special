import{j as N,u as x,r as u,c as P,C as R,o as q,b as v,d as _,e as t,t as f,F as B,q as G,g as M,h as D,A as W}from"./index.bd1acd98.js";import{q as H}from"./questions-data.c8aa9c58.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";const F={key:0,class:"game-container"},U=["disabled"],z={class:"deck-of-cards"},V={class:"card-content"},Y={class:"card-text"},$={class:"word"},j={class:"translation"},Q={class:"remaining-cards",ref:"remainingCardsContainer"},Z={class:"card-content"},J={class:"card-text"},K={class:"word"},X={class:"translation"},O=1e3,ee={__name:"GameDeckOfCards",setup(te){N();const E=x(),T=/iPhone|iPad|iPod/i.test(navigator.userAgent),m=u([]),a=u(null);let n=[];const i=u([]),g=u(!1),b=e=>e.sort(()=>Math.random()-.5),h=()=>{if(n.length===0){y();return}const e=n.pop();a.value&&!a.value.isIntro&&i.value.push(a.value),a.value=e},w=()=>{if(i.value.length===0)return;const e=i.value.pop();a.value&&n.push(a.value),a.value=e},y=()=>{alert("\u0418\u0433\u0440\u0430 \u043E\u043A\u043E\u043D\u0447\u0435\u043D\u0430! \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430.")},L=P(()=>n),S=e=>({top:`${e*1.5}px`,left:`${e*1.5}px`});let r=0,c=!0,l=!0;const p=e=>{const{beta:o}=e,s=Date.now(),d=125,I=30,k=90;o<k&&!c&&(c=!0),o>k&&!l&&(l=!0),o>d&&s-r>O&&c?(navigator.vibrate&&navigator.vibrate(30),h(),r=s,c=!1):o<I&&s-r>O&&l&&(navigator.vibrate&&navigator.vibrate(30),w(),r=s,l=!1)},C=()=>{window.DeviceOrientationEvent&&(typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"&&(window.addEventListener("deviceorientation",p),g.value=!0)}).catch(console.error):(window.addEventListener("deviceorientation",p),g.value=!0))};return R(()=>{window.removeEventListener("deviceorientation",p)}),q(()=>{const e=E.params.missionName;m.value=H[e]||[],n=b([...m.value]),a.value={ru:"\u0415\u0441\u043B\u0438 \u0432\u044B \u0443\u0441\u043B\u044B\u0448\u0430\u043B\u0438 YES - \u043D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D \u0432\u043D\u0438\u0437",eng:"If you heard YES - tilt your phone down",isIntro:!0},C()}),(e,o)=>m.value.length?(v(),_("div",F,[t("button",{class:"goBackPage",onClick:w,disabled:i.value.length===0}," ctrl + z ",8,U),t("div",z,[t("div",{class:"wordCard",onClick:h},[t("div",V,[t("div",Y,[t("div",$,f(a.value.ru),1),t("div",j,f(a.value.eng),1)])])]),t("div",Q,[(v(!0),_(B,null,G(L.value,(s,d)=>(v(),_("div",{class:"remaining-card",onClick:h,key:d,style:W(S(d))},[t("div",Z,[t("div",J,[t("div",K,f(s.ru),1),t("div",X,f(s.eng),1)])])],4))),128))],512)]),!g.value&&M(T)?(v(),_("button",{key:0,onClick:C,class:"enable-tilt-btn"}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430\u043A\u043B\u043E\u043D\u043E\u043C ")):D("",!0)])):D("",!0)}};var oe=A(ee,[["__scopeId","data-v-690d1086"]]);export{oe as default};
