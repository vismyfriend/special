import{u as je,b as g,d as Ve,o as a,f as c,h as r,t as p,F as _,q as k,n as D,l as b,z as x,G as q,x as Xe,s as U,j as N,I as he,m as W,D as _e,J as Je}from"./index.d86366fc.js";import{T as Ye}from"./TestsAndExamsData.ebb71e97.js";import{_ as Ze}from"./plugin-vue_export-helper.21dcd24c.js";const Ie={key:0,class:"exercise-container"},xe={class:"exercise-header"},qe={class:"header-bottom"},et={class:"task-counter"},tt={key:0,class:"audio-player-sticky-container"},st={controls:"",class:"audio-player",controlsList:"nodownload",oncontextmenu:"return false;"},ot=["src"],nt={class:"task-content"},lt={key:0,class:"useful-words-container"},rt={class:"useful-words"},at={class:"useful-words-content"},ct={class:"english-word"},ut={class:"translation"},it={key:0,class:"comma"},dt={class:"task-title"},pt={key:1,class:"task-image-container"},vt=["src","alt"],ft={key:2,class:"true-false-container"},ht={class:"true-false-table"},_t={class:"radio-label"},mt=["name","onUpdate:modelValue"],yt={class:"radio-label"},gt=["name","onUpdate:modelValue"],bt={key:3,class:"multiple-choice-container"},wt={class:"question-text margin-bottom"},kt={key:0,class:"question-image-container"},At=["src","alt"],Ct={class:"options-container"},Dt=["name","value","onClick"],St={class:"option-text"},Tt={key:1,class:"explain-container"},Et={key:0,class:"explanation-content"},$t=["onClick"],zt={key:4,class:"student-input-container"},Ot={class:"question-text"},Ut=["onUpdate:modelValue","onKeyup","onInput","data-task","data-question"],Mt=["onUpdate:modelValue","onInput","data-task","data-question"],Ft={key:0,class:"answer-feedback"},Qt={key:0,class:"correct-answer"},Nt={key:1,class:"correct-answer"},Pt={key:2,class:"almost-answer"},Gt={key:3,class:"incorrect-answer"},Ht={key:5,class:"drop-down-text-container"},Rt=["onUpdate:modelValue"],Lt=["value"],Wt={key:0,class:"answer-feedback"},Bt={key:0,class:"correct-answer"},Kt={key:1,class:"incorrect-answer"},jt={key:6,class:"grid-table-container"},Vt={class:"grid-table"},Xt=["onUpdate:modelValue","placeholder"],Jt={key:0,class:"grid-table-feedback"},Yt={key:0,class:"correct-feedback"},Zt={key:7,class:"discussion-task-container"},It={class:"question-controls"},xt=["onClick"],qt={class:"question-text"},es={class:"translation-section"},ts=["onClick"],ss={key:1,class:"translation-text"},os={key:1,class:"translation-text collapsed-translation"},ns={class:"task-footer"},ls={class:"task-controls"},rs=["onClick"],as={key:1,class:"seed-control"},cs={class:"seed-display"},us=["onClick"],is=["onClick","data-task-type"],ds=["onClick"],ps={key:0,class:"text-script-content"},vs={class:"task-navigation"},fs=["disabled"],hs=["disabled"],_s={class:"stats-modal-content"},ms={class:"stats-summary"},ys={class:"stat-item"},gs={class:"stat-value"},bs={class:"stat-item"},ws={class:"stat-item"},ks={class:"stat-value"},As={class:"stat-item"},Cs={class:"stat-value"},Ds={class:"stat-item"},Ss={class:"stat-value correct"},Ts={class:"stat-item"},Es={class:"stat-value incorrect"},$s={class:"stat-item"},zs={class:"stat-value"},Os={class:"stat-item highlight"},Us={class:"stat-value grade"},Ms={key:0,class:"stats-questions"},Fs={class:"questions-grid"},Qs={class:"question-number"},Ns={class:"question-breakdown"},Ps={class:"correct"},Gs={class:"incorrect"},Hs={__name:"GameTestsAndExams",setup(Rs){const me=je(),E=g(null),v=g([]),A=g([]),R=g(null),z=g([]),ee=g(""),h=g([]),M=g([]),$=g(0),F=g([]),P=g([]),G=g([]),L=g(!1),B=g([]),K=g([]),Q=g(""),H=g(""),j=g(!1),ye=g(null),ge=async()=>{if(!w.value||!E.value)return;const e="vismyfriend",t=E.value.mainDescription,n=w.value.finalScore,s=w.value.finalGrade,o=`\u043F\u0440\u0438\u0432\u0435\u0442 \u0412\u0438\u043D\u0441\u0435\u043D\u0442, \u044F \u0432\u044B\u043F\u043E\u043B\u043D\u0438\u043B \u0437\u0430\u0434\u0430\u043D\u0438\u0435 "${t}" \u0438 \u043C\u043E\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 ${n}% (${s})`;try{await navigator.clipboard.writeText(o),alert(`\u2705 \u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u043E!

\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u044E \u0443\u0447\u0438\u0442\u0435\u043B\u044E...

\u0422\u0435\u043A\u0441\u0442 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F:
"${o}"`);const l=`https://t.me/${e}?text=${encodeURIComponent(o)}`;window.open(l,"_blank")}catch(l){console.error("Failed to copy:",l),alert("\u274C \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C, \u0441\u043A\u0430\u0436\u0438\u0442\u0435 \u043E\u0431 \u044D\u0442\u043E \u0412\u0438\u043D\u0441\u0435\u043D\u0442\u0443");const u=`https://t.me/${e}?text=${encodeURIComponent(o)}`;window.open(u,"_blank")}},O=g([]),be=e=>{const t=h.value[e];if(!t||t.taskID!=="multiple_choice")return null;let n=0,s=0,o=0,l=0,u=0,d=[];return t.questions.forEach((i,f)=>{var pe,ve;const m=((pe=O.value[e])==null?void 0:pe[f])||[],y=(ve=v.value[e])==null?void 0:ve[f],S=Object.keys(i.options).length;l+=S,y||u++;const T=m.length;n+=T;let Z=0,I=0;m.forEach(fe=>{(Array.isArray(i.correctAnswer)?i.correctAnswer.includes(fe):fe===i.correctAnswer)?Z++:I++}),s+=Z,o+=I,d.push({questionNumber:f+1,questionText:i.text,clicks:T,correctClicks:Z,wrongClicks:I,finalAnswer:y,isFinalCorrect:y&&(Array.isArray(i.correctAnswer)?i.correctAnswer.includes(y):y===i.correctAnswer),optionsCount:S,isSkipped:!y})}),{totalQuestions:t.questions.length,totalOptions:l,totalClicks:n,correctClicks:s,wrongClicks:o,skippedQuestions:u,accuracy:n>0?Math.round(s/n*100):0,finalScore:z.value[e]||0,finalGrade:J(z.value[e]||0).letter,questionsStats:d}},V=g(!1),w=g(null),we=e=>{w.value=be(e),V.value=!0},X=()=>{V.value=!1,w.value=null},ke=()=>Math.random().toString(36).slice(2,8),te=(e,t)=>{const n=[...e];let s=0;for(let o=0;o<t.length;o++)s=(s<<5)-s+t.charCodeAt(o),s|=0;for(let o=n.length-1;o>0;o--){const l=(s%(o+1)+o)%(o+1),u=Math.abs(l);[n[o],n[u]]=[n[u],n[o]]}return n},se=(e,t)=>e.map(n=>{if(n.taskID!=="multiple_choice")return{...n};const o=te([...n.questions],t+"questions").map(l=>{const u=te(Object.entries(l.options),t+"options"+l.text),d={},i={};u.forEach(([m,y],S)=>{const T=String.fromCharCode(65+S);d[T]=y,i[m]=T});let f;return Array.isArray(l.correctAnswer)?f=l.correctAnswer.map(m=>i[m]):f=i[l.correctAnswer],{...l,options:d,correctAnswer:f}});return{...n,questions:o}}),oe=async()=>{H.value.trim()&&(Q.value=H.value.trim()),j.value=!1,E.value&&(h.value=se(E.value.tasks,Q.value),ne())},Ae=()=>{navigator.clipboard.writeText(Q.value)},ne=()=>{v.value=h.value.map(e=>e.taskID==="grid_table"?Le(e):e.taskID==="drop_down_text"?e.questions.map(t=>{const n=(t.text.match(/\(/g)||[]).length;return Array(n).fill("")}):e.taskID==="discussion_task"?[]:Array(e.questions.length).fill(null)),O.value=h.value.map(e=>e.taskID==="multiple_choice"?Array(e.questions.length).fill().map(()=>[]):null),A.value=h.value.map(()=>!1),z.value=h.value.map(()=>null),M.value=h.value.map(e=>Array(e.questions.length).fill(!1)),B.value=h.value.map(()=>[]),F.value=h.value.map(e=>e.taskID==="discussion_task"?Array(e.questions.length).fill(!1):null),P.value=h.value.map(e=>e.taskID==="discussion_task"?Array(e.questions.length).fill(!1):null),G.value=h.value.map(e=>e.taskID==="discussion_task"?Array(e.questions.length).fill(!1):null),$.value=0,q(()=>{var e;((e=h.value[0])==null?void 0:e.taskID)==="multiple_choice"&&ie(0)})},Ce=()=>{$.value<h.value.length-1&&($.value++,window.scrollTo({top:0,behavior:"smooth"}))},De=()=>{$.value>0&&($.value--,window.scrollTo({top:0,behavior:"smooth"}))},Se=e=>{if(!h.value)return;const t=h.value[e];t.taskID==="discussion_task"&&(L.value?(t.questions=[...t.originalQuestions],L.value=!1):(t.originalQuestions||(t.originalQuestions=[...t.questions]),t.questions=[...t.questions].sort(()=>Math.random()-.5),L.value=!0),F.value[e]=Array(t.questions.length).fill(!1),P.value[e]=Array(t.questions.length).fill(!1),G.value[e]=Array(t.questions.length).fill(!1))},C=e=>!e||typeof e!="string"?"":e.toLowerCase().replace(/\s+/g," ").trim().replace(/[.,!?;:…–—]+$/g,"").replace(/[.,!?;:…–—]/g," ").replace(/\s+/g," ").replace(/[`'‘’´]/g,"'").replace(/(\b(?:he|she|it))'?s not\b/g,"$1 is not").replace(/(\b(?:he|she|it)) isn'?t\b/g,"$1 is not").replace(/(\b(?:you|we|they|i))'?re not\b/g,"$1 are not").replace(/(\b(?:you|we|they|i)) aren'?t\b/g,"$1 are not").replace(/\bi'?m not\b/g,"i am not").replace(/\bdo not\b/g,"don't").replace(/\bdoes not\b/g,"doesn't").replace(/\bdid not\b/g,"didn't").replace(/\bwill not\b/g,"won't").replace(/\bcan not\b/g,"can't").replace(/\bmust not\b/g,"mustn't").replace(/\bshould not\b/g,"should't").replace(/\bwould not\b/g,"wouldn't").replace(/\b(?:dont|doesnt|didnt|wont|cant|hadnt|hasnt|mustnt|shouldnt|wouldnt)\b/g,t=>({dont:"don't",doesnt:"doesn't",didnt:"didn't",wont:"won't",cant:"can't",hasnt:"hasn't",hadnt:"hadn't",mustnt:"mustn't",shouldnt:"shouldn't",wouldnt:"wouldn't"})[t]).replace(/\b(?:i am|im)\b/g,"i'm").replace(/\b(?:you are|youre)\b/g,"you're").replace(/\b(?:we are|were)\b/g,"we're").replace(/\b(?:they are|theyre)\b/g,"they're").replace(/\b(?:she is|shes)\b/g,"she's").replace(/\b(?:he is|hes)\b/g,"he's").replace(/\b(?:it is|its)\b/g,"it's").replace(/(\b[a-z]+)'ll\b/gi,"$1 will").replace(/(\b(?:i|you|he|she|we|they|it))'?d\b/g,"$1 would").replace(/\brecieve\b/g,"receive").replace(/\bdefinately\b/g,"definitely").replace(/\bpractice\b/g,"practise").replace(/\s+/g," ").trim(),Te=(e,t)=>{const n=t+1;n<h.value[e].questions.length&&q(()=>{const s=K.value.find(o=>Number(o.dataset.task)===e&&Number(o.dataset.question)===n);if(s&&(s.focus(),s.tagName==="TEXTAREA")){const o=s.value.length;s.setSelectionRange(o,o)}})},le=(e,t,n)=>{const s=n.target,o=s.value,l={"?":`+ \xA0\xA0\xA0 
- \xA0\xA0\xA0\xA0 
? \xA0\xA0\xA0\xA0 
o? \xA0 `,"+":`+ 
- 
? 
! `,"!":`! 
? 
- 
+ `,"*":`1. 
2. 
3. 
4. `," ":`+ \xA0\xA0\xA0 
- \xA0\xA0\xA0\xA0 
? \xA0\xA0\xA0\xA0 
o? \xA0 `};for(const[u,d]of Object.entries(l))if(o===u){v.value[e][t]=d,q(()=>{s.tagName==="TEXTAREA"&&s._resizeHandler&&s._resizeHandler();const i=d.indexOf(`
`);s.setSelectionRange(i,i),s.focus()});break}},re=(e,t,n,s)=>{if(!A.value[e]||h.value[e].taskID!=="student_input")return"";if(n==="anyIsOk")return"correct";const o=C(v.value[e][t]),l=C(n);return o===l?"correct":s!=null&&s.some(u=>C(u)===o)?"almost":"incorrect"},ae=(e,t,n,s)=>{if(!A.value[e])return"";if(h.value[e].taskID==="student_input"){if(n==="anyIsOk")return"student-input-any-ok";const o=C(v.value[e][t]),l=C(n);return o===l?"student-input-correct":s&&s.some(u=>C(u)===o)?"student-input-almost-correct":"student-input-incorrect"}return v.value[e][t]===n?"student-input-correct":"student-input-incorrect"},Ee=e=>e.split(/(_{1,4})/),$e={mounted:e=>{const t=document.createElement("div");t.style.cssText=`
      position: absolute;
      top: -9999px;
      left: -9999px;
      visibility: hidden;
      white-space: pre-wrap;
      word-wrap: break-word;
      overflow-wrap: break-word;
      font-family: ${getComputedStyle(e).fontFamily};
      font-size: ${getComputedStyle(e).fontSize};
      font-weight: ${getComputedStyle(e).fontWeight};
      line-height: ${getComputedStyle(e).lineHeight};
      padding: ${getComputedStyle(e).padding};
      width: ${e.offsetWidth}px;
      border: ${getComputedStyle(e).border};
      box-sizing: border-box;
    `,document.body.appendChild(t);const n=()=>{e.value?t.textContent=e.value+" ":t.textContent=e.placeholder||"";const s=t.offsetHeight+2;e.style.height="auto",e.style.height=s+"px"};e.addEventListener("input",n),e._resizeHandler=n,e._measureEl=t,setTimeout(n,0)},updated:e=>{e._resizeHandler&&setTimeout(e._resizeHandler,0)},unmounted:e=>{e._resizeHandler&&e.removeEventListener("input",e._resizeHandler),e._measureEl&&document.body.removeChild(e._measureEl)}},J=e=>e===100?{letter:"A+",class:"grade-Aplus"}:e>=85?{letter:"A",class:"grade-A"}:e>=75?{letter:"B+",class:"grade-Bplus"}:e>=60?{letter:"B-",class:"grade-Bminus"}:e>=40?{letter:"C",class:"grade-C"}:e>=20?{letter:"D",class:"grade-D"}:e>=10?{letter:"E",class:"grade-E"}:{letter:"F",class:"grade-F"},ze=e=>{R.value=R.value===e?null:e},Oe=(e,t)=>{M.value[e]||(M.value[e]=[]),M.value[e][t]=!M.value[e][t]},Ue=(e,t)=>{!F.value[e]||(F.value[e][t]=!F.value[e][t],P.value[e][t]=F.value[e][t])},Me=(e,t)=>{!G.value[e]||(G.value[e][t]=!G.value[e][t])},Fe=()=>{document.addEventListener("contextmenu",e=>{if(e.target.classList.contains("audio-player"))return e.preventDefault(),!1}),document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="s"&&e.preventDefault()})},ce=e=>e?e.split(",").map(t=>{const[n,s]=t.split("-").map(o=>o.trim());return{english:n,russian:s}}):[],Qe=e=>{const t=h.value[e];if(t.taskID==="discussion_task")return;A.value[e]=!0;let n=0;if(t.taskID==="grid_table")n=We(e);else{let s=0,o=0;t.questions.forEach((l,u)=>{if(t.taskID==="student_input"){if(l.correctAnswer==="anyIsOk")s++;else{const d=C(v.value[e][u]),i=C(l.correctAnswer);(d===i||l.almostCorrectAnswers&&l.almostCorrectAnswers.some(f=>C(f)===d))&&s++}o++}else if(t.taskID==="drop_down_text")Y(l.text).filter(f=>f.type==="dropdown").forEach((f,m)=>{const y=v.value[e][u][m];f.correctOptions.includes(y)&&s++,o++});else{const d=v.value[e][u];Array.isArray(l.correctAnswer)?l.correctAnswer.includes(d)&&s++:d===l.correctAnswer&&s++,o++}}),n=o>0?Math.round(s/o*100):0}z.value[e]=n},ue=(e,t,n,s)=>{if(!A.value[e])return"";const o=v.value[e][t];return(Array.isArray(s)?s.includes(n):n===s)?o===n?"correct-selected":"correct-not-selected":o===n?"incorrect-selected":""},Ne=(e,t,n,s)=>{var i;const o=v.value[e][t],l=((i=O.value[e])==null?void 0:i[t])||[],u=Array.isArray(s)?s.includes(n):n===s,d=o===n;if(u&&l.includes(n))return"option-correct-selected";if(!u){if(d)return"option-incorrect-selected";if(l.includes(n))return"option-wrong-history"}return""},Pe=(e,t,n)=>{const s=v.value[e][t];return s?(Array.isArray(n)?n.includes(s):s===n)?"explain-correct":"explain-incorrect":""},Ge=e=>{const t=h.value[e];if(!t||t.taskID!=="multiple_choice")return 0;let n=0,s=t.questions.length;return t.questions.forEach((o,l)=>{var d;const u=(d=v.value[e])==null?void 0:d[l];u&&(Array.isArray(o.correctAnswer)?o.correctAnswer.includes(u)&&n++:u===o.correctAnswer&&n++)}),s>0?Math.round(n/s*100):0},ie=e=>{A.value[e]=!0;const t=Ge(e);z.value[e]=t},He=(e,t,n,s)=>{var u,d;s.preventDefault(),console.log("Selected:",n),console.log("History before:",(u=O.value[e])==null?void 0:u[t]),console.log("Final answer before:",v.value[e][t]);const o=v.value[e][t];O.value[e][t]||(O.value[e][t]=[]);const l=O.value[e][t];o===null?(l.push(n),v.value[e][t]=n):o!==n?(l.includes(o)||l.push(o),l.includes(n)||l.push(n),v.value[e][t]=n):console.log("Same answer selected, ignoring"),console.log("History after:",(d=O.value[e])==null?void 0:d[t]),console.log("Final answer after:",v.value[e][t]),ie(e)},Y=e=>{if(!e)return[];const t=e.split(`
`).filter(o=>o.trim()!=="");let n=0;const s=[];for(const o of t){const l=[];let u=0,d;const i=/\(([^)]+)\)/g;for(;(d=i.exec(o))!==null;){d.index>u&&l.push({type:"text",text:o.substring(u,d.index)});const m=d[1].split(",").map(y=>{const S=y.trim(),T=S.endsWith("*");return{value:T?S.replace(/\*$/,""):S,isCorrect:T}});l.push({type:"dropdown",options:m,index:n++,correctOptions:m.filter(y=>y.isCorrect).map(y=>y.value)}),u=d.index+d[0].length}u<o.length&&l.push({type:"text",text:o.substring(u)}),l.length>0&&s.push(l)}return s},de=(e,t,n)=>{if(!A.value[e])return"";const o=Y(n).filter(d=>d.type==="dropdown");return o.every(d=>v.value[e][t][d.index]!=="")?o.every(d=>{const i=v.value[e][t][d.index];return d.correctOptions.includes(i)})?"correct":"incorrect":""},Re=(e,t,n,s)=>{if(!A.value[e])return"";const o=v.value[e][t][n];return o===""?"":s.includes(o)?"drop-down-correct":"drop-down-incorrect"},Le=e=>e.tableData.rows.map(t=>{const n={cells:[]};return t.cells.forEach((s,o)=>{n.cells.push(t.editable[o]?"":s)}),n}),We=e=>{const t=h.value[e],n=[];t.tableData.rows.forEach((o,l)=>{const u={allCorrect:!0,incorrect:{}};if(!o.correctAnswers){n.push(u);return}o.editable.forEach((d,i)=>{var S;if(!d||o.correctAnswers.cells[i]==="anyIsOk")return;const f=C(v.value[e][l].cells[i]),m=C(o.correctAnswers.cells[i]),y=(S=o.correctAnswers.almostCorrect)==null?void 0:S[i];f!==m&&(!y||!y.some(T=>C(T)===f))&&(u.allCorrect=!1,u.incorrect[i]={correct:o.correctAnswers.cells[i],userAnswer:v.value[e][l].cells[i]})}),n.push(u)}),B.value[e]=n;const s=n.filter(o=>o.allCorrect).length;return Math.round(s/t.tableData.rows.length*100)},Be=(e,t,n,s)=>{var d;if(!A.value[e]||!s)return"";if(s.cells[n]==="anyIsOk")return"grid-input-correct";const o=C(v.value[e][t].cells[n]),l=C(s.cells[n]),u=(d=s.almostCorrect)==null?void 0:d[n];return o===l?"grid-input-correct":u&&u.some(i=>C(i)===o)?"grid-input-almost-correct":"grid-input-incorrect"};Ve(()=>{ee.value=me.params.missionName,E.value=Ye[ee.value]||null,Q.value=ke(),H.value=Q.value,E.value&&(h.value=se(E.value.tasks,Q.value),h.value.forEach(e=>{e.taskID==="discussion_task"&&(e.originalQuestions=[...e.questions])}),ne()),Fe()});const Ke=["#cff0ff","#e0c0ff","#ffc0cb","#ffd700","#98fb98","#ffa07a","#ff6347"];return(e,t)=>E.value?(a(),c("div",Ie,[r("div",xe,[r("h2",null,p(E.value.mainDescription),1),r("div",qe,[t[3]||(t[3]=r("p",{class:"main-description"},"Special tasks for S.P.E.C.i.A.L. agents",-1)),r("div",et,p($.value+1)+"/"+p(h.value.length),1)])]),(a(!0),c(_,null,k(h.value,(n,s)=>(a(),c("div",{key:s,class:"task-container",style:Xe({backgroundColor:Ke[s%7],display:s===$.value?"block":"none"})},[n.audio?(a(),c("div",tt,[r("audio",st,[r("source",{src:n.audio,type:"audio/mp3"},null,8,ot),t[4]||(t[4]=U(" Your browser does not support the audio element. "))])])):b("",!0),r("div",nt,[n!=null&&n.usefulWords?(a(),c("div",lt,[r("div",rt,[t[6]||(t[6]=r("span",{class:"useful-words-title"},"Useful words:",-1)),r("div",at,[(a(!0),c(_,null,k(ce(n.usefulWords),(o,l)=>(a(),c("div",{key:l,class:"word-pair"},[r("span",ct,p(o.english),1),t[5]||(t[5]=r("span",{class:"separator"},"-",-1)),r("span",ut,p(o.russian),1),l<ce(n.usefulWords).length-1?(a(),c("span",it,",")):b("",!0)]))),128))])])])):b("",!0),r("h3",dt,p(n.taskDescription),1),n.taskPicture?(a(),c("div",pt,[r("img",{src:n.taskPicture,alt:"Image for task "+(s+1),class:"task-image"},null,8,vt)])):b("",!0),n.taskID==="true_false"?(a(),c("div",ft,[r("table",ht,[t[7]||(t[7]=r("thead",null,[r("tr",null,[r("th",null,"\u043F\u0440\u0430\u0432\u0434\u0430 / \u0422\u0420\u0423 / \u0438\u043B\u0438 / \u0444\u041E\u043B\u0441 / \u043B\u043E\u0436\u044C :"),r("th",{class:"true-header"},"True"),r("th",{class:"false-header"},"False")])],-1)),r("tbody",null,[(a(!0),c(_,null,k(n.questions,(o,l)=>(a(),c("tr",{key:l},[r("td",null,p(o.text),1),r("td",null,[r("label",_t,[N(r("input",{type:"radio",name:"task"+s+"q"+l,value:"true","onUpdate:modelValue":u=>v.value[s][l]=u},null,8,mt),[[he,v.value[s][l]]]),r("span",{class:D(["radio-custom",ue(s,l,"true",o.correctAnswer)])},null,2)])]),r("td",null,[r("label",yt,[N(r("input",{type:"radio",name:"task"+s+"q"+l,value:"false","onUpdate:modelValue":u=>v.value[s][l]=u},null,8,gt),[[he,v.value[s][l]]]),r("span",{class:D(["radio-custom",ue(s,l,"false",o.correctAnswer)])},null,2)])])]))),128))])])])):n.taskID==="multiple_choice"?(a(),c("div",bt,[(a(!0),c(_,null,k(n.questions,(o,l)=>{var u,d;return a(),c("div",{key:l,class:"question-container"},[r("p",wt,p(l+1)+") "+p(o.text),1),o.questionPicture?(a(),c("div",kt,[r("img",{src:o.questionPicture,alt:"Image for question "+(l+1),class:"question-image"},null,8,At)])):b("",!0),r("div",Ct,[(a(!0),c(_,null,k(o.options,(i,f)=>(a(),c("label",{key:f,class:D(["option-label",Ne(s,l,f,o.correctAnswer)])},[r("input",{type:"radio",name:"task"+s+"q"+l,value:f,class:"option-input",onClick:m=>He(s,l,f,m)},null,8,Dt),r("span",St,p(f)+" : "+p(i),1)],2))),128))]),v.value[s][l]?(a(),c("div",Tt,[(u=M.value[s])!=null&&u[l]?(a(),c("div",Et,[r("p",null,p(o.explanation),1)])):b("",!0),r("button",{class:D(["explain-button",Pe(s,l,o.correctAnswer)]),onClick:i=>Oe(s,l)},p((d=M.value[s])!=null&&d[l]?"Well, okay... ":"Explain it to me"),11,$t)])):b("",!0)])}),128))])):n.taskID==="student_input"?(a(),c("div",zt,[(a(!0),c(_,null,k(n.questions,(o,l)=>(a(),c("div",{key:l,class:"question-container"},[r("p",Ot,[(a(!0),c(_,null,k(Ee(o.text),(u,d)=>(a(),c(_,null,[u.startsWith("_")?(a(),c(_,{key:0},[u.length<=3?N((a(),c("input",{key:0,type:"text",placeholder:". . .",class:D(["student-input",[ae(s,l,o.correctAnswer,o.almostCorrectAnswers),{"input-small":u.length===1,"input-medium":u.length===2,"input-large":u.length===3}]]),"onUpdate:modelValue":i=>v.value[s][l]=i,onKeyup:_e(i=>Te(s,l),["enter"]),onInput:i=>le(s,l,i),disabled:!1,"data-task":s,"data-question":l,ref_for:!0,ref_key:"inputFields",ref:K},null,42,Ut)),[[W,v.value[s][l]]]):N((a(),c("textarea",{key:1,class:D(["student-input student-input-textarea",[ae(s,l,o.correctAnswer,o.almostCorrectAnswers),"input-full"]]),"onUpdate:modelValue":i=>v.value[s][l]=i,onInput:i=>le(s,l,i),disabled:!1,"data-task":s,"data-question":l,ref_for:!0,ref_key:"inputFields",ref:K,rows:"1",placeholder:". . ."},null,42,Mt)),[[W,v.value[s][l]],[$e]])],64)):(a(),c(_,{key:1},[U(p(u),1)],64))],64))),256))]),A.value[s]?(a(),c("div",Ft,[o.correctAnswer==="anyIsOk"?(a(),c("span",Qt,"\u2713 \u041F\u0440\u0438\u043D\u0438\u043C\u0430\u0435\u0442\u0441\u044F \u043B\u044E\u0431\u043E\u0439 \u043E\u0442\u0432\u0435\u0442, \u0435\u0441\u043B\u0438 \u0445\u043E\u0442\u0438\u0442\u0435 make sure - \u043E\u0442\u043F\u0440\u0430\u0432\u044C\u0442\u0435 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442 \u0412\u0438\u043D\u0441\u0435\u043D\u0442\u0438\u043A\u0443!")):re(s,l,o.correctAnswer,o.almostCorrectAnswers)==="correct"?(a(),c("span",Nt,"\u2713 \u0412\u0435\u0440\u043D\u043E!")):re(s,l,o.correctAnswer,o.almostCorrectAnswers)==="almost"?(a(),c("span",Pt,"\u26A0 \u0412\u0440\u043E\u0434\u0435 \u0442\u043E\u0436\u0435 \u043D\u043E\u0440\u043C \u043E\u0442\u0432\u0435\u0442, \u043D\u043E \u0441\u0442\u043E\u0438\u0442 \u043F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C!")):(a(),c("span",Gt,[t[8]||(t[8]=U(" \u2717 \u0437\u0434\u0435\u0441\u044C \u0432\u0435\u0440\u043D\u043E \u0431\u0443\u0434\u0435\u0442: ")),r("strong",null,p(o.correctAnswer),1)]))])):b("",!0)]))),128))])):n.taskID==="drop_down_text"?(a(),c("div",Ht,[(a(!0),c(_,null,k(n.questions,(o,l)=>(a(),c("div",{key:l,class:"question-container"},[(a(!0),c(_,null,k(Y(o.text),(u,d)=>(a(),c("div",{key:d,class:"paragraph"},[r("p",null,[(a(!0),c(_,null,k(u,(i,f)=>(a(),c(_,{key:f},[i.type==="dropdown"?N((a(),c("select",{key:0,class:D(["drop-down-select",Re(s,l,i.index,i.correctOptions)]),"onUpdate:modelValue":m=>v.value[s][l][i.index]=m},[t[9]||(t[9]=r("option",{value:"",disabled:"",selected:""},"? ? ?",-1)),(a(!0),c(_,null,k(i.options,(m,y)=>(a(),c("option",{key:y,value:m.value},p(m.value),9,Lt))),128))],10,Rt)),[[Je,v.value[s][l][i.index]]]):(a(),c(_,{key:1},[U(p(i.text),1)],64))],64))),128))])]))),128)),A.value[s]&&de(s,l,o.text)!==""?(a(),c("div",Wt,[de(s,l,o.text)==="correct"?(a(),c("span",Bt,"\u2713 \u0412\u0435\u0440\u043D\u043E!")):(a(),c("span",Kt," \u2717 \u041D\u0435\u0432\u0435\u0440\u043D\u043E. \u0413\u0434\u0435-\u0442\u043E \u043D\u0443\u0436\u043D\u043E \u0438\u0441\u043F\u0440\u0430\u0432\u0438\u0442\u044C! "))])):b("",!0)]))),128))])):n.taskID==="grid_table"?(a(),c("div",jt,[r("table",Vt,[r("thead",null,[r("tr",null,[(a(!0),c(_,null,k(n.tableData.headers,(o,l)=>(a(),c("th",{key:l},p(o),1))),128))])]),r("tbody",null,[(a(!0),c(_,null,k(n.tableData.rows,(o,l)=>(a(),c("tr",{key:l},[(a(!0),c(_,null,k(o.cells,(u,d)=>{var i;return a(),c("td",{key:d},[o.editable[d]?N((a(),c("input",{key:0,type:"text",class:D(["grid-table-input",Be(s,l,d,o.correctAnswers)]),"onUpdate:modelValue":f=>v.value[s][l].cells[d]=f,placeholder:((i=o.correctAnswers)==null?void 0:i.cells[d])==="anyIsOk"?"Any answer":""},null,10,Xt)),[[W,v.value[s][l].cells[d]]]):(a(),c(_,{key:1},[U(p(u),1)],64))])}),128))]))),128))])]),A.value[s]?(a(),c("div",Jt,[(a(!0),c(_,null,k(B.value[s],(o,l)=>(a(),c("div",{key:l,class:"feedback-item"},[U(" \u0421\u0442\u0440\u043E\u043A\u0430 "+p(l+1)+": ",1),o.allCorrect?(a(),c("span",Yt,"\u2713 \u0412\u0441\u0435 \u0432\u0435\u0440\u043D\u043E!")):(a(!0),c(_,{key:1},k(o.incorrect,(u,d)=>(a(),c("span",{key:d,class:"incorrect-feedback"},' \u2717 \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C "'+p(u.correct)+'" ',1))),128))]))),128))])):b("",!0)])):n.taskID==="discussion_task"?(a(),c("div",Zt,[(a(!0),c(_,null,k(n.questions,(o,l)=>{var u,d,i,f,m;return a(),c("div",{key:l,class:"discussion-question"},[r("div",It,[r("button",{class:D(["discussion-checkbox",{checked:(u=F.value[s])==null?void 0:u[l]}]),onClick:x(y=>Ue(s,l),["stop"])},null,10,xt)]),r("div",{class:D(["question-content",{collapsed:(d=P.value[s])==null?void 0:d[l]}])},[r("div",qt,p(o.text),1),r("div",es,[(i=P.value[s])!=null&&i[l]?b("",!0):(a(),c("div",{key:0,class:"translation-toggle",onClick:x(y=>Me(s,l),["stop"])},[(f=G.value[s])!=null&&f[l]?(a(),c("span",ss,p(o.translation),1)):(a(),c(_,{key:0},[U("\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0432\u043E\u0434")],64))],8,ts)),(m=P.value[s])!=null&&m[l]?(a(),c("div",os,p(o.translation),1)):b("",!0)])],2)])}),128))])):b("",!0),r("div",ns,[r("div",ls,[n.textScript?(a(),c("button",{key:0,class:"toggle-script-btn",onClick:o=>ze(s)},p(R.value===s?"\u0421\u043A\u0440\u044B\u0442\u044C \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0438":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0438"),9,rs)):b("",!0),n.taskID==="multiple_choice"?(a(),c("div",as,[r("div",cs,[t[10]||(t[10]=U(" \u041D\u043E\u043C\u0435\u0440 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u0430: ")),j.value?N((a(),c("input",{key:1,"onUpdate:modelValue":t[1]||(t[1]=o=>H.value=o),onKeyup:_e(oe,["enter"]),onBlur:oe,class:"seed-input",ref_for:!0,ref_key:"seedInput",ref:ye},null,544)),[[W,H.value]]):(a(),c("span",{key:0,class:"seed-value",onClick:t[0]||(t[0]=o=>j.value=!0)},p(Q.value),1))]),r("button",{class:"seed-copy-btn",onClick:Ae,title:"Copy seed to clipboard"}," \u{1F4CB} ")])):b("",!0),r("div",{class:D(["score-display",[{"score-visible":A.value[s]},A.value[s]?J(z.value[s]).class:""]])},p(A.value[s]?`${z.value[s]}% (${J(z.value[s]).letter})`:""),3),n.taskID==="multiple_choice"?(a(),c("button",{key:2,class:"stats-button",onClick:o=>we(s),title:"\u041F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u0443\u044E \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0443"}," \u{1F4CA} \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 ",8,us)):b("",!0),n.taskID!=="discussion_task"&&n.taskID!=="multiple_choice"?(a(),c("button",{key:3,class:"check-button",onClick:o=>Qe(s),"data-task-type":n.taskID}," \u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C ",8,is)):n.taskID==="discussion_task"?(a(),c("button",{key:4,class:"check-button",onClick:o=>Se(s)},p(L.value?"Unshuffle":"Shuffle"),9,ds)):b("",!0)]),R.value===s?(a(),c("div",ps,[r("p",null,p(n.textScript),1)])):b("",!0),r("div",vs,[r("button",{class:"nav-button prev-button",onClick:De,disabled:$.value===0}," \u2190 ",8,fs),r("button",{class:"nav-button next-button",onClick:Ce,disabled:$.value===h.value.length-1}," \u2192 ",8,hs)])])])],4))),128)),V.value&&w.value?(a(),c("div",{key:0,class:"stats-modal-overlay",onClick:X},[r("div",{class:"stats-modal",onClick:t[2]||(t[2]=x(()=>{},["stop"]))},[r("div",{class:"stats-modal-header"},[t[11]||(t[11]=r("h3",null,"\u{1F4CA} \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u0442\u0435\u0441\u0442\u0430",-1)),r("button",{class:"close-button",onClick:X},"\u2715")]),r("div",_s,[r("div",ms,[r("div",ys,[t[12]||(t[12]=r("span",{class:"stat-label"},"\u0412\u043E\u043F\u0440\u043E\u0441\u043E\u0432 \u0431\u044B\u043B\u043E:",-1)),r("span",gs,p(w.value.totalQuestions),1)]),r("div",bs,[t[13]||(t[13]=r("span",{class:"stat-label"},"\u0412\u043E\u043F\u0440\u043E\u0441\u043E\u0432 \u043F\u0440\u043E\u043F\u0443\u0449\u0435\u043D\u043D\u043E:",-1)),r("span",{class:D(["stat-value",{warning:w.value.skippedQuestions>0}])},p(w.value.skippedQuestions),3)]),r("div",ws,[t[14]||(t[14]=r("span",{class:"stat-label"},"\u041E\u043F\u044B\u0442\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E:",-1)),r("span",ks,p(w.value.totalClicks),1)]),r("div",As,[t[15]||(t[15]=r("span",{class:"stat-label"},"\u0420\u0430\u0441\u0441\u043C\u043E\u0442\u0440\u0435\u043D\u043E \u043E\u0442\u0432\u0435\u0442\u043E\u0432:",-1)),r("span",Cs,p(w.value.totalOptions),1)]),r("div",Ds,[t[16]||(t[16]=r("span",{class:"stat-label"},"\u0414\u043E\u0441\u0442\u0438\u0436\u0435\u043D\u0438\u0439:",-1)),r("span",Ss,p(w.value.correctClicks),1)]),r("div",Ts,[t[17]||(t[17]=r("span",{class:"stat-label"},"\u041A\u043E\u0441\u044F\u043A\u043E\u0432:",-1)),r("span",Es,p(w.value.wrongClicks),1)]),r("div",$s,[t[18]||(t[18]=r("span",{class:"stat-label"},"\u0422\u043E\u0447\u043D\u043E\u0441\u0442\u044C:",-1)),r("span",zs,p(w.value.accuracy)+"%",1)]),r("div",Os,[t[19]||(t[19]=r("span",{class:"stat-label"},"\u0424\u0438\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442:",-1)),r("span",Us,p(w.value.finalScore)+"% ("+p(w.value.finalGrade)+")",1)])]),w.value.questionsStats.length>0?(a(),c("div",Ms,[t[20]||(t[20]=r("h4",null,"\u0414\u0435\u0442\u0430\u043B\u0438 \u043F\u043E \u0432\u043E\u043F\u0440\u043E\u0441\u0430\u043C:",-1)),r("div",Fs,[(a(!0),c(_,null,k(w.value.questionsStats,n=>(a(),c("div",{key:n.questionNumber,class:D(["question-stat-card",{"final-correct":n.isFinalCorrect,skipped:n.isSkipped}])},[r("div",Qs,p(n.questionNumber)+") "+p(n.questionText),1),r("div",Ns,[r("span",Ps,"\u2713 "+p(n.correctClicks),1),r("span",Gs,"\u2717 "+p(n.wrongClicks),1)])],2))),128))])])):b("",!0)]),r("div",{class:"stats-modal-footer"},[r("div",{class:"footer-buttons"},[r("button",{class:"send-button",onClick:ge}," \u{1F4E4} \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0443\u0447\u0438\u0442\u0435\u043B\u044E "),r("button",{class:"close-button",onClick:X}," \u0417\u0430\u043A\u0440\u044B\u0442\u044C ")])])])])):b("",!0)])):b("",!0)}};var js=Ze(Hs,[["__scopeId","data-v-d668f6a0"]]);export{js as default};
