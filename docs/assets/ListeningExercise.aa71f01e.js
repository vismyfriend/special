import{u as N,r as p,o as $,b as r,c as n,e as s,t as i,F as k,q as y,j as _,s as P,y as R,w,B as C,n as b}from"./index.90379313.js";import{L as T}from"./ListeningExerciseData.5f12c0cb.js";import{_ as z}from"./plugin-vue_export-helper.21dcd24c.js";const K={key:0,class:"exercise-container"},j={class:"exercise-header"},G={class:"task-title"},O={key:0,class:"task-image-container"},Y=["src","alt"],H={key:1,controls:"",class:"audio-player",controlsList:"nodownload",oncontextmenu:"return false;"},I=["src"],J={key:2,class:"true-false-container"},Q={class:"true-false-table"},W={class:"radio-label"},X=["name","onUpdate:modelValue"],Z={class:"radio-label"},q=["name","onUpdate:modelValue"],x={key:3,class:"multiple-choice-container"},ee={class:"question-text"},te={class:"options-container"},se=["name","value","onUpdate:modelValue"],le={class:"option-text"},ae={class:"check-script-wrapper"},oe=["onClick"],re={key:0,class:"script-toggle-wrapper"},ne=["onClick"],ce={key:4,class:"text-script-content"},ue={__name:"ListeningExercise",setup(ie){const E=N(),d=p(null),u=p([]),v=p([]),g=p(null),f=p([]),D=p(""),A=t=>t===100?{letter:"A+",class:"grade-Aplus"}:t>=85?{letter:"A",class:"grade-A"}:t>=75?{letter:"B+",class:"grade-Bplus"}:t>=60?{letter:"B-",class:"grade-Bminus"}:t>=40?{letter:"C",class:"grade-C"}:t>=20?{letter:"D",class:"grade-D"}:t>=10?{letter:"E",class:"grade-E"}:{letter:"F",class:"grade-F"},B=t=>{g.value=g.value===t?null:t};$(()=>{D.value=E.params.missionName,d.value=T[D.value]||null,d.value&&(u.value=d.value.tasks.map(t=>Array(t.questions.length).fill(null)),v.value=d.value.tasks.map(()=>!1),f.value=d.value.tasks.map(()=>null)),S()});const S=()=>{document.addEventListener("contextmenu",t=>{if(t.target.classList.contains("audio-player"))return t.preventDefault(),!1}),document.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.key==="s"&&t.preventDefault()})},U=t=>{v.value[t]=!0;const c=d.value.tasks[t];let l=0;c.questions.forEach((o,a)=>{u.value[t][a]===o.correctAnswer&&l++});const e=Math.round(l/c.questions.length*100);f.value[t]=e},L=(t,c,l,e)=>{if(!v.value[t])return"";const o=u.value[t][c];return l===e?o===l?"correct-selected":"correct-not-selected":o===l?"incorrect-selected":""},F=(t,c,l,e)=>{if(!v.value[t])return"";const o=u.value[t][c];return l===e?o===l?"option-correct-selected":"option-correct-not-selected":o===l?"option-incorrect-selected":""},V=["#cff0ff","#e0c0ff","#ffc0cb","#ffd700","#98fb98","#ffa07a","#ff6347"];return(t,c)=>d.value?(r(),n("div",K,[s("div",j,[s("h2",null,i(d.value.mainDescription),1),c[0]||(c[0]=s("p",{class:"main-description"},"Listening tasks for S.P.E.C.i.A.L. agents",-1))]),(r(!0),n(k,null,y(d.value.tasks,(l,e)=>(r(),n("div",{key:e,class:"task-container",style:P({backgroundColor:V[e%7]})},[s("h3",G,i(l.taskDescription),1),l.taskPicture?(r(),n("div",O,[s("img",{src:l.taskPicture,alt:"Image for task "+(e+1),class:"task-image"},null,8,Y)])):_("",!0),l.audio?(r(),n("audio",H,[s("source",{src:l.audio,type:"audio/mp3"},null,8,I),c[1]||(c[1]=R(" Your browser does not support the audio element. "))])):_("",!0),l.taskID==="true_false"?(r(),n("div",J,[s("table",Q,[c[2]||(c[2]=s("thead",null,[s("tr",null,[s("th",null,"\u043F\u0440\u0430\u0432\u0434\u0430 / \u0422\u0420\u0423 / \u0438\u043B\u0438 / \u0444\u041E\u043B\u0441 / \u043B\u043E\u0436\u044C :"),s("th",{class:"true-header"},"True"),s("th",{class:"false-header"},"False")])],-1)),s("tbody",null,[(r(!0),n(k,null,y(l.questions,(o,a)=>(r(),n("tr",{key:a},[s("td",null,i(o.text),1),s("td",null,[s("label",W,[w(s("input",{type:"radio",name:"task"+e+"q"+a,value:"true","onUpdate:modelValue":m=>u.value[e][a]=m},null,8,X),[[C,u.value[e][a]]]),s("span",{class:b(["radio-custom",L(e,a,"true",o.correctAnswer)])},null,2)])]),s("td",null,[s("label",Z,[w(s("input",{type:"radio",name:"task"+e+"q"+a,value:"false","onUpdate:modelValue":m=>u.value[e][a]=m},null,8,q),[[C,u.value[e][a]]]),s("span",{class:b(["radio-custom",L(e,a,"false",o.correctAnswer)])},null,2)])])]))),128))])])])):l.taskID==="multiple_choice"?(r(),n("div",x,[(r(!0),n(k,null,y(l.questions,(o,a)=>(r(),n("div",{key:a,class:"question-container"},[s("p",ee,i(a+1)+") "+i(o.text),1),s("div",te,[(r(!0),n(k,null,y(o.options,(m,h)=>(r(),n("label",{key:h,class:b(["option-label",[F(e,a,h,o.correctAnswer),u.value[e][a]===h&&!v.value[e]?"option-selected":""]])},[w(s("input",{type:"radio",name:"task"+e+"q"+a,value:h,"onUpdate:modelValue":M=>u.value[e][a]=M,class:"option-input"},null,8,se),[[C,u.value[e][a]]]),s("span",le,i(h)+" : "+i(m),1)],2))),128))])]))),128))])):_("",!0),s("div",ae,[s("button",{class:"check-button",onClick:o=>U(e)}," \u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C - check ",8,oe),s("div",{class:b(["score-display",[{"score-visible":v.value[e]},v.value[e]?A(f.value[e]).class:""]])},i(v.value[e]?`${f.value[e]}% (${A(f.value[e]).letter})`:""),3),l.textScript?(r(),n("div",re,[s("button",{class:"toggle-script-btn",onClick:o=>B(e)},i(g.value===e?"\u0421\u043A\u0440\u044B\u0442\u044C \u0442\u0435\u043A\u0441\u0442":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0442\u0435\u043A\u0441\u0442 \u0430\u0443\u0434\u0438\u043E"),9,ne)])):_("",!0)]),g.value===e?(r(),n("div",ce,[s("p",null,i(l.textScript),1)])):_("",!0)],4))),128))])):_("",!0)}};var _e=z(ue,[["__scopeId","data-v-574d2116"]]);export{_e as default};
