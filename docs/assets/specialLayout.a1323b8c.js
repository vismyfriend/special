import{b as c,d as ee,i as te,o as i,f as u,h as e,t as v,k as U,F as j,q as W,n as G,l as p,u as ne,p as le,r as re,x as K,a as g,y as X,w as Z,Q as O,c as ie,z as L}from"./index.2a2310f7.js";import{_ as se}from"./plugin-vue_export-helper.21dcd24c.js";const ce={class:"legendary-mode-content"},ue={class:"streak-info"},de={class:"current-streak"},ve={class:"streak-number"},me={class:"streak-description"},pe={class:"calendar-container"},ye={class:"calendar-header"},_e={class:"calendar-grid"},ge={class:"calendar-days-header"},fe={class:"calendar-days"},he={key:0},De={key:1,class:"fire-icon"},we={class:"motivational-text"},ke={key:0,class:"dev-controls"},be={__name:"LegendaryMode",props:{currentDays:{type:Number,default:1}},emits:["update-days"],setup(Y,{emit:D}){const I=()=>{const t=new Date;t.setHours(0,0,0,0);const s=new Date(l.value||t);s.setDate(s.getDate()+1),l.value=s,h(n.value+1),r.value.push(s.toISOString())},V=()=>{const t=new Date;t.setHours(0,0,0,0),l.value=t,h(1),r.value=[t.toISOString()],h(1)},M=()=>{const t=new Date,s=t.getMonth(),o=new Date(_,s,1),z=new Date(_,s+1,0);let b=o.getDay();b===0&&(b=7);const x=[];for(let m=1;m<b;m++)x.push({date:null,isActive:!1,isToday:!1,isFuture:!1});for(let m=1;m<=z.getDate();m++){const q=new Date(_,s,m),d=m===t.getDate(),a=q>t,$=r.value.some(f=>{const S=new Date(f);return S.getDate()===m&&S.getMonth()===s&&S.getFullYear()===_});x.push({date:m,isActive:$,isToday:d,isFuture:a})}return x},w=()=>{const t=new Date;t.setHours(0,0,0,0);const s=new Date(l.value||t);s.setDate(s.getDate()+1),l.value=s,h(1),r.value.push(t.toISOString()),alert(`\u041F\u0440\u043E\u043F\u0443\u0449\u0435\u043D \u0434\u0435\u043D\u044C! \u0421\u0447\u0435\u0442\u0447\u0438\u043A \u0441\u0431\u0440\u043E\u0448\u0435\u043D. \u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u043F\u043E\u0441\u0435\u0449\u0435\u043D\u0438\u0435: ${s.toLocaleDateString()}`)},F=Y,C=D,n=c(F.currentDays),l=c(null),r=c([]),_=new Date().getFullYear(),k=["\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431","\u0412\u0441"],h=t=>{n.value=t,C("update-days",t),T()};ee(()=>{A(),N()});const N=()=>{const t=new Date;if(t.setHours(0,0,0,0),!l.value){P(t);return}const s=new Date(l.value);s.setHours(0,0,0,0);const o=Math.floor((t-s)/864e5);o!==0&&(o===1?(h(n.value+1),r.value.push(t.toISOString()),l.value=t):o>1&&(h(1),r.value.push(t.toISOString()),l.value=t))},A=()=>{try{const t=localStorage.getItem("legendaryStreak"),s=localStorage.getItem("lastVisitDate"),o=localStorage.getItem("visitDates");t&&(n.value=parseInt(t)||1),s&&(l.value=new Date(s)),o&&(r.value=JSON.parse(o)),console.log("Data loaded from localStorage:",{streak:n.value,lastVisit:l.value,visits:r.value.length})}catch(t){console.error("Error loading legendary data:",t),n.value=1,l.value=new Date,r.value=[new Date().toISOString()]}},T=()=>{try{localStorage.setItem("legendaryStreak",n.value.toString()),localStorage.setItem("lastVisitDate",new Date().toISOString()),localStorage.setItem("visitDates",JSON.stringify(r.value)),console.log("Data saved to localStorage")}catch(t){console.error("Error saving legendary data:",t)}},P=t=>{console.log("First visit detected"),l.value=t,n.value=1,r.value=[t.toISOString()],T()},E=()=>n.value===1?"\u041D\u0430\u0447\u043D\u0438 \u0441\u0432\u043E\u0439 \u043B\u0435\u0433\u0435\u043D\u0434\u0430\u0440\u043D\u044B\u0439 \u043F\u0443\u0442\u044C!":n.value<7?"\u041E\u0442\u043B\u0438\u0447\u043D\u043E\u0435 \u043D\u0430\u0447\u0430\u043B\u043E! \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0439 \u0432 \u0442\u043E\u043C \u0436\u0435 \u0434\u0443\u0445\u0435!":n.value<30?"\u041D\u0435\u0434\u0435\u043B\u044F \u0437\u0430 \u043D\u0435\u0434\u0435\u043B\u0435\u0439 - \u0442\u044B \u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0448\u044C\u0441\u044F \u0441\u0438\u043B\u044C\u043D\u0435\u0435!":n.value<100?"\u041C\u0435\u0441\u044F\u0446 \u0437\u0430 \u043C\u0435\u0441\u044F\u0446\u0435\u043C - \u0442\u044B \u043D\u0430\u0441\u0442\u043E\u044F\u0449\u0438\u0439 \u0433\u0435\u0440\u043E\u0439!":"\u0422\u044B \u043B\u0435\u0433\u0435\u043D\u0434\u0430! \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0439 \u0441\u0432\u043E\u0439 \u043F\u0443\u0442\u044C!",B=()=>{const t=["\u041A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C - \u044D\u0442\u043E \u0448\u0430\u0433 \u043A \u0441\u043E\u0432\u0435\u0440\u0448\u0435\u043D\u0441\u0442\u0432\u0443!","\u0421\u0438\u0441\u0442\u0435\u043C\u0430\u0442\u0438\u0447\u043D\u043E\u0441\u0442\u044C - \u043A\u043B\u044E\u0447 \u043A \u0443\u0441\u043F\u0435\u0445\u0443!","\u0422\u044B \u0434\u0435\u043B\u0430\u0435\u0448\u044C \u044D\u0442\u043E \u043A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C - \u0442\u044B \u043C\u043E\u043B\u043E\u0434\u0435\u0446!","\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0439 \u0432 \u0442\u043E\u043C \u0436\u0435 \u0434\u0443\u0445\u0435!","\u0422\u044B \u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0448\u044C\u0441\u044F \u043B\u0443\u0447\u0448\u0435 \u0441 \u043A\u0430\u0436\u0434\u044B\u043C \u0434\u043D\u0435\u043C!"];return t[Math.floor(Math.random()*t.length)]},H=()=>["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"][new Date().getMonth()],R=te(M);return(t,s)=>(i(),u("div",ce,[s[1]||(s[1]=e("div",{class:"modal-header"},[e("h2",null,"\u{1F525} Legendary Mode")],-1)),e("div",ue,[e("div",de,[e("span",ve,v(n.value),1),s[0]||(s[0]=e("span",{class:"streak-text"},"\u0434\u043D\u0435\u0439 \u043F\u043E\u0434\u0440\u044F\u0434",-1))]),e("p",me,v(E()),1)]),e("div",pe,[e("div",ye,[e("h3",null,v(H())+" "+v(U(_)),1)]),e("div",_e,[e("div",ge,[(i(),u(j,null,W(k,o=>e("div",{key:o,class:"day-header"},v(o),1)),64))]),e("div",fe,[(i(!0),u(j,null,W(R.value,o=>(i(),u("div",{key:o.date,class:G(["calendar-day",{empty:!o.date,active:o.isActive,today:o.isToday,future:o.isFuture}])},[o.date?(i(),u("span",he,v(o.date),1)):p("",!0),o.isActive?(i(),u("span",De,"\u{1F525}")):p("",!0)],2))),128))])])]),e("div",we,[e("p",null,v(B()),1)]),U(!1)?(i(),u("div",ke,[e("button",{onClick:I,class:"dev-button"},"[DEV] +1 \u0434\u0435\u043D\u044C"),e("button",{onClick:w,class:"dev-button"},"[DEV] \u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u0434\u0435\u043D\u044C"),e("button",{onClick:V,class:"dev-button"},"[DEV] \u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C")])):p("",!0)]))}};var Se=se(be,[["__scopeId","data-v-66920f3d"]]);const Ie={key:0,class:"overlay"},Me={class:"top-menu-bar"},Ce={class:"legendary-visual"},xe={class:"days-counter"},$e={class:"collapse-button"},Le={class:"legendary-modal-content"},Ve={key:2,class:"modal-overlay"},Ne={class:"modal-content"},Te=["innerHTML"],Oe={class:"dice-modal-content"},Fe={class:"dice-container"},Ae={class:"dice-text"},Pe={key:0,class:"dice-number-rolling"},Ee={key:1,class:"dice-result"},Be={class:"result-number"},He={class:"right-buttons-container"},Re={class:"instructions"},ze={class:"star-icons"},qe={__name:"specialLayout",setup(Y){const D=ne(),y=le(),I=c(!1),V=c(""),M=c(!1),w=c(!1),F=c(!0),C=c(!1),n=c(!1),l=c(null),r=c(!1),_=c(1),k=c(1),h=d=>{k.value=d},N=()=>{C.value=!1,A()},A=()=>{n.value=!1,l.value=null,r.value=!1,_.value=1},T=async()=>{if(n.value)return;n.value=!0,r.value=!1,l.value=null;const d=1e3,a=80;let $=Date.now();for(;Date.now()-$<d;)l.value=Math.floor(Math.random()*6)+1,await new Promise(Q=>setTimeout(Q,a));const f=2e3,S=Date.now();let J=100;const ae=400;for(;Date.now()-S<f;){l.value=Math.floor(Math.random()*6)+1;const Q=(Date.now()-S)/f;J=100+Q*(ae-100),await new Promise(oe=>setTimeout(oe,J))}_.value=Math.floor(Math.random()*6)+1,l.value=_.value,r.value=!0,n.value=!1},P=()=>{R(`
    <div style="text-align: center;">
      <p>\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435 \u043F\u0440\u043E <br>S.P.E.C.I.A.L.<br>\u0438 vismyfriend</p>
      <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
        <button onclick="window.__router.push('/v-is-my-friend/'); window.__modal.close()"
           style="padding: 8px 16px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer;">
          Vismyfriend
        </button>
        <button onclick="window.__router.push('/landing/'); window.__modal.close()"
           style="padding: 8px 16px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer;">
          my site
        </button>
      </div>
    </div>
  `)},E=()=>{y.go(0)},B=()=>{y.push("/see-all-sets-of-words/")},H=()=>{D.params.missionName?y.push(`/see-all-sets-of-words/${D.params.missionName}`):y.push("/see-all-sets-of-words/")},R=d=>{V.value=d,I.value=!0},t=()=>{I.value=!1},s=c(!1),o=()=>{b.value?y.push(`/see-all-sets-of-words/${D.params.missionName}`):(console.error("missionName is undefined"),y.push("/see-all-sets-of-words/"))},z=()=>{y.push("/see-all-sets-of-words/")},b=te(()=>!!D.params.missionName),x=()=>{y.push("/")},m=()=>{s.value=!0},q=()=>{s.value=!1};return ee(()=>{const d=localStorage.getItem("legendaryStreak");d&&(k.value=parseInt(d)||1),setTimeout(()=>{M.value=!0},1e4),window.__router=y,window.__modal={close:t}}),(d,a)=>{const $=re("router-view");return i(),u("div",null,[F.value?(i(),u("div",Ie)):p("",!0),e("div",{class:G(["top-menu-wrapper",{collapsed:M.value}])},[e("div",Me,[e("button",{class:"menu-button",onClick:P},"\u2699\uFE0F"),e("button",{class:"menu-button",onClick:H},"\u0417\u0430\u0434\u0430\u043D\u0438\u044F"),e("button",{class:"menu-button",onClick:E},"\u0417\u0430\u043D\u043E\u0432\u043E"),e("button",{class:"menu-button",onClick:B},"\u041C\u0438\u0441\u0441\u0438\u0438"),e("button",{class:"menu-button legendary-button",onClick:a[0]||(a[0]=f=>w.value=!0)},[e("span",Ce,[a[5]||(a[5]=e("span",{class:"flame"},"\u{1F525}",-1)),e("span",xe,v(k.value),1)])]),e("button",$e,v(M.value?"s.p.e.c.i.a.l.":"..."),1)])],2),w.value?(i(),u("div",{key:1,class:"legendary-modal-overlay",onClick:a[2]||(a[2]=K(f=>w.value=!1,["self"]))},[e("div",Le,[g(Se,{"current-days":k.value,onUpdateDays:h},null,8,["current-days"]),e("button",{onClick:a[1]||(a[1]=f=>w.value=!1),class:"close-legendary-modal"},"\u0417\u0430\u043A\u0440\u044B\u0442\u044C")])])):p("",!0),I.value?(i(),u("div",Ve,[e("div",Ne,[e("p",{innerHTML:V.value},null,8,Te),e("button",{onClick:t},"\u0437\u0430\u043A\u0440\u044B\u0442\u044C")])])):p("",!0),C.value?(i(),u("div",{key:3,class:"dice-modal-overlay",onClick:K(N,["self"])},[e("div",Oe,[e("button",{class:"dice-close-button",onClick:N},"\xD7"),e("div",Fe,[e("div",{class:G(["dice-roll-area",{rolling:n.value}]),onClick:T},[e("div",Ae,[X(v(n.value?"I am rolling the dice..":"Roll the dice")+" ",1),a[6]||(a[6]=e("div",{class:"translation-line"},[e("span",{class:"translation-text"},"\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u043A\u0443\u0431\u0438\u043A")],-1))]),n.value&&l.value!==null?(i(),u("div",Pe,v(l.value),1)):p("",!0),r.value?(i(),u("div",Ee,[e("div",Be,v(_.value),1),a[7]||(a[7]=e("div",{class:"result-text"},"\u0412\u044B\u043F\u0430\u043B\u043E:",-1))])):p("",!0)],2)])])])):p("",!0),g($),e("div",He,[e("button",{class:"infoButton",onClick:m}),e("button",{class:"diceButton",onClick:a[3]||(a[3]=f=>C.value=!0)})]),s.value?(i(),u("div",{key:4,class:"overlay",onClick:q},[e("div",Re,[a[9]||(a[9]=e("h3",null,"what do u wanna do?",-1)),g(O,{class:"q-mb-sm zoomIn",label:"\u041F\u043E\u043F\u0440\u043E\u0431\u043E\u0432\u0430\u0442\u044C \u0435\u0449\u0451 \u0440\u0430\u0437\xA0\xA0",push:"",color:"green",onClick:a[4]||(a[4]=f=>d.$router.go(0))},{default:Z(()=>[e("span",ze,[g(L,{name:"star",color:"yellow"}),g(L,{name:"star",color:"yellow"}),g(L,{name:"star",color:"yellow"}),g(L,{name:"star",color:"yellow"}),g(L,{name:"star",color:"yellow"})])]),_:1}),g(O,{class:"q-mb-sm zoomIn",icon:"search",label:"\u0414\u0440\u0443\u0433\u043E\u0439 \u043D\u0430\u0431\u043E\u0440 \u0441\u043B\u043E\u0432",push:"",color:"primary",onClick:z}),g(O,{class:"q-mb-sm zoomIn",icon:"fingerprint",label:"QUIT S.P.E.C.I.A.L App",stack:"",glossy:"",color:"purple",onClick:x}),b.value?(i(),ie(O,{key:0,push:"",color:"brown-5",onClick:o,label:"\u042D\u0442\u043E\u0442 \u0436\u0435 \u043D\u0430\u0431\u043E\u0440, \u0434\u0440\u0443\u0433\u043E\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435"},{default:Z(()=>a[8]||(a[8]=[X(" \u{1F50E} ")])),_:1})):p("",!0)])])):p("",!0)])}}};var Ye=se(qe,[["__scopeId","data-v-9a16a3a8"]]);export{Ye as default};
