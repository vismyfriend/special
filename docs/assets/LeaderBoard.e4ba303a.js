import{p as A,r as m,f as x,o as G,b as i,c as u,e as t,t as l,i as r,j as _,F as L,q as M,J as f,n as P}from"./index.90379313.js";import{u as R}from"./example-store.e9a7165c.js";import{a as E}from"./allSetsOfWordsList.a1f10016.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";const T={class:"result"},z={class:"congratulations-container"},D={class:"result-card"},O={class:"result-row"},V={class:"result-value time-value"},j={class:"result-row"},q={class:"result-value"},I={class:"result-row"},J={class:"result-value"},X={class:"result-row"},H={class:"name-wrapper"},K={class:"result-value agent-name"},Q={key:0,class:"leaderboard-wrapper"},U={class:"leaderboard-container"},W={class:"leaderboard"},Y={key:0,class:"highlight-row"},Z={class:"buttons-container"},tt={__name:"LeaderBoard",setup(st){const g=A(),e=R(),o=m([]),d=m(),c=m(!1),k=m(e.$state.agentName===null),p=[{agent:"TurboAgent",time:"2.00",mistakes:0},{agent:"FlashSpeed",time:"2.15",mistakes:1},{agent:"Bond007",time:"2.61",mistakes:0},{agent:"Godzilla",time:"2.62",mistakes:2},{agent:"Mike",time:"2.63",mistakes:3},{agent:"Polina",time:"3.00",mistakes:0},{agent:"Monkey",time:"3.01",mistakes:1}],h=x(()=>c.value?o.value.slice(0,100):o.value.slice(0,7)),b=()=>g.push("/see-all-sets-of-words/"),N=()=>g.go(-1),w=()=>c.value=!c.value,y=a=>{const s=E.find(n=>n.missionName===a);return(s==null?void 0:s.missionDescription)||a},$=async()=>{try{const s=(await f.scores.get(e.gameName)).data.filter(n=>n.wordSet===e.$state.wordSet);o.value=Array.isArray(s)?s:p}catch(a){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0442\u0430\u0431\u043B\u0438\u0446\u044B \u043F\u043E\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u0435\u0439:",a),o.value=p}},S=()=>{o.value=o.value.sort((a,s)=>a.time-s.time),o.value.forEach((a,s)=>{a.time=a.time/1e3,a.agent===e.$state.agentName&&(d.value=s+1)})},B=()=>{g.push("/registration")},C=async()=>{if(e.$state.agentName===null){const a=["\u0421\u0435\u043A\u0440\u0435\u0442\u043D\u044B\u0439 \u043F\u0430\u0440\u043D\u0438\u0448\u0430","\u0410\u043D\u043E\u043D\u0438\u043C\u043D\u044B\u0439 \u0430\u043D\u043E\u043D\u0438\u043C","\u041E\u0442\u0447\u0430\u044F\u043D\u043D\u044B\u0435 \u0434\u043E\u043C\u043E\u0445\u043E\u0437\u044F\u0439\u043A\u0438","\u0410\u0433\u0435\u043D\u0442 69","\u0441\u0442\u0443\u0434\u0435\u043D\u0442 \u0431\u0435\u0437 \u0438\u043C\u0435\u043D\u0438","Patrick","Alex","NONAME","test","Professor of English"],s=a[Math.floor(Math.random()*a.length)];e.setAgentName(s)}await f.scores.post(e.$state.gameName,e.$state.lastGameResults.time,e.$state.lastGameResults.mistakes,e.$state.agentName,e.$state.wordSet)};return G(async()=>{await C(),await $(),S()}),(a,s)=>(i(),u("div",T,[t("div",z,[s[4]||(s[4]=t("h2",{class:"congratulations-title"},"Congratulations!",-1)),t("div",D,[t("div",O,[s[0]||(s[0]=t("span",{class:"result-label"},"\u0412\u0440\u0435\u043C\u044F \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F:",-1)),t("span",V,l((r(e).lastGameResults.time/1e3).toFixed(2))+" \u0441\u0435\u043A.",1)]),t("div",j,[s[1]||(s[1]=t("span",{class:"result-label"},"\u041C\u0438\u0441\u0441\u0438\u044F:",-1)),t("span",q,'" '+l(y(r(e).$state.wordSet))+' "',1)]),t("div",I,[s[2]||(s[2]=t("span",{class:"result-label"},"\u0417\u0430\u0434\u0430\u043D\u0438\u0435:",-1)),t("span",J,'" '+l(r(e).$state.gameName)+' "',1)]),t("div",X,[s[3]||(s[3]=t("span",{class:"result-label"},"\u0412\u0430\u0448 \u043D\u0438\u043A\u043D\u0435\u0439\u043C:",-1)),t("div",H,[t("span",K,l(r(e).$state.agentName),1),k.value?(i(),u("button",{key:0,onClick:B,class:"change-name-btn"}," \u0421\u043C\u0435\u043D\u0438\u0442\u044C \u043D\u0438\u043A\u043D\u0435\u0439\u043C ")):_("",!0)])])]),s[5]||(s[5]=t("p",{class:"share-message"},"\u041E\u0442\u043F\u0440\u0430\u0432\u044C \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442 \u0442\u0438\u0447\u0435\u0440\u0443, \u0447\u0442\u043E\u0431\u044B \u043E\u043D \u0433\u043E\u0440\u0434\u0438\u043B\u0441\u044F! \u{1F389}",-1))]),o.value?(i(),u("div",Q,[t("div",U,[t("div",W,[t("table",null,[s[6]||(s[6]=t("thead",null,[t("tr",null,[t("th",null,"\u{1F3C6}"),t("th",null,"agent"),t("th",null,"time"),t("th",null,"fails")])],-1)),t("tbody",null,[(i(!0),u(L,null,M(h.value,(n,v)=>(i(),u("tr",{key:v,class:P({"highlight-row":d.value===v+1})},[t("td",null,l(v+1),1),t("td",null,l(n.agent),1),t("td",null,l(n.time),1),t("td",null,l(n.mistakes),1)],2))),128)),d.value>h.value.length?(i(),u("tr",Y,[t("td",null,l(d.value),1),t("td",null,l(r(e).agentName)+" (you)",1),t("td",null,l((r(e).lastGameResults.time/1e3).toFixed(2)),1),t("td",null,l(r(e).lastGameResults.mistakes),1)])):_("",!0)])])])])])):_("",!0),t("div",Z,[t("button",{class:"close-btn",onClick:b},"X"),t("button",{class:"try-again-btn",onClick:N},"Try Again"),t("button",{class:"toggle-btn",onClick:w},l(c.value?"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u25B2":"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u25BC"),1)])]))}};var nt=F(tt,[["__scopeId","data-v-38fc9f51"]]);export{nt as default};
