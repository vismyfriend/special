import{r as n,o as V,G as U,b as v,c as d,e,y as c,t as i,u as ae,j as b,w as H,H as R,i as oe,h as le,F as ie}from"./index.9eef6772.js";import{q as se}from"./questions-data.e4548d5f.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";const re={class:"tilt-debugger"},ue={__name:"TiltDebugger",setup(z){const T=n(0),E=n(0),p=n(0),m=r=>{var l,a,u;T.value=(l=r.alpha)!=null?l:0,E.value=(a=r.beta)!=null?a:0,p.value=(u=r.gamma)!=null?u:0};return V(()=>{window.addEventListener("deviceorientation",m)}),U(()=>{window.removeEventListener("deviceorientation",m)}),(r,l)=>(v(),d("div",re,[l[3]||(l[3]=e("h4",null,"\u{1F4D0} \u041D\u0430\u043A\u043B\u043E\u043D\u044B \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430:",-1)),e("div",null,[l[0]||(l[0]=e("strong",null,"Alpha (\u043E\u0441\u0438 Z):",-1)),c(" "+i(T.value.toFixed(1))+"\xB0",1)]),e("div",null,[l[1]||(l[1]=e("strong",null,"Beta (\u043D\u0430\u043A\u043B\u043E\u043D \u043D\u0430 \u0441\u0435\u0431\u044F / \u043E\u0442 \u0441\u0435\u0431\u044F):",-1)),c(" "+i(E.value.toFixed(1))+"\xB0",1)]),e("div",null,[l[2]||(l[2]=e("strong",null,"Gamma (\u0432\u043B\u0435\u0432\u043E / \u0432\u043F\u0440\u0430\u0432\u043E):",-1)),c(" "+i(p.value.toFixed(1))+"\xB0",1)])]))}};var ve=A(ue,[["__scopeId","data-v-71e860ce"]]);const de={key:0,class:"modal-overlay"},ce={key:1,class:"game-container"},pe={key:0,class:"modal-overlay"},me={class:"modal-content"},ge={key:1,class:"modal-overlay"},fe={class:"modal-content"},we={class:"word"},_e={class:"translation"},ke={class:"counter-row"},be={class:"tilt-flags-debug"},Te={__name:"GameExplainTheWord",setup(z){const T=ae(),E=/iPhone|iPad|iPod/i.test(navigator.userAgent),p=n({canForward:!0,canBackward:!0}),m=n([]),r=n([]),l=n([]),a=n({}),u=n(!1),h=n(!0),M=n(!1),D=n(""),g=n(0),x=n(!1),y=n(null),S=n(0),I=n(0),K=n("portrait"),O=()=>{K.value=window.innerWidth>window.innerHeight?"landscape":"portrait"},f=n(!1),w=n("on"),Z=()=>{u.value=!1},_=o=>{D.value=`${o}

Next: ${S.value} \u0440\u0430\u0437
Skip: ${I.value} \u0440\u0430\u0437`,u.value=!0},F=()=>{S.value+=1,B()},j=()=>{I.value+=1,B()},P=()=>{X()},J=()=>{const o=a.value.ru;a.value.ru=a.value.eng,a.value.eng=o},Q=o=>o.sort(()=>Math.random()-.5),B=()=>{if(r.value.length===0){_("\u{1F389} \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430!");return}a.value&&!a.value.isIntro&&l.value.push(a.value),a.value=r.value.pop()},X=()=>{l.value.length!==0&&(a.value&&r.value.push(a.value),a.value=l.value.pop())},Y=()=>{if(x.value){clearInterval(y.value),g.value=0,x.value=!1;return}B(),g.value=10,x.value=!0,y.value=setInterval(()=>{g.value-=1,g.value<=0&&(clearInterval(y.value),x.value=!1,_("\u23F0 \u0412\u0440\u0435\u043C\u044F \u0432\u044B\u0448\u043B\u043E!"))},1e3)};let L=0,C=!0,N=!0;const k=o=>{if(w.value!=="on")return;const{beta:t}=o,s=Date.now(),W=125,$=30,q=90,G=800;t>$&&t<q&&(N=!0),t<W&&t>q&&(C=!0),t>W&&C&&s-L>G?(navigator.vibrate&&navigator.vibrate(30),F(),L=s,C=!1):t<$&&N&&s-L>G&&(navigator.vibrate&&navigator.vibrate(30),P(),L=s,N=!1),p.value={canForward:C,canBackward:N}},ee=()=>{window.DeviceOrientationEvent?typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(o=>{o==="granted"&&(window.addEventListener("deviceorientation",k),f.value=!0,_("\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430\u043A\u043B\u043E\u043D\u0430\u043C\u0438 \u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D\u043E!"))}).catch(o=>{console.error("Permission denied:",o),_("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u0434\u0430\u0442\u0447\u0438\u043A\u0430\u043C")}):(window.addEventListener("deviceorientation",k),f.value=!0):_("\u0412\u0430\u0448\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430\u043A\u043B\u043E\u043D\u0430\u043C\u0438")},te=()=>{h.value=!1},ne=async()=>{if(h.value=!1,O(),window.DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"&&(window.addEventListener("deviceorientation",k),f.value=!0,D.value=`\u2705 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,u.value=!0)}catch(o){console.warn("Permission denied",o)}else window.addEventListener("deviceorientation",k),f.value=!0,D.value=`\u2705 \u041D\u0430\u043A\u043B\u043E\u043D\u044B \u0432\u043A\u043B\u044E\u0447\u0435\u043D\u044B!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,u.value=!0};return V(()=>{const o=T.params.missionName;m.value=se[o]||[],r.value=Q([...m.value]),a.value={ru:"\u041E\u0431\u044A\u044F\u0441\u043D\u0438 \u044D\u0442\u043E \u043C\u043D\u0435",eng:"Explain it to me",isIntro:!0},O(),window.addEventListener("resize",O)}),U(()=>{clearInterval(y.value),window.removeEventListener("deviceorientation",k),window.removeEventListener("resize",O)}),(o,t)=>(v(),d(ie,null,[h.value?(v(),d("div",de,[e("div",{class:"modal-content"},[t[4]||(t[4]=e("p",null,"\u0412\u044B \u0438\u0433\u0440\u0430\u0435\u0442\u0435 \u0441 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u0438\u043B\u0438 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430?",-1)),e("button",{onClick:ne},"\u{1F4F1} \u0421 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E"),e("button",{onClick:te},"\u{1F4BB} \u0421 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430")])])):b("",!0),m.value.length?(v(),d("div",ce,[e("button",{onClick:t[0]||(t[0]=s=>M.value=!0)},"\u2699"),M.value?(v(),d("div",pe,[e("div",me,[t[7]||(t[7]=e("p",null,"\u0420\u0435\u0436\u0438\u043C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043D\u0430\u043A\u043B\u043E\u043D\u0430\u043C\u0438:",-1)),e("label",null,[H(e("input",{type:"radio",value:"off","onUpdate:modelValue":t[1]||(t[1]=s=>w.value=s)},null,512),[[R,w.value]]),t[5]||(t[5]=c(" \u{1F515} \u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),t[8]||(t[8]=e("br",null,null,-1)),e("label",null,[H(e("input",{type:"radio",value:"on","onUpdate:modelValue":t[2]||(t[2]=s=>w.value=s)},null,512),[[R,w.value]]),t[6]||(t[6]=c(" \u{1F4F2} \u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),t[9]||(t[9]=e("br",null,null,-1)),e("button",{onClick:t[3]||(t[3]=s=>M.value=!1)},"OK")])])):b("",!0),u.value?(v(),d("div",ge,[e("div",fe,[e("p",null,i(D.value),1),e("button",{onClick:Z},"OK")])])):b("",!0),e("div",{class:"word-card",onClick:J},[e("div",we,i(a.value.eng),1),e("div",_e,i(a.value.ru),1)]),e("div",{class:"timer",onClick:Y},i(g.value>0?`${g.value} \u0441\u0435\u043A`:"\u0421\u0442\u0430\u0440\u0442"),1),e("div",{class:"button-row"},[e("button",{onClick:P},"\u2190 Back"),e("button",{onClick:F},"\u2192 Next"),e("button",{onClick:j},"\u23ED Skip")]),e("div",ke,[e("span",null,"Next: "+i(S.value),1),e("span",null,"Skip: "+i(I.value),1)]),!f.value&&oe(E)?(v(),d("button",{key:2,onClick:ee}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043D\u0430\u043A\u043B\u043E\u043D\u044B ")):b("",!0)])):b("",!0),le(ve),e("div",be,[e("p",null,[t[10]||(t[10]=e("strong",null,"canTriggerForward:",-1)),c(" "+i(p.value.canForward?"\u2705":"\u274C"),1)]),e("p",null,[t[11]||(t[11]=e("strong",null,"canTriggerBackward:",-1)),c(" "+i(p.value.canBackward?"\u2705":"\u274C"),1)])])],64))}};var ye=A(Te,[["__scopeId","data-v-ec1d7a5a"]]);export{ye as default};
