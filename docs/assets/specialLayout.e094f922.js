import{b as r,i as te,d as se,y as ie,o as i,f as u,h as e,t as c,k as j,F as W,q as K,n as U,l as y,u as ce,p as ue,r as de,z as X,a as _,s as Z,w as ee,Q as E,c as ve,A}from"./index.c0eaa48e.js";import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";const me={class:"legendary-mode-content"},pe={class:"streak-info"},fe={class:"current-streak"},ye={class:"streak-number"},ge={class:"streak-description"},_e={class:"stats-container"},he={class:"stat-item"},ke={class:"stat-number"},be={class:"stat-item"},Se={class:"stat-number"},De={class:"stat-item"},we={class:"stat-number"},Ie={class:"calendar-container"},Me={class:"calendar-header"},Ce={class:"calendar-grid"},$e={class:"calendar-days-header"},Ve={class:"calendar-days"},xe={key:0},Ne={key:1,class:"fire-icon"},Te={class:"motivational-text"},Le={key:0,class:"dev-controls"},Ae={__name:"LegendaryMode",props:{currentDays:{type:Number,default:1}},setup(Y){const S=Y,m=!1,o=r(S.currentDays),D=r(0),h=r(0),v=r([]),w=new Date().getFullYear(),$=["\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431","\u0412\u0441"];function g(){try{o.value=S.currentDays;const a=localStorage.getItem("allVisits"),s=localStorage.getItem("bestStreak");a&&(v.value=JSON.parse(a),D.value=v.value.length),s&&(h.value=parseInt(s)),o.value>h.value&&(h.value=o.value,localStorage.setItem("bestStreak",h.value.toString()))}catch(a){console.error("Error loading tracker data:",a)}}function k(){const a=new Date,s=a.getMonth(),l=a.getDate(),R=new Date(w,s,1),J=new Date(w,s+1,0);let V=R.getDay();V===0&&(V=7);const x=[];for(let f=1;f<V;f++)x.push({date:null,isActive:!1,isToday:!1,isFuture:!1});for(let f=1;f<=J.getDate();f++){const N=`${w}-${String(s+1).padStart(2,"0")}-${String(f).padStart(2,"0")}`,T=f===l,z=f>l,q=v.value.includes(N);x.push({date:f,isActive:q,isToday:T,isFuture:z})}return x}const I=()=>{const a=new Date,s=new Date(a);s.setDate(s.getDate()-1);const l=s.toISOString().slice(0,10);a.toISOString().slice(0,10),v.value.includes(l)||v.value.push(l),o.value+=1,D.value=v.value.length,localStorage.setItem("allVisits",JSON.stringify(v.value)),localStorage.setItem("currentStreak",o.value.toString()),alert(`\u0414\u0435\u043D\u044C \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D! \u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0441\u0435\u0440\u0438\u044F: ${o.value} \u0434\u043D\u0435\u0439`)},M=()=>{o.value=1,localStorage.setItem("currentStreak","1"),alert("\u0421\u0435\u0440\u0438\u044F \u0441\u0431\u0440\u043E\u0448\u0435\u043D\u0430!")},p=()=>{o.value=1,v.value=[],D.value=0,h.value=0,localStorage.setItem("currentStreak","1"),localStorage.setItem("allVisits","[]"),localStorage.setItem("bestStreak","0"),localStorage.removeItem("lastVisitDate"),alert("\u0412\u0441\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0441\u0431\u0440\u043E\u0448\u0435\u043D\u044B!")},B=()=>o.value===1?"\u041D\u0430\u0447\u043D\u0438 \u0441\u0432\u043E\u0439 \u043B\u0435\u0433\u0435\u043D\u0434\u0430\u0440\u043D\u044B\u0439 \u043F\u0443\u0442\u044C!":o.value<7?"\u041E\u0442\u043B\u0438\u0447\u043D\u043E\u0435 \u043D\u0430\u0447\u0430\u043B\u043E! \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0439 \u0432 \u0442\u043E\u043C \u0436\u0435 \u0434\u0443\u0445\u0435!":o.value<30?"\u041D\u0435\u0434\u0435\u043B\u044F \u0437\u0430 \u043D\u0435\u0434\u0435\u043B\u0435\u0439 - \u0442\u044B \u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0448\u044C\u0441\u044F \u0441\u0438\u043B\u044C\u043D\u0435\u0435!":o.value<100?"\u041C\u0435\u0441\u044F\u0446 \u0437\u0430 \u043C\u0435\u0441\u044F\u0446\u0435\u043C - \u0442\u044B \u043D\u0430\u0441\u0442\u043E\u044F\u0449\u0438\u0439 \u0433\u0435\u0440\u043E\u0439!":"\u0422\u044B \u043B\u0435\u0433\u0435\u043D\u0434\u0430! \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0439 \u0441\u0432\u043E\u0439 \u043F\u0443\u0442\u044C!",P=()=>{const a=["\u041A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C - \u044D\u0442\u043E \u0448\u0430\u0433 \u043A \u0441\u043E\u0432\u0435\u0440\u0448\u0435\u043D\u0441\u0442\u0432\u0443!","\u0421\u0438\u0441\u0442\u0435\u043C\u0430\u0442\u0438\u0447\u043D\u043E\u0441\u0442\u044C - \u043A\u043B\u044E\u0447 \u043A \u0443\u0441\u043F\u0435\u0445\u0443!","\u0422\u044B \u0434\u0435\u043B\u0430\u0435\u0448\u044C \u044D\u0442\u043E \u043A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C - \u0442\u044B \u043C\u043E\u043B\u043E\u0434\u0435\u0446!","\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0439 \u0432 \u0442\u043E\u043C \u0436\u0435 \u0434\u0443\u0445\u0435!","\u0422\u044B \u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0448\u044C\u0441\u044F \u043B\u0443\u0447\u0448\u0435 \u0441 \u043A\u0430\u0436\u0434\u044B\u043C \u0434\u043D\u0435\u043C!"];return a[Math.floor(Math.random()*a.length)]},O=()=>["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"][new Date().getMonth()],F=te(k);return se(()=>{g()}),ie(()=>S.currentDays,a=>{o.value=a,g()}),(a,s)=>(i(),u("div",me,[s[4]||(s[4]=e("div",{class:"modal-header"},[e("h2",null,"\u{1F525} Legendary Mode")],-1)),e("div",pe,[e("div",fe,[e("span",ye,c(o.value),1),s[0]||(s[0]=e("span",{class:"streak-text"},"\u0434\u043D\u0435\u0439 \u043F\u043E\u0434\u0440\u044F\u0434",-1))]),e("p",ge,c(B()),1)]),e("div",_e,[e("div",he,[e("span",ke,c(D.value),1),s[1]||(s[1]=e("span",{class:"stat-label"},"\u0432\u0441\u0435\u0433\u043E \u043F\u043E\u0441\u0435\u0449\u0435\u043D\u0438\u0439",-1))]),e("div",be,[e("span",Se,c(o.value),1),s[2]||(s[2]=e("span",{class:"stat-label"},"\u0442\u0435\u043A\u0443\u0449\u0430\u044F \u0441\u0435\u0440\u0438\u044F",-1))]),e("div",De,[e("span",we,c(h.value),1),s[3]||(s[3]=e("span",{class:"stat-label"},"\u0440\u0435\u043A\u043E\u0440\u0434",-1))])]),e("div",Ie,[e("div",Me,[e("h3",null,c(O())+" "+c(j(w)),1)]),e("div",Ce,[e("div",$e,[(i(),u(W,null,K($,l=>e("div",{key:l,class:"day-header"},c(l),1)),64))]),e("div",Ve,[(i(!0),u(W,null,K(F.value,l=>(i(),u("div",{key:l.date,class:U(["calendar-day",{empty:!l.date,active:l.isActive,today:l.isToday,future:l.isFuture}])},[l.date?(i(),u("span",xe,c(l.date),1)):y("",!0),l.isActive?(i(),u("span",Ne,"\u{1F525}")):y("",!0)],2))),128))])])]),e("div",Te,[e("p",null,c(P()),1)]),j(m)?(i(),u("div",Le,[e("button",{onClick:I,class:"dev-button"},"[DEV] +1 \u0434\u0435\u043D\u044C"),e("button",{onClick:M,class:"dev-button"},"[DEV] \u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u0434\u0435\u043D\u044C"),e("button",{onClick:p,class:"dev-button"},"[DEV] \u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C")])):y("",!0)]))}};var Oe=ae(Ae,[["__scopeId","data-v-04f28f76"]]);const Ee={key:0,class:"overlay"},Be={class:"top-menu-bar"},Pe={class:"legendary-visual"},Fe={class:"days-counter"},Re={class:"collapse-button"},Je={class:"legendary-modal-content"},ze={key:2,class:"modal-overlay"},qe={class:"modal-content"},Qe=["innerHTML"],Ge={class:"dice-modal-content"},Ue={class:"dice-container"},Ye={class:"dice-text"},He={key:0,class:"dice-number-rolling"},je={key:1,class:"dice-result"},We={class:"result-number"},Ke={class:"right-buttons-container"},Xe={class:"instructions"},Ze={class:"star-icons"},et={__name:"specialLayout",setup(Y){const S=ce(),m=ue(),o=r(!1),D=r(""),h=r(!1),v=r(!1),w=r(!0),$=r(!1),g=r(!1),k=r(null),I=r(!1),M=r(1),p=r(1);function B(){return new Date().toISOString().slice(0,10)}function P(){const n=B(),t=localStorage.getItem("lastVisitDate"),b=parseInt(localStorage.getItem("currentStreak"))||1,d=JSON.parse(localStorage.getItem("allVisits")||"[]");if(t===n){p.value=b;return}if(t){const L=new Date(t),G=new Date(n)-L,C=Math.floor(G/(1e3*60*60*24));C===1?p.value=b+1:C>1&&(p.value=1)}else p.value=1;localStorage.setItem("lastVisitDate",n),localStorage.setItem("currentStreak",p.value.toString()),d.includes(n)||(d.push(n),localStorage.setItem("allVisits",JSON.stringify(d))),console.log("Streak updated:",{today:n,lastVisit:t,newStreak:p.value,allVisits:d.length})}function O(){return JSON.parse(localStorage.getItem("allVisits")||"[]")}function F(){const n=O(),t=new Date;t.setDate(t.getDate()-365);const b=n.filter(d=>new Date(d)>=t);return localStorage.setItem("allVisits",JSON.stringify(b)),b}const a=()=>{$.value=!1,s()},s=()=>{g.value=!1,k.value=null,I.value=!1,M.value=1},l=async()=>{if(g.value)return;g.value=!0,I.value=!1,k.value=null;const n=1e3,t=80;let b=Date.now();for(;Date.now()-b<n;)k.value=Math.floor(Math.random()*6)+1,await new Promise(C=>setTimeout(C,t));const d=2e3,L=Date.now();let Q=100;const G=400;for(;Date.now()-L<d;){k.value=Math.floor(Math.random()*6)+1;const C=(Date.now()-L)/d;Q=100+C*(G-100),await new Promise(re=>setTimeout(re,Q))}M.value=Math.floor(Math.random()*6)+1,k.value=M.value,I.value=!0,g.value=!1},R=()=>{f(`
    <div style="text-align: center;">
      <p>\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435 \u043F\u0440\u043E <br>S.P.E.C.I.A.L.<br>\u0438 vismyfriend</p>
      <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
        <button id="vismyfriend-btn"
           style="padding: 8px 16px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer;">
          Vismyfriend
        </button>
        <button id="mysite-btn"
           style="padding: 8px 16px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer;">
          my site
        </button>
      </div>
    </div>
  `),setTimeout(()=>{var n,t;(n=document.getElementById("vismyfriend-btn"))==null||n.addEventListener("click",()=>{m.push("/v-is-my-friend/"),N()}),(t=document.getElementById("mysite-btn"))==null||t.addEventListener("click",()=>{m.push("/landing/"),N()})},100)},J=()=>{m.go(0)},V=()=>{m.push("/see-all-sets-of-words/")},x=()=>{S.params.missionName?m.push(`/see-all-sets-of-words/${S.params.missionName}`):m.push("/see-all-sets-of-words/")},f=n=>{D.value=n,o.value=!0},N=()=>{o.value=!1},T=r(!1),z=()=>{H.value?m.push(`/see-all-sets-of-words/${S.params.missionName}`):(console.error("missionName is undefined"),m.push("/see-all-sets-of-words/"))},q=()=>{m.push("/see-all-sets-of-words/")},H=te(()=>!!S.params.missionName),oe=()=>{m.push("/")},le=()=>{T.value=!0},ne=()=>{T.value=!1};return se(()=>{P(),F(),console.log("Current streak:",p.value),console.log("All visits:",O())}),(n,t)=>{const b=de("router-view");return i(),u("div",null,[w.value?(i(),u("div",Ee)):y("",!0),e("div",{class:U(["top-menu-wrapper",{collapsed:h.value}])},[e("div",Be,[e("button",{class:"menu-button",onClick:R},"\u2699\uFE0F"),e("button",{class:"menu-button",onClick:x},"\u0417\u0430\u0434\u0430\u043D\u0438\u044F"),e("button",{class:"menu-button",onClick:J},"\u0417\u0430\u043D\u043E\u0432\u043E"),e("button",{class:"menu-button",onClick:V},"\u041C\u0438\u0441\u0441\u0438\u0438"),e("button",{class:"menu-button legendary-button",onClick:t[0]||(t[0]=d=>v.value=!0)},[e("span",Pe,[t[5]||(t[5]=e("span",{class:"flame"},"\u{1F525}",-1)),e("span",Fe,c(p.value),1)])]),e("button",Re,c(h.value?"s.p.e.c.i.a.l.":"..."),1)])],2),v.value?(i(),u("div",{key:1,class:"legendary-modal-overlay",onClick:t[2]||(t[2]=X(d=>v.value=!1,["self"]))},[e("div",Je,[_(Oe,{"current-days":p.value,onUpdateDays:n.updateLegendaryDays},null,8,["current-days","onUpdateDays"]),e("button",{onClick:t[1]||(t[1]=d=>v.value=!1),class:"close-legendary-modal"},"\u0417\u0430\u043A\u0440\u044B\u0442\u044C")])])):y("",!0),o.value?(i(),u("div",ze,[e("div",qe,[e("p",{innerHTML:D.value},null,8,Qe),e("button",{onClick:N},"\u0437\u0430\u043A\u0440\u044B\u0442\u044C")])])):y("",!0),$.value?(i(),u("div",{key:3,class:"dice-modal-overlay",onClick:X(a,["self"])},[e("div",Ge,[e("button",{class:"dice-close-button",onClick:a},"\xD7"),e("div",Ue,[e("div",{class:U(["dice-roll-area",{rolling:g.value}]),onClick:l},[e("div",Ye,[Z(c(g.value?"I am rolling the dice..":"Roll the dice")+" ",1),t[6]||(t[6]=e("div",{class:"translation-line"},[e("span",{class:"translation-text"},"\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u043A\u0443\u0431\u0438\u043A")],-1))]),g.value&&k.value!==null?(i(),u("div",He,c(k.value),1)):y("",!0),I.value?(i(),u("div",je,[e("div",We,c(M.value),1),t[7]||(t[7]=e("div",{class:"result-text"},"\u0412\u044B\u043F\u0430\u043B\u043E:",-1))])):y("",!0)],2)])])])):y("",!0),_(b),e("div",Ke,[e("button",{class:"infoButton",onClick:le}),e("button",{class:"diceButton",onClick:t[3]||(t[3]=d=>$.value=!0)})]),T.value?(i(),u("div",{key:4,class:"overlay",onClick:ne},[e("div",Xe,[t[9]||(t[9]=e("h3",null,"what do u wanna do?",-1)),_(E,{class:"q-mb-sm zoomIn",label:"\u041F\u043E\u043F\u0440\u043E\u0431\u043E\u0432\u0430\u0442\u044C \u0435\u0449\u0451 \u0440\u0430\u0437\xA0\xA0",push:"",color:"green",onClick:t[4]||(t[4]=d=>n.$router.go(0))},{default:ee(()=>[e("span",Ze,[_(A,{name:"star",color:"yellow"}),_(A,{name:"star",color:"yellow"}),_(A,{name:"star",color:"yellow"}),_(A,{name:"star",color:"yellow"}),_(A,{name:"star",color:"yellow"})])]),_:1}),_(E,{class:"q-mb-sm zoomIn",icon:"search",label:"\u0414\u0440\u0443\u0433\u043E\u0439 \u043D\u0430\u0431\u043E\u0440 \u0441\u043B\u043E\u0432",push:"",color:"primary",onClick:q}),_(E,{class:"q-mb-sm zoomIn",icon:"fingerprint",label:"QUIT S.P.E.C.I.A.L App",stack:"",glossy:"",color:"purple",onClick:oe}),H.value?(i(),ve(E,{key:0,push:"",color:"brown-5",onClick:z,label:"\u042D\u0442\u043E\u0442 \u0436\u0435 \u043D\u0430\u0431\u043E\u0440, \u0434\u0440\u0443\u0433\u043E\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435"},{default:ee(()=>t[8]||(t[8]=[Z(" \u{1F50E} ")])),_:1})):y("",!0)])])):y("",!0)])}}};var at=ae(et,[["__scopeId","data-v-19ef620d"]]);export{at as default};
