import{h as N,n as R,r as t,p as S,o as $,b as c,c as r,d as u,y as z,F as b,l as M,t as f,f as E,x as G}from"./index.5b75ae55.js";import{s as V}from"./short-words-data.dc88ca1d.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";const j={class:"progress-container"},q={key:0,class:"row"},J={class:"col"},K=["onClick"],O={class:"col"},Q=["onClick"],U={key:0,class:"result"},X={__name:"GameFindPairsHard",setup(Y){N();const P=R(),g=s=>s.sort(()=>Math.random()-.5),k=t(),v=t(),i=t([]),n=t([]),_=t(!1),C=t(0),y=t(0),d=t({minutes:0,seconds:0,milliseconds:0}),h=t(0),w=t(5),T=t(20),x=t(0),A=S(()=>`${x.value/T.value*100}%`),B=(s,e)=>g(s).slice(0,e),m=s=>{var a;let e=(a=v.value)==null?void 0:a.map(l=>({id:l.id,lang:l[s],active:!1,visible:!0}));return e=e.slice(h.value,w.value),g(e)},p=s=>{switch(s){case"left":i.value.forEach(e=>e.active=!1);break;case"right":n.value.forEach(e=>e.active=!1);break;default:i.value.forEach(e=>e.active=!1),n.value.forEach(e=>e.active=!1);break}},F=(s,e)=>{let a,l;if(e==="left"){if(p(e),a=i.value.find(o=>o.id===s),a.active=!0,l=n.value.find(o=>o.active),!l)return}else if(p(e),l=n.value.find(o=>o.id===s),l.active=!0,a=i.value.find(o=>o.active),!a)return;a.id===l.id&&D(l,a),p()},D=(s,e)=>{s.visible=!1,e.visible=!1,x.value++,i.value.every(l=>l.visible===!1)&&(w.value+=5,h.value+=5,h.value<v.value.length?(n.value=m("ru"),i.value=m("eng")):H())},H=()=>{_.value||(_.value=!0,y.value=performance.now(),I())},I=()=>{const s=y.value-C.value;d.value.minutes=Math.floor(s/6e4),d.value.seconds=Math.floor(s%6e4/1e3),d.value.milliseconds=(s%1e3).toFixed(0).replace(".","")};return $(()=>{k.value=P.params.missionName,v.value=V[k.value],v.value=B(v.value,20),n.value=m("ru"),i.value=m("eng"),C.value=performance.now()}),(s,e)=>(c(),r(b,null,[u("div",j,[u("div",{class:"progress-bar",style:z({width:A.value})},null,4)]),v.value?(c(),r("div",q,[u("div",J,[(c(!0),r(b,null,M(i.value,a=>(c(),r("div",{class:G(["flex direction-column wordCard",[a.active?"active":"",a.visible?"":"invisible"]]),key:a.id,onClick:l=>F(a.id,"left")},f(a.lang),11,K))),128))]),u("div",O,[(c(!0),r(b,null,M(n.value,a=>(c(),r("div",{class:G(["flex direction-column wordCard",[a.active?"active":"",a.visible?"":"invisible"]]),key:a.id,onClick:l=>F(a.id,"right")},f(a.lang),11,Q))),128))]),_.value?(c(),r("div",U,[e[0]||(e[0]=u("p",null,"\u0412\u044B \u043D\u0430\u0448\u043B\u0438 \u0432\u0441\u0435 \u043F\u0430\u0440\u044B!",-1)),e[1]||(e[1]=u("p",null,"\u0412\u0440\u0435\u043C\u044F \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F: ",-1)),u("p",null,f(d.value.minutes)+" \u043C\u0438\u043D\u0443\u0442 "+f(d.value.seconds)+" \u0441\u0435\u043A\u0443\u043D\u0434 "+f(d.value.milliseconds)+" \u043C\u0438\u043B\u043B\u0438\u0441\u0435\u043A\u0443\u043D\u0434",1)])):E("",!0)])):E("",!0)],64))}};var se=L(X,[["__scopeId","data-v-78b3f2f0"]]);export{se as default};
