import{u as R,r as t,o as V,G as j,b as m,c as p,e,j as k,t as r,i as A,F as H}from"./index.34d0e6f6.js";import{q as K}from"./questions-data.e4548d5f.js";import{_ as U}from"./plugin-vue_export-helper.21dcd24c.js";const J={key:0,class:"modal-overlay"},Q={key:1,class:"game-container"},X={key:0,class:"modal-overlay"},Y={class:"modal-content"},Z={class:"word"},ee={class:"translation"},te={class:"counter-row"},ne=1e3,oe={__name:"GameExplainTheWord",setup(ae){const N=R(),S=/iPhone|iPad|iPod/i.test(navigator.userAgent),g=t([]),f=t([]),E=t([]),o=t({}),w=t(!1),x=t(""),i=t(0),_=t(!1),u=t(null),T=()=>{},P=()=>{w.value=!1},C=t(0),y=t(0),M=n=>{x.value=`${n}

Next: ${C.value} \u0440\u0430\u0437
Skip: ${y.value} \u0440\u0430\u0437`,w.value=!0},D=t(!0),W=()=>{D.value=!1},q=async()=>{D.value=!1,h();const n=`\u2705 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,a=`\u2705 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u0432\u043F\u0440\u0430\u0432\u043E** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u0432\u043B\u0435\u0432\u043E** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,s=()=>{x.value=O.value==="portrait"?n:a,w.value=!0};if(window.DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"&&(window.addEventListener("deviceorientation",l),v.value=!0,s())}catch(I){console.warn("Permission denied",I)}else window.addEventListener("deviceorientation",l),v.value=!0,s()},B=()=>{C.value+=1,c()},G=()=>{y.value+=1,c()},$=()=>{L()},z=n=>n.sort(()=>Math.random()-.5),c=()=>{if(f.value.length===0){M("\u{1F389} \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430!");return}o.value&&!o.value.isIntro&&E.value.push(o.value),o.value=f.value.pop()},L=()=>{E.value.length!==0&&(o.value&&f.value.push(o.value),o.value=E.value.pop())},F=()=>{if(_.value){clearInterval(u.value),i.value=0,_.value=!1;return}c(),i.value=10,_.value=!0,u.value=setInterval(()=>{i.value-=1,i.value<=0&&(clearInterval(u.value),_.value=!1,M("\u23F0 \u0412\u0440\u0435\u043C\u044F \u0432\u044B\u0448\u043B\u043E!"))},1e3)},v=t(!1);let d=0;const O=t("portrait"),h=()=>{O.value=window.innerWidth>window.innerHeight?"landscape":"portrait"};window.addEventListener("resize",h);const l=n=>{const a=Date.now();if(!(a-d<ne))if(h(),O.value==="portrait"){const{beta:s}=n;s>135?(c(),d=a):s<45&&(L(),d=a)}else{const{gamma:s}=n;s>30?(c(),d=a):s<-30&&(L(),d=a)}},b=()=>{window.DeviceOrientationEvent&&(typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(n=>{n==="granted"&&(window.addEventListener("deviceorientation",l),v.value=!0)}):(window.addEventListener("deviceorientation",l),v.value=!0))};return V(()=>{const n=N.params.missionName;g.value=K[n]||[],f.value=z([...g.value]),o.value={ru:"\u041E\u0431\u044A\u044F\u0441\u043D\u0438 \u044D\u0442\u043E \u043C\u043D\u0435",eng:"Explain it to me",isIntro:!0},clearInterval(u.value),window.removeEventListener("deviceorientation",l),window.removeEventListener("resize",h),b()}),j(()=>{clearInterval(u.value),window.removeEventListener("deviceorientation",l)}),(n,a)=>(m(),p(H,null,[D.value?(m(),p("div",J,[e("div",{class:"modal-content"},[a[0]||(a[0]=e("p",null,"\u0412\u044B \u0438\u0433\u0440\u0430\u0435\u0442\u0435 \u0441 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u0438\u043B\u0438 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430?",-1)),e("button",{onClick:q},"\u{1F4F1} \u0421 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E"),e("button",{onClick:W},"\u{1F4BB} \u0421 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430")])])):k("",!0),g.value.length?(m(),p("div",Q,[w.value?(m(),p("div",X,[e("div",Y,[e("p",null,r(x.value),1),e("button",{onClick:P},"OK")])])):k("",!0),e("div",{class:"word-card",onClick:T},[e("div",Z,r(o.value.eng),1),e("div",ee,r(o.value.ru),1)]),e("div",{class:"timer",onClick:F},r(i.value>0?`${i.value} \u0441\u0435\u043A`:"\u0421\u0442\u0430\u0440\u0442"),1),e("div",{class:"button-row"},[e("button",{onClick:$},"\u2190 Back"),e("button",{onClick:B},"\u2192 Next"),e("button",{onClick:G},"\u23ED Skip")]),e("div",te,[e("span",null,"Next: "+r(C.value),1),e("span",null,"Skip: "+r(y.value),1)]),!v.value&&A(S)?(m(),p("button",{key:1,onClick:b}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043D\u0430\u043A\u043B\u043E\u043D\u044B ")):k("",!0)])):k("",!0)],64))}};var re=U(oe,[["__scopeId","data-v-6998764e"]]);export{re as default};
