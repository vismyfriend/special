import{u as be,b as C,d as ke,o as l,f as a,h as u,t as m,F as g,q as k,l as b,x as we,s as z,j as U,I as Y,n as S,m as R,D as Ae,J as Ce,z as Z,G as I}from"./index.74705596.js";import{g as De}from"./GameTestsNoSeedNoShuffleData.ee6e02b9.js";import{_ as Se}from"./plugin-vue_export-helper.21dcd24c.js";const Ee={key:0,class:"exercise-container"},Te={class:"exercise-header"},$e={class:"header-bottom"},ze={class:"task-counter"},Ne={key:0,class:"audio-player-sticky-container"},Oe={controls:"",class:"audio-player",controlsList:"nodownload",oncontextmenu:"return false;"},Ue=["src"],Fe={class:"task-content"},Me={key:0,class:"useful-words-container"},He={class:"useful-words"},Le={class:"useful-words-content"},Pe={class:"english-word"},We={class:"translation"},Ge={key:0,class:"comma"},Qe={class:"task-title"},Re={key:1,class:"task-image-container"},Ke=["src","alt"],Be={key:2,class:"true-false-container"},je={class:"true-false-table"},Ve={class:"radio-label"},Xe=["name","onUpdate:modelValue"],Je={class:"radio-label"},Ye=["name","onUpdate:modelValue"],Ze={key:3,class:"multiple-choice-container"},Ie={class:"question-text margin-bottom"},xe={key:0,class:"question-image-container"},qe=["src","alt"],et={class:"options-container"},tt=["name","value","onClick"],st={class:"option-text"},ot={key:1,class:"explain-container"},nt={key:0,class:"explanation-content"},rt=["onClick"],lt={key:4,class:"student-input-container"},at={class:"question-text"},ut=["onUpdate:modelValue","onKeyup","data-task","data-question"],ct=["onUpdate:modelValue","onInput","data-task","data-question"],it={key:0,class:"answer-feedback"},dt={key:0,class:"correct-answer"},pt={key:1,class:"correct-answer"},ht={key:2,class:"almost-answer"},vt={key:3,class:"incorrect-answer"},ft={key:5,class:"drop-down-text-container"},_t=["onUpdate:modelValue"],mt=["value"],gt={key:0,class:"answer-feedback"},yt={key:0,class:"correct-answer"},bt={key:1,class:"incorrect-answer"},kt={key:6,class:"grid-table-container"},wt={class:"grid-table"},At=["onUpdate:modelValue","placeholder"],Ct={key:0,class:"grid-table-feedback"},Dt={key:0,class:"correct-feedback"},St={key:1,class:"almost-feedback"},Et={key:7,class:"discussion-task-container"},Tt={class:"question-controls"},$t=["onClick"],zt={class:"question-text"},Nt={class:"translation-section"},Ot=["onClick"],Ut={key:1,class:"translation-text"},Ft={key:1,class:"translation-text collapsed-translation"},Mt={class:"task-footer"},Ht={class:"task-controls"},Lt=["onClick"],Pt=["onClick","data-task-type"],Wt=["onClick"],Gt={key:0,class:"text-script-content"},Qt={class:"task-navigation"},Rt=["disabled"],Kt=["disabled"],Bt={__name:"GameTestsNoSeedNoShuffle",setup(jt){const x=be(),f=C(null),h=C([]),D=C([]),L=C(null),P=C([]),K=C(""),E=C(0),T=C([]),N=C([]),O=C([]),F=C(!1),W=C([]),G=C([]),$=C([]),M=C([]),q={mounted:e=>{const s=document.createElement("div");s.style.cssText=`
      position: absolute;
      top: -9999px;
      left: -9999px;
      visibility: hidden;
      white-space: pre-wrap;
      word-wrap: break-word;
      overflow-wrap: break-word;
      font-family: ${getComputedStyle(e).fontFamily};
      font-size: ${getComputedStyle(e).fontSize};
      font-weight: ${getComputedStyle(e).fontWeight};
      line-height: ${getComputedStyle(e).lineHeight};
      padding: ${getComputedStyle(e).padding};
      width: ${e.offsetWidth}px;
      border: ${getComputedStyle(e).border};
      box-sizing: border-box;
    `,document.body.appendChild(s);const o=()=>{e.value?s.textContent=e.value+" ":s.textContent=e.placeholder||"";const t=s.offsetHeight+2;e.style.height="auto",e.style.height=t+"px"};e.addEventListener("input",o),e._resizeHandler=o,e._measureEl=s,setTimeout(o,0)},updated:e=>{e._resizeHandler&&setTimeout(e._resizeHandler,0)},unmounted:e=>{e._resizeHandler&&e.removeEventListener("input",e._resizeHandler),e._measureEl&&document.body.removeChild(e._measureEl)}},ee=e=>{if(!f.value)return;const s=f.value.tasks[e];s.taskID==="discussion_task"&&(F.value?(s.questions=[...s.originalQuestions],F.value=!1):(s.originalQuestions||(s.originalQuestions=[...s.questions]),s.questions=[...s.questions].sort(()=>Math.random()-.5),F.value=!0),T.value[e]=Array(s.questions.length).fill(!1),N.value[e]=Array(s.questions.length).fill(!1),O.value[e]=Array(s.questions.length).fill(!1))},w=e=>!e||typeof e!="string"?"":e.toLowerCase().replace(/\s+/g," ").trim().replace(/[.,!?;:…–—]+$/g,"").replace(/[.,!?;:…–—]/g," ").replace(/\s+/g," ").replace(/[`'‘’´]/g,"'").replace(/(\b(?:he|she|it))'?s not\b/g,"$1 is not").replace(/(\b(?:he|she|it)) isn'?t\b/g,"$1 is not").replace(/(\b(?:you|we|they|i))'?re not\b/g,"$1 are not").replace(/(\b(?:you|we|they|i)) aren'?t\b/g,"$1 are not").replace(/\bi'?m not\b/g,"i am not").replace(/\bdo not\b/g,"don't").replace(/\bdoes not\b/g,"doesn't").replace(/\bdid not\b/g,"didn't").replace(/\bwill not\b/g,"won't").replace(/\bcan not\b/g,"can't").replace(/\bmust not\b/g,"mustn't").replace(/\bshould not\b/g,"should't").replace(/\bwould not\b/g,"wouldn't").replace(/\b(?:dont|doesnt|didnt|wont|cant|hadnt|hasnt|mustnt|shouldnt|wouldnt)\b/g,s=>({dont:"don't",doesnt:"doesn't",didnt:"didn't",wont:"won't",cant:"can't",hasnt:"hasn't",hadnt:"hadn't",mustnt:"mustn't",shouldnt:"shouldn't",wouldnt:"wouldn't"})[s]).replace(/\b(?:i am|im)\b/g,"i'm").replace(/\b(?:you are|youre)\b/g,"you're").replace(/\b(?:we are|were)\b/g,"we're").replace(/\b(?:they are|theyre)\b/g,"they're").replace(/\b(?:she is|shes)\b/g,"she's").replace(/\b(?:he is|hes)\b/g,"he's").replace(/\b(?:it is|its)\b/g,"it's").replace(/(\b[a-z]+)'ll\b/gi,"$1 will").replace(/(\b(?:i|you|he|she|we|they|it))'?d\b/g,"$1 would").replace(/\brecieve\b/g,"receive").replace(/\bdefinately\b/g,"definitely").replace(/\bpractice\b/g,"practise").replace(/\s+/g," ").trim(),te=(e,s)=>{const o=s+1;o<f.value.tasks[e].questions.length&&I(()=>{const t=G.value.find(c=>Number(c.dataset.task)===e&&Number(c.dataset.question)===o);if(t&&(t.focus(),t.tagName==="TEXTAREA")){const c=t.value.length;t.setSelectionRange(c,c)}})},se=(e,s,o)=>{const t=o.target,c=t.value,i={"?":`+ \xA0\xA0\xA0 
- \xA0\xA0\xA0\xA0 
? \xA0\xA0\xA0\xA0 
o? \xA0 `,"+":`+ 
- 
? 
! `,"!":`! 
? 
- 
+ `,"*":`1. 
2. 
3. 
4. `," ":`+ \xA0\xA0\xA0 
- \xA0\xA0\xA0\xA0 
? \xA0\xA0\xA0\xA0 
o? \xA0 `};for(const[v,n]of Object.entries(i))if(c===v){h.value[e][s]=n,I(()=>{t.tagName==="TEXTAREA"&&t._resizeHandler&&t._resizeHandler();const r=n.indexOf(`
`);t.setSelectionRange(r,r),t.focus()});break}},B=(e,s,o,t)=>{if(!D.value[e]||f.value.tasks[e].taskID!=="student_input")return"";if(o==="anyIsOk")return"correct";const c=w(h.value[e][s]),i=w(o);return c===i?"correct":t!=null&&t.some(v=>w(v)===c)?"almost":"incorrect"},j=(e,s,o,t)=>{if(!D.value[e])return"";if(f.value.tasks[e].taskID==="student_input"){if(o==="anyIsOk")return"student-input-any-ok";const c=w(h.value[e][s]),i=w(o);return c===i?"student-input-correct":t&&t.some(v=>w(v)===c)?"student-input-almost-correct":"student-input-incorrect"}return h.value[e][s]===o?"student-input-correct":"student-input-incorrect"},oe=e=>e.split(/(_{1,4})/),ne=(e,s,o,t)=>{t.preventDefault();const c=h.value[e][s];M.value[e][s]||(M.value[e][s]=[]);const i=M.value[e][s];c===null?(i.push(o),h.value[e][s]=o):c!==o&&(i.includes(c)||i.push(c),i.includes(o)||i.push(o),h.value[e][s]=o)},re=(e,s)=>{$.value[e]||($.value[e]=[]),$.value[e][s]=!$.value[e][s]},le=(e,s,o)=>{const t=h.value[e][s];return t?(Array.isArray(o)?o.includes(t):t===o)?"explain-correct":"explain-incorrect":""},ae=()=>{E.value<f.value.tasks.length-1&&(E.value++,window.scrollTo({top:0,behavior:"smooth"}))},ue=()=>{E.value>0&&(E.value--,window.scrollTo({top:0,behavior:"smooth"}))},ce=e=>{L.value=L.value===e?null:e},ie=(e,s)=>{!T.value[e]||(T.value[e][s]=!T.value[e][s],N.value[e][s]=T.value[e][s])},de=(e,s)=>{!O.value[e]||(O.value[e][s]=!O.value[e][s])},pe=()=>{document.addEventListener("contextmenu",e=>{if(e.target.classList.contains("audio-player"))return e.preventDefault(),!1}),document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="s"&&e.preventDefault()})},V=e=>e?e.split(",").map(s=>{const[o,t]=s.split("-").map(c=>c.trim());return{english:o,russian:t}}):[],he=e=>{const s=f.value.tasks[e];if(s.taskID==="discussion_task")return;D.value[e]=!0;let o=0;if(s.taskID==="grid_table")o=me(e);else{let t=0,c=0;s.questions.forEach((i,v)=>{if(s.taskID==="student_input"){if(i.correctAnswer==="anyIsOk")t++;else{const n=w(h.value[e][v]),r=w(i.correctAnswer);(n===r||i.almostCorrectAnswers&&i.almostCorrectAnswers.some(d=>w(d)===n))&&t++}c++}else if(s.taskID==="drop_down_text"){const n=Q(i.text);let r=[];n.forEach(_=>{_.forEach(p=>{p.type==="dropdown"&&r.push(p)})});let d=!0;r.forEach(_=>{const p=h.value[e][v][_.index];_.correctOptions.includes(p)||(d=!1)}),d&&t++,c++}else if(s.taskID==="multiple_choice"){const n=h.value[e][v];Array.isArray(i.correctAnswer)?i.correctAnswer.includes(n)&&t++:n===i.correctAnswer&&t++,c++}else h.value[e][v]===i.correctAnswer&&t++,c++}),o=c>0?Math.round(t/c*100):0}P.value[e]=o},X=(e,s,o,t)=>{if(!D.value[e])return"";const c=h.value[e][s];return(Array.isArray(t)?t.includes(o):o===t)?c===o?"correct-selected":"correct-not-selected":c===o?"incorrect-selected":""},ve=(e,s,o,t)=>{var r;const c=h.value[e][s],i=((r=M.value[e])==null?void 0:r[s])||[],v=Array.isArray(t)?t.includes(o):o===t,n=c===o;if(v&&i.includes(o))return"option-correct-selected";if(!v){if(n)return"option-incorrect-selected";if(i.includes(o))return"option-wrong-history"}return""},Q=e=>{if(!e)return[];const s=e.split(`
`).filter(c=>c.trim()!=="");let o=0;const t=[];for(const c of s){const i=[];let v=0,n;const r=/\(([^)]+)\)/g;for(;(n=r.exec(c))!==null;){n.index>v&&i.push({type:"text",text:c.substring(v,n.index)});const _=n[1].split(",").map(p=>{const y=p.trim(),A=y.endsWith("*");return{value:A?y.replace(/\*$/,""):y,isCorrect:A}});i.push({type:"dropdown",options:_,index:o++,correctOptions:_.filter(p=>p.isCorrect).map(p=>p.value)}),v=n.index+n[0].length}v<c.length&&i.push({type:"text",text:c.substring(v)}),i.length>0&&t.push(i)}return t},J=(e,s,o)=>{if(!D.value[e])return"";const t=Q(o);let c=[];return t.forEach(n=>{n.forEach(r=>{r.type==="dropdown"&&c.push(r)})}),c.every(n=>{const r=h.value[e][s][n.index];return r&&r!==""})?c.every(n=>{const r=h.value[e][s][n.index];return n.correctOptions.includes(r)})?"correct":"incorrect":""},fe=(e,s,o,t)=>{if(!D.value[e])return"";const c=h.value[e][s][o];return c===""?"":t.includes(c)?"drop-down-correct":"drop-down-incorrect"},_e=e=>e.tableData.rows.map(s=>{const o={cells:[]};return s.cells.forEach((t,c)=>{o.cells.push(s.editable[c]?"":t)}),o}),me=e=>{const s=f.value.tasks[e],o=[];s.tableData.rows.forEach((i,v)=>{const n={allCorrect:!0,hasAlmost:!1,hasErrors:!1,isCorrectForScoring:!0,incorrect:{}};if(!i.correctAnswers){o.push(n);return}i.editable.forEach((r,d)=>{var A;if(!r||i.correctAnswers.cells[d]==="anyIsOk")return;const _=w(h.value[e][v].cells[d]),p=w(i.correctAnswers.cells[d]),y=(A=i.correctAnswers.almostCorrect)==null?void 0:A[d];if(_!==p){if(y&&y.some(H=>w(H)===_)){n.hasAlmost=!0,n.allCorrect=!1;return}n.allCorrect=!1,n.isCorrectForScoring=!1,n.hasErrors=!0,n.incorrect[d]={correct:i.correctAnswers.cells[d],userAnswer:h.value[e][v].cells[d]}}}),o.push(n)}),W.value[e]=o;let t=0;return o.forEach(i=>{i.isCorrectForScoring&&t++}),Math.round(t/s.tableData.rows.length*100)},ge=(e,s,o,t)=>{var n;if(!D.value[e]||!t)return"";if(t.cells[o]==="anyIsOk")return"grid-input-correct";const c=w(h.value[e][s].cells[o]),i=w(t.cells[o]),v=(n=t.almostCorrect)==null?void 0:n[o];return c===i?"grid-input-correct":v&&v.some(r=>w(r)===c)?"grid-input-almost-correct":"grid-input-incorrect"};ke(()=>{K.value=x.params.missionName,f.value=De[K.value]||null,f.value&&(f.value.tasks.forEach(e=>{e.taskID==="discussion_task"&&(e.originalQuestions=[...e.questions],e.questions=[...e.questions].sort(()=>Math.random()-.5),F.value=!0)}),h.value=f.value.tasks.map(e=>e.taskID==="grid_table"?_e(e):e.taskID==="drop_down_text"?e.questions.map(s=>{const o=(s.text.match(/\(/g)||[]).length;return Array(o).fill("")}):e.taskID==="discussion_task"?[]:Array(e.questions.length).fill(null)),M.value=f.value.tasks.map(e=>e.taskID==="multiple_choice"?Array(e.questions.length).fill().map(()=>[]):null),$.value=f.value.tasks.map(e=>e.taskID==="multiple_choice"?Array(e.questions.length).fill(!1):null),W.value=f.value.tasks.map(()=>[]),D.value=f.value.tasks.map(()=>!1),P.value=f.value.tasks.map(()=>null),T.value=f.value.tasks.map(e=>e.taskID==="discussion_task"?Array(e.questions.length).fill(!1):null),N.value=f.value.tasks.map(e=>e.taskID==="discussion_task"?Array(e.questions.length).fill(!1):null),O.value=f.value.tasks.map(e=>e.taskID==="discussion_task"?Array(e.questions.length).fill(!1):null)),pe()});const ye=["#cff0ff","#e0c0ff","#ffc0cb","#ffd700","#98fb98","#ffa07a","#ff6347"];return(e,s)=>f.value?(l(),a("div",Ee,[u("div",Te,[u("h2",null,m(f.value.mainDescription),1),u("div",$e,[s[0]||(s[0]=u("p",{class:"main-description"},"Special tasks for S.P.E.C.i.A.L. agents",-1)),u("div",ze,m(E.value+1)+"/"+m(f.value.tasks.length),1)])]),(l(!0),a(g,null,k(f.value.tasks,(o,t)=>{var c,i,v;return l(),a("div",{key:t,class:"task-container",style:we({backgroundColor:ye[t%7],display:t===E.value?"block":"none"})},[o.audio?(l(),a("div",Ne,[u("audio",Oe,[u("source",{src:o.audio,type:"audio/mp3"},null,8,Ue),s[1]||(s[1]=z(" Your browser does not support the audio element. "))])])):b("",!0),u("div",Fe,[(v=(i=(c=f.value)==null?void 0:c.tasks)==null?void 0:i[t])!=null&&v.usefulWords?(l(),a("div",Me,[u("div",He,[s[3]||(s[3]=u("span",{class:"useful-words-title"},"Useful words:",-1)),u("div",Le,[(l(!0),a(g,null,k(V(f.value.tasks[t].usefulWords),(n,r)=>(l(),a("div",{key:r,class:"word-pair"},[u("span",Pe,m(n.english),1),s[2]||(s[2]=u("span",{class:"separator"},"-",-1)),u("span",We,m(n.russian),1),r<V(f.value.tasks[t].usefulWords).length-1?(l(),a("span",Ge,",")):b("",!0)]))),128))])])])):b("",!0),u("h3",Qe,m(o.taskDescription),1),o.taskPicture?(l(),a("div",Re,[u("img",{src:o.taskPicture,alt:"Image for task "+(t+1),class:"task-image"},null,8,Ke)])):b("",!0),o.taskID==="true_false"?(l(),a("div",Be,[u("table",je,[s[4]||(s[4]=u("thead",null,[u("tr",null,[u("th",null,"\u043F\u0440\u0430\u0432\u0434\u0430 / \u0422\u0420\u0423 / \u0438\u043B\u0438 / \u0444\u041E\u043B\u0441 / \u043B\u043E\u0436\u044C :"),u("th",{class:"true-header"},"True"),u("th",{class:"false-header"},"False")])],-1)),u("tbody",null,[(l(!0),a(g,null,k(o.questions,(n,r)=>(l(),a("tr",{key:r},[u("td",null,m(n.text),1),u("td",null,[u("label",Ve,[U(u("input",{type:"radio",name:"task"+t+"q"+r,value:"true","onUpdate:modelValue":d=>h.value[t][r]=d},null,8,Xe),[[Y,h.value[t][r]]]),u("span",{class:S(["radio-custom",X(t,r,"true",n.correctAnswer)])},null,2)])]),u("td",null,[u("label",Je,[U(u("input",{type:"radio",name:"task"+t+"q"+r,value:"false","onUpdate:modelValue":d=>h.value[t][r]=d},null,8,Ye),[[Y,h.value[t][r]]]),u("span",{class:S(["radio-custom",X(t,r,"false",n.correctAnswer)])},null,2)])])]))),128))])])])):o.taskID==="multiple_choice"?(l(),a("div",Ze,[(l(!0),a(g,null,k(o.questions,(n,r)=>{var d,_;return l(),a("div",{key:r,class:"question-container"},[u("p",Ie,m(r+1)+") "+m(n.text),1),n.questionPicture?(l(),a("div",xe,[u("img",{src:n.questionPicture,alt:"Image for question "+(r+1),class:"question-image"},null,8,qe)])):b("",!0),u("div",et,[(l(!0),a(g,null,k(n.options,(p,y)=>(l(),a("label",{key:y,class:S(["option-label",ve(t,r,y,n.correctAnswer)])},[u("input",{type:"radio",name:"task"+t+"q"+r,value:y,class:"option-input",onClick:A=>ne(t,r,y,A)},null,8,tt),u("span",st,m(y)+" : "+m(p),1)],2))),128))]),h.value[t][r]?(l(),a("div",ot,[(d=$.value[t])!=null&&d[r]?(l(),a("div",nt,[u("p",null,m(n.explanation),1)])):b("",!0),u("button",{class:S(["explain-button",le(t,r,n.correctAnswer)]),onClick:p=>re(t,r)},m((_=$.value[t])!=null&&_[r]?"\u041D\u0443 \u043B\u0430\u0434\u043D\u043E... ":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043E\u0431\u044A\u044F\u0441\u043D\u0435\u043D\u0438\u0435"),11,rt)])):b("",!0)])}),128))])):o.taskID==="student_input"?(l(),a("div",lt,[(l(!0),a(g,null,k(o.questions,(n,r)=>(l(),a("div",{key:r,class:"question-container"},[u("p",at,[(l(!0),a(g,null,k(oe(n.text),(d,_)=>(l(),a(g,null,[d.startsWith("_")?(l(),a(g,{key:0},[d.length<=3?U((l(),a("input",{key:0,type:"text",placeholder:". . .",class:S(["student-input",[j(t,r,n.correctAnswer,n.almostCorrectAnswers),{"input-small":d.length===1,"input-medium":d.length===2,"input-large":d.length===3}]]),"onUpdate:modelValue":p=>h.value[t][r]=p,onKeyup:Ae(p=>te(t,r),["enter"]),disabled:!1,"data-task":t,"data-question":r,ref_for:!0,ref_key:"inputFields",ref:G},null,42,ut)),[[R,h.value[t][r]]]):U((l(),a("textarea",{key:1,class:S(["student-input student-input-textarea",[j(t,r,n.correctAnswer,n.almostCorrectAnswers),"input-full"]]),"onUpdate:modelValue":p=>h.value[t][r]=p,onInput:p=>se(t,r,p),disabled:!1,"data-task":t,"data-question":r,ref_for:!0,ref_key:"inputFields",ref:G,rows:"1",placeholder:". . ."},null,42,ct)),[[R,h.value[t][r]],[q]])],64)):(l(),a(g,{key:1},[z(m(d),1)],64))],64))),256))]),D.value[t]?(l(),a("div",it,[n.correctAnswer==="anyIsOk"?(l(),a("span",dt,"\u2713 \u041F\u0440\u0438\u043D\u0438\u043C\u0430\u0435\u0442\u0441\u044F \u043B\u044E\u0431\u043E\u0439 \u043E\u0442\u0432\u0435\u0442")):B(t,r,n.correctAnswer,n.almostCorrectAnswers)==="correct"?(l(),a("span",pt,"\u2713 \u0412\u0435\u0440\u043D\u043E!")):B(t,r,n.correctAnswer,n.almostCorrectAnswers)==="almost"?(l(),a("span",ht,"\u26A0 \u0412\u0440\u043E\u0434\u0435 \u0442\u043E\u0436\u0435 \u043D\u043E\u0440\u043C \u043E\u0442\u0432\u0435\u0442, \u043D\u043E \u0441\u0442\u043E\u0438\u0442 \u043F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C!")):(l(),a("span",vt,[s[5]||(s[5]=z(" \u2717 \u0437\u0434\u0435\u0441\u044C \u0432\u0435\u0440\u043D\u043E \u0431\u0443\u0434\u0435\u0442: ")),u("strong",null,m(n.correctAnswer),1)]))])):b("",!0)]))),128))])):o.taskID==="drop_down_text"?(l(),a("div",ft,[(l(!0),a(g,null,k(o.questions,(n,r)=>(l(),a("div",{key:r,class:"question-container"},[(l(!0),a(g,null,k(Q(n.text),(d,_)=>(l(),a("div",{key:_,class:"paragraph"},[u("p",null,[(l(!0),a(g,null,k(d,(p,y)=>(l(),a(g,{key:y},[p.type==="dropdown"?U((l(),a("select",{key:0,class:S(["drop-down-select",fe(t,r,p.index,p.correctOptions)]),"onUpdate:modelValue":A=>h.value[t][r][p.index]=A},[s[6]||(s[6]=u("option",{value:"",disabled:"",selected:""},"? ? ?",-1)),(l(!0),a(g,null,k(p.options,(A,H)=>(l(),a("option",{key:H,value:A.value},m(A.value),9,mt))),128))],10,_t)),[[Ce,h.value[t][r][p.index]]]):(l(),a(g,{key:1},[z(m(p.text),1)],64))],64))),128))])]))),128)),D.value[t]&&J(t,r,n.text)!==""?(l(),a("div",gt,[J(t,r,n.text)==="correct"?(l(),a("span",yt,"\u2713 \u0412\u0435\u0440\u043D\u043E!")):(l(),a("span",bt," \u2717 \u0423\u043F\u0441, \u043E\u0439 \u043E\u0439. \u0412\u044B\u0431\u0438\u0440\u0430\u0439 \u0434\u0440\u0443\u0433\u043E\u0439! "))])):b("",!0)]))),128))])):o.taskID==="grid_table"?(l(),a("div",kt,[u("table",wt,[u("thead",null,[u("tr",null,[(l(!0),a(g,null,k(o.tableData.headers,(n,r)=>(l(),a("th",{key:r},m(n),1))),128))])]),u("tbody",null,[(l(!0),a(g,null,k(o.tableData.rows,(n,r)=>(l(),a("tr",{key:r},[(l(!0),a(g,null,k(n.cells,(d,_)=>{var p;return l(),a("td",{key:_},[n.editable[_]?U((l(),a("input",{key:0,type:"text",class:S(["grid-table-input",ge(t,r,_,n.correctAnswers)]),"onUpdate:modelValue":y=>h.value[t][r].cells[_]=y,placeholder:((p=n.correctAnswers)==null?void 0:p.cells[_])==="anyIsOk"?"Any answer":""},null,10,At)),[[R,h.value[t][r].cells[_]]]):(l(),a(g,{key:1},[z(m(d),1)],64))])}),128))]))),128))])]),D.value[t]?(l(),a("div",Ct,[(l(!0),a(g,null,k(W.value[t],(n,r)=>(l(),a("div",{key:r,class:"feedback-item"},[z(" \u0421\u0442\u0440\u043E\u043A\u0430 "+m(r+1)+": ",1),n.allCorrect?(l(),a("span",Dt,"\u2713 \u0412\u0441\u0435 \u0432\u0435\u0440\u043D\u043E!")):n.hasAlmost&&!n.hasErrors?(l(),a("span",St,"\u26A0 \u0422\u0430\u043A \u0442\u043E\u0436\u0435 \u0441\u043E\u0439\u0434\u0451\u0442...")):n.hasErrors?(l(!0),a(g,{key:2},k(n.incorrect,(d,_)=>(l(),a("span",{key:_,class:"incorrect-feedback"},' \u2717 \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C "'+m(d.correct)+'" ',1))),128)):b("",!0)]))),128))])):b("",!0)])):o.taskID==="discussion_task"?(l(),a("div",Et,[(l(!0),a(g,null,k(o.questions,(n,r)=>{var d,_,p,y,A;return l(),a("div",{key:r,class:"discussion-question"},[u("div",Tt,[u("button",{class:S(["discussion-checkbox",{checked:(d=T.value[t])==null?void 0:d[r]}]),onClick:Z(H=>ie(t,r),["stop"])},null,10,$t)]),u("div",{class:S(["question-content",{collapsed:(_=N.value[t])==null?void 0:_[r]}])},[u("div",zt,m(n.text),1),u("div",Nt,[(p=N.value[t])!=null&&p[r]?b("",!0):(l(),a("div",{key:0,class:"translation-toggle",onClick:Z(H=>de(t,r),["stop"])},[(y=O.value[t])!=null&&y[r]?(l(),a("span",Ut,m(n.translation),1)):(l(),a(g,{key:0},[z("\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0432\u043E\u0434 (\u0438\u043B\u0438 \u043F\u0440\u0438\u043C\u0435\u0440)")],64))],8,Ot)),(A=N.value[t])!=null&&A[r]?(l(),a("div",Ft,m(n.translation),1)):b("",!0)])],2)])}),128))])):b("",!0),u("div",Mt,[u("div",Ht,[o.textScript?(l(),a("button",{key:0,class:"toggle-script-btn",onClick:n=>ce(t)},m(L.value===t?"\u0421\u043A\u0440\u044B\u0442\u044C \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0438":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0438"),9,Lt)):b("",!0),o.taskID!=="multiple_choice"?(l(),a("div",{key:1,class:S(["score-display",{"score-visible":D.value[t]}])},m(D.value[t]?`${P.value[t]}%`:""),3)):b("",!0),o.taskID!=="discussion_task"&&o.taskID!=="multiple_choice"?(l(),a("button",{key:2,class:"check-button",onClick:n=>he(t),"data-task-type":o.taskID}," \u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C ",8,Pt)):o.taskID==="discussion_task"?(l(),a("button",{key:3,class:"check-button",onClick:n=>ee(t)},m(F.value?"Unshuffle":"Shuffle"),9,Wt)):b("",!0)]),L.value===t?(l(),a("div",Gt,[u("p",null,m(o.textScript),1)])):b("",!0),u("div",Qt,[u("button",{class:"nav-button prev-button",onClick:ue,disabled:E.value===0}," \u2190 ",8,Rt),u("button",{class:"nav-button next-button",onClick:ae,disabled:E.value===f.value.tasks.length-1}," \u2192 ",8,Kt)])])])],4)}),128))])):b("",!0)}};var Yt=Se(Bt,[["__scopeId","data-v-5d97d6d0"]]);export{Yt as default};
