import{j as S,u as x,r as d,c as I,C as P,o as R,b as u,d as v,e as t,t as _,F as M,q,g as G,h as D,A as W}from"./index.a881c797.js";import{q as B}from"./questions-data.c8aa9c58.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";const A={key:0,class:"game-container"},U=["disabled"],z={class:"deck-of-cards"},F={class:"card-content"},V={class:"card-text"},$={class:"word"},j={class:"translation"},Q={class:"remaining-cards",ref:"remainingCardsContainer"},Z={class:"card-content"},J={class:"card-text"},K={class:"word"},X={class:"translation"},O=1e3,Y={__name:"GameDeckOfCards",setup(ee){S();const b=x(),k=/iPhone|iPad|iPod/i.test(navigator.userAgent),m=d([]),s=d(null);let n=[];const o=d([]),f=d(!1),w=e=>e.sort(()=>Math.random()-.5),h=()=>{if(n.length===0){T();return}const e=n.pop();s.value&&!s.value.isIntro&&o.value.push(s.value),s.value=e},p=()=>{if(o.value.length===0)return;const e=o.value.pop();s.value&&n.push(s.value),s.value=e},T=()=>{alert("\u0418\u0433\u0440\u0430 \u043E\u043A\u043E\u043D\u0447\u0435\u043D\u0430! \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430.")},y=I(()=>n),L=e=>({top:`${e*1.5}px`,left:`${e*1.5}px`});let i=0,r=!0;const g=e=>{const{beta:c}=e,a=Date.now(),l=135,E=55,N=90;Math.abs(c)<N&&(r=!0),r&&(c>l&&a-i>O?(navigator.vibrate&&navigator.vibrate(30),h(),i=a,r=!1):c<E&&a-i>O&&(navigator.vibrate&&navigator.vibrate(30),p(),i=a,r=!1))},C=()=>{window.DeviceOrientationEvent&&(typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"&&(window.addEventListener("deviceorientation",g),f.value=!0)}).catch(console.error):(window.addEventListener("deviceorientation",g),f.value=!0))};return P(()=>{window.removeEventListener("deviceorientation",g)}),R(()=>{const e=b.params.missionName;m.value=B[e]||[],n=w([...m.value]),s.value={ru:"\u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D \u043E\u0442 \u0441\u0435\u0431\u044F, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u0447\u0430\u0442\u044C \u0438\u0433\u0440\u0443",eng:"Tilt the phone away from you to begin",isIntro:!0},C()}),(e,c)=>m.value.length?(u(),v("div",A,[t("button",{class:"goBackPage",onClick:p,disabled:o.value.length===0}," ctrl + z ",8,U),t("div",z,[t("div",{class:"wordCard",onClick:h},[t("div",F,[t("div",V,[t("div",$,_(s.value.ru),1),t("div",j,_(s.value.eng),1)])])]),t("div",Q,[(u(!0),v(M,null,q(y.value,(a,l)=>(u(),v("div",{class:"remaining-card",onClick:h,key:l,style:W(L(l))},[t("div",Z,[t("div",J,[t("div",K,_(a.ru),1),t("div",X,_(a.eng),1)])])],4))),128))],512)]),!f.value&&G(k)?(u(),v("button",{key:0,onClick:C,class:"enable-tilt-btn"}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430\u043A\u043B\u043E\u043D\u043E\u043C ")):D("",!0)])):D("",!0)}};var ne=H(Y,[["__scopeId","data-v-71e82606"]]);export{ne as default};
