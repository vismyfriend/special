import{p as z,u as K,r as u,i as h,o as J,b as a,c as o,e as s,t as i,n as P,l as r,F as T,q as G}from"./index.9257502a.js";import{s as Q}from"./short-pictures-data.eb1f75b2.js";import{_ as X}from"./plugin-vue_export-helper.21dcd24c.js";const Y={key:0,class:"game-container"},Z={class:"top-menu-bar"},ee={key:0,class:"modal-overlay"},te={class:"modal-content"},se=["innerHTML"],ae={class:"game-content-wrapper"},oe={class:"main-content"},le=["src","alt"],ne={key:1,class:"text-content"},ue={key:2,class:"emoji-content"},ce={class:"emoji"},ie={key:3,class:"text-content"},re={key:4,class:"translation-overlay"},ve={key:0,class:"multiple-choice-answers"},de={class:"options-container"},me=["onClick"],he={key:1,class:"hint-container"},pe=["onClick"],_e={__name:"GamePictures",setup(ke){const x=z(),L=K(),p=u([]),d=u([]),_=u([]),t=u({}),f=u(!1),w=u(""),v=u(!1),m=u([]),k=u(!1),c=h(()=>{var l,n;if((l=t.value)!=null&&l.multipleChoice)return"multipleChoice";if(!((n=t.value)!=null&&n.taskPicture))return"text";const e=t.value.taskPicture;return typeof e=="string"&&(e.startsWith("http")||e.startsWith("/")||e.includes("assets"))?"image":/\p{Emoji}/u.test(e)?"emoji":"text"}),j=()=>{k.value=!k.value},S=()=>{g("\u042D\u0442\u043E \u0438\u0433\u0440\u0430 \u0434\u043B\u044F \u043F\u0440\u0430\u043A\u0442\u0438\u043A\u0438 \u0430\u043D\u0433\u043B\u0438\u0439\u0441\u043A\u043E\u0433\u043E,<br> \u0441\u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0439 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0441 \u0440\u0430\u0437\u043D\u044B\u043C\u0438 \u0441\u043B\u043E\u0432\u0430\u043C\u0438,<br>\u0442\u0440\u0435\u043D\u0438\u0440\u0443\u0439 \u043F\u0430\u043C\u044F\u0442\u044C \u0438 \u0432\u043E\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435.")},N=()=>{d.value=W([...p.value]),_.value=[],C()},R=()=>{x.push("/see-all-sets-of-words/")},I=()=>{x.push("/games")},B=h(()=>{var e;return(e=t.value)!=null&&e.multipleChoice?t.value.multipleChoice.split(",").map(y=>{const l=y.trim();return{text:l.replace("*",""),isCorrect:l.includes("*"),original:l}}):[]}),D=e=>{e.isCorrect?(g("\u041F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E! \u2705"),setTimeout(C,1e3)):g("\u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437! \u274C")},A=()=>{C()},E=()=>{F()},W=e=>e.sort(()=>Math.random()-.5),C=()=>{if(d.value.length===0){g("\u{1F389} \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0438 <br> #vismyfriend is proud of you!");return}t.value&&!t.value.isIntro&&_.value.push({...t.value,isShowingTranslation:v.value}),t.value=d.value.pop(),b(),v.value=!1},F=()=>{if(_.value.length===0)return;t.value&&d.value.push(t.value);const e=_.value.pop();t.value=e,v.value=e.isShowingTranslation,b()},H=()=>{v.value=!v.value},O=e=>{m.value[e]=!0},b=()=>{t.value.eng?m.value=Array(t.value.eng.length).fill(!1):m.value=[]},g=e=>{w.value=e,f.value=!0},U=()=>{f.value=!1};h(()=>{var e;return c.value==="multipleChoice"&&((e=t.value)==null?void 0:e.taskPicture)&&(t.value.taskPicture.startsWith("http")||t.value.taskPicture.startsWith("/")||t.value.taskPicture.includes("assets"))});const V=h(()=>{var e;return c.value==="image"||c.value==="multipleChoice"&&M((e=t.value)==null?void 0:e.taskPicture)}),$=h(()=>{var e;return c.value==="text"||c.value==="multipleChoice"&&!M((e=t.value)==null?void 0:e.taskPicture)}),M=e=>e&&(e.startsWith("http")||e.startsWith("/")||e.includes("assets"));return J(()=>{const e=L.params.missionName;p.value=Q[e]||[],d.value=W([...p.value]),t.value={taskPicture:new URL("/special/assets/testPic1.2ce517a3.png",self.location).href,eng:"Guess the animal",rus:"\u0423\u0433\u0430\u0434\u0430\u0439 \u0436\u0438\u0432\u043E\u0442\u043D\u043E\u0435",isIntro:!0},b()}),(e,y)=>p.value.length?(a(),o("div",Y,[s("div",{class:P(["top-menu-wrapper",{collapsed:k.value}])},[s("div",Z,[s("button",{class:"menu-button",onClick:S},"\u041E\u0431 \u0438\u0433\u0440\u0435"),s("button",{class:"menu-button",onClick:N},"\u0417\u0430\u043D\u043E\u0432\u043E"),s("button",{class:"menu-button",onClick:R},"\u0414\u0440\u0443\u0433\u043E\u0439 \u043D\u0430\u0431\u043E\u0440"),s("button",{class:"menu-button",onClick:I},"\u0414\u0440\u0443\u0433\u0438\u0435 \u0438\u0433\u0440\u044B"),s("button",{class:"collapse-button",onClick:j},i(k.value?"s.p.e.c.i.a.l.":"..."),1)])],2),f.value?(a(),o("div",ee,[s("div",te,[s("p",{innerHTML:w.value},null,8,se),s("button",{onClick:U},"OK")])])):r("",!0),s("div",ae,[s("button",{class:"nav-button prev-button",onClick:E},"\u2039"),s("div",oe,[s("div",{class:"content-card",onClick:H},[V.value?(a(),o("img",{key:0,src:t.value.taskPicture,alt:t.value.eng,class:"content-image"},null,8,le)):r("",!0),$.value?(a(),o("div",ne,i(t.value.taskPicture),1)):c.value==="emoji"?(a(),o("div",ue,[s("span",ce,i(t.value.taskPicture),1)])):c.value==="text"?(a(),o("div",ie,i(t.value.taskPicture),1)):r("",!0),v.value?(a(),o("div",re,i(t.value.rus),1)):r("",!0)]),c.value==="multipleChoice"?(a(),o("div",ve,[s("div",de,[(a(!0),o(T,null,G(B.value,(l,n)=>(a(),o("button",{key:n,onClick:q=>D(l),class:P({correct:l.isCorrect})},i(l.text),11,me))),128))])])):r("",!0),!t.value.multipleChoice&&t.value.eng?(a(),o("div",he,[(a(!0),o(T,null,G(t.value.eng.split(""),(l,n)=>(a(),o("div",{class:P(["hint-box",{revealed:m.value[n]}]),key:n,onClick:q=>O(n)},i(m.value[n]?l:"?"),11,pe))),128))])):r("",!0)]),s("button",{class:"nav-button next-button",onClick:A},"\u203A")])])):r("",!0)}};var be=X(_e,[["__scopeId","data-v-68511314"]]);export{be as default};
