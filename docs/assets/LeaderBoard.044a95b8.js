import{p as A,r as v,f as L,o as x,b as i,c as u,e,y as c,t as s,i as r,F as G,q as R,j as k,K as b,n as C}from"./index.3e54fd8c.js";import{u as P}from"./example-store.d1823075.js";import{a as E}from"./allSetsOfWordsList.8ea460b9.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";const M={class:"result"},T={key:0,class:"leaderboard-wrapper"},V={class:"leaderboard-container"},W={class:"leaderboard"},z={key:0,class:"highlight-row"},D={class:"buttons-container"},j={__name:"LeaderBoard",setup(q){const p=A(),y=()=>{p.push("/see-all-sets-of-words/")},S=l=>E.find(o=>o.missionName===l).missionDescription,w=()=>{p.go(-1)},a=P(),n=v([]),d=v(),m=v(!1),f=L(()=>m.value?n.value.slice(0,100):n.value.slice(0,7)),_=[{agent:"TurboAgent",time:"2.00",mistakes:0},{agent:"FlashSpeed",time:"2.15",mistakes:1},{agent:"Bond007",time:"2.61",mistakes:0},{agent:"Godzilla",time:"2.62",mistakes:2},{agent:"Mike",time:"2.63",mistakes:3},{agent:"Polina",time:"3.00",mistakes:0},{agent:"Monkey",time:"3.01",mistakes:1}],N=()=>{m.value=!m.value},h=async()=>{try{const t=(await b.scores.get(a.gameName)).data.filter(o=>o.wordSet===a.$state.wordSet);console.log(t),Array.isArray(t)?n.value=t:(console.warn("\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u043D\u0435 \u044F\u0432\u043B\u044F\u044E\u0442\u0441\u044F \u043C\u0430\u0441\u0441\u0438\u0432\u043E\u043C! \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E \u0437\u0430\u043F\u0430\u0441\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",t),n.value=_)}catch(l){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0442\u0430\u0431\u043B\u0438\u0446\u044B \u043F\u043E\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u0435\u0439, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E \u0437\u0430\u043F\u0430\u0441\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",l),n.value=_}},$=()=>{n.value=n.value.sort((l,t)=>l.time-t.time),n.value.forEach((l,t)=>{l.time=l.time/1e3,l.agent===a.$state.agentName&&(d.value=t+1)})},B=async()=>{a.$state.agentName===null&&a.setAgentName("Secret dude"),await b.scores.post(a.$state.gameName,a.$state.lastGameResults.time,a.$state.lastGameResults.mistakes,a.$state.agentName,a.$state.wordSet)};return x(async()=>{await B(),await h(),$()}),(l,t)=>(i(),u("div",M,[e("p",null,[t[0]||(t[0]=c("\u041F\u043E\u0437\u0434\u0440\u0430\u0432\u043B\u044F\u0435\u043C! Special Agent ")),t[1]||(t[1]=e("br",null,null,-1)),c(" "+s(r(a).$state.agentName)+" \u0432\u043E\u0448\u0435\u043B \u0432 \u0438\u0441\u0442\u043E\u0440\u0438\u044E! ",1),t[2]||(t[2]=e("br",null,null,-1)),c(" \u043D\u0430\u0431\u043E\u0440 \u0441\u043B\u043E\u0432 "+s(S(r(a).$state.wordSet))+" ",1),t[3]||(t[3]=e("br",null,null,-1)),c(" \u0438\u0433\u0440\u0430 "+s(r(a).$state.gameName),1)]),t[5]||(t[5]=e("p",null,"\u0441\u0434\u0435\u043B\u0430\u0439 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442 \u0438 \u043F\u043E\u0445\u0432\u0430\u0441\u0442\u0430\u0439\u0441\u044F \u0442\u0438\u0447\u0435\u0440\u0443!",-1)),n.value?(i(),u("div",T,[e("div",V,[e("div",W,[e("table",null,[t[4]||(t[4]=e("thead",null,[e("tr",null,[e("th",null,"\u{1F3C6}"),e("th",null,"agent"),e("th",null,"time"),e("th",null,"fails")])],-1)),e("tbody",null,[(i(!0),u(G,null,R(f.value,(o,g)=>(i(),u("tr",{key:g,class:C({"highlight-row":d.value===g+1})},[e("td",null,s(g+1),1),e("td",null,s(o.agent),1),e("td",null,s(o.time),1),e("td",null,s(o.mistakes),1)],2))),128)),d.value>f.value.length?(i(),u("tr",z,[e("td",null,s(d.value),1),e("td",null,s(r(a).agentName)+" (you)",1),e("td",null,s((r(a).lastGameResults.time/1e3).toFixed(2)),1),e("td",null,s(r(a).lastGameResults.mistakes),1)])):k("",!0)])])])])])):k("",!0),e("div",D,[e("button",{class:"close-btn",onClick:y}," X "),e("button",{class:"try-again-btn",onClick:w}," Try Again "),e("button",{class:"toggle-btn",onClick:N},s(m.value?"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u25B2":"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u25BC"),1)])]))}};var H=F(j,[["__scopeId","data-v-6ea4dc4a"]]);export{H as default};
