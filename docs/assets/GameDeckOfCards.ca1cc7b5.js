import{p as F,u as U,r,f as S,G as A,o as V,b as u,c as d,e as t,t as v,n as M,F as Z,y as j,D as N,j as I,i as Q}from"./index.6f77c142.js";import{q as Y}from"./questions-data.0144a063.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";var K="/special/assets/card.ad34b223.png";const X={key:0,class:"game-container"},ee={class:"side-buttons"},te=["disabled"],ae={class:"deck-of-cards"},se={class:"card-content"},ne={class:"card-text"},oe={class:"word"},re={class:"remaining-cards",ref:"remainingCardsContainer"},ie={class:"card-content"},le={class:"card-text"},ce={class:"word"},ue={class:"translation"},P=1e3,de={__name:"GameDeckOfCards",setup(ve){F();const R=U(),G=/iPhone|iPad|iPod/i.test(navigator.userAgent),p=r([]),a=r(null);let c=[];const m=r([]),h=r(!1),C=r(!1);let T=null;const B=()=>{T&&clearTimeout(T),C.value=!0,T=setTimeout(()=>{C.value=!1},3e3)},b=r(!1),W=()=>{b.value=!0,k(),setTimeout(()=>{b.value=!1},300)},l=r(null),i=r(0),q=S(()=>i.value>0?`You have ${i.value} seconds`:"Timer"),H=()=>{if(l.value){clearInterval(l.value),l.value=null,i.value=0;return}i.value=77,l.value=setInterval(()=>{i.value-=1,i.value<=0&&(clearInterval(l.value),l.value=null,i.value=0,alert(`\u23F0 \u0412\u0440\u0435\u043C\u044F \u0432\u044B\u0448\u043B\u043E!
\u041F\u0435\u0440\u0435\u0445\u043E\u0434 \u0445\u043E\u0434\u0430 \u043A \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C\u0443 \u0438\u0433\u0440\u043E\u043A\u0443.`))},1e3)},$=e=>e.sort(()=>Math.random()-.5),k=()=>{if(c.length===0){z();return}const e=c.pop();a.value&&!a.value.isIntro&&m.value.push(a.value),a.value=e},L=()=>{if(m.value.length===0)return;const e=m.value.pop();a.value&&c.push(a.value),a.value=e},z=()=>{alert("\u0418\u0433\u0440\u0430 \u043E\u043A\u043E\u043D\u0447\u0435\u043D\u0430! \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430.")},w=S(()=>c),x=e=>{const n=e*4,f=10*Math.cos(n*Math.PI/180),g=10*Math.sin(n*Math.PI/180);return{"--x":`${f}px`,"--y":`${g}px`,"--angle":`${n}deg`,transform:"translate(var(--x), var(--y)) rotate(var(--angle))",zIndex:e}};let _=0,y=!0,D=!0;const O=e=>{const{beta:s}=e,o=Date.now(),n=125,f=30,g=90;s>f&&s<g&&(D=!0),s<n&&s>g&&(y=!0),s>n&&o-_>P&&y?(navigator.vibrate&&navigator.vibrate(30),k(),_=o,y=!1):s<f&&o-_>P&&D&&(navigator.vibrate&&navigator.vibrate(30),L(),_=o,D=!1)},E=()=>{window.DeviceOrientationEvent&&(typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"&&(window.addEventListener("deviceorientation",O),h.value=!0)}).catch(console.error):(window.addEventListener("deviceorientation",O),h.value=!0))};return A(()=>{window.removeEventListener("deviceorientation",O)}),V(()=>{const e=R.params.missionName;p.value=Y[e]||[],c=$([...p.value]),a.value={ru:"\u041E\u0431\u044A\u044F\u0441\u043D\u0438 \u0438\u043B\u0438 \u043F\u0435\u0440\u0435\u0432\u0435\u0434\u0438",eng:"Explain or translate",isIntro:!0},E()}),(e,s)=>p.value.length?(u(),d("div",X,[t("div",ee,[t("button",{onClick:L,class:"game-btn",disabled:m.value.length===0}," Ctrl + Z ",8,te),t("button",{onClick:H,class:"game-btn"},v(q.value),1)]),t("div",ae,[t("div",{class:"wordCard",onClick:B},[t("div",se,[t("div",ne,[t("div",oe,v(a.value.ru),1),t("div",{class:M(["translation",{blurred:!C.value&&!a.value.isIntro}])},v(a.value.eng),3)])])]),t("div",re,[(u(!0),d(Z,null,j(w.value,(o,n)=>(u(),d("div",{class:"remaining-card",onClick:k,key:n,style:N(x(n))},[t("div",ie,[t("div",le,[t("div",ce,v(o.ru),1),t("div",ue,v(o.eng),1)])])],4))),128)),w.value.length>0?(u(),d("div",{key:0,class:M(["card-back-cover",{tapped:b.value}]),style:N(x(w.value.length-1)),onClick:W},s[0]||(s[0]=[t("img",{src:K,alt:"Card Back"},null,-1)]),6)):I("",!0)],512)]),!h.value&&Q(G)?(u(),d("button",{key:0,onClick:E,class:"enable-tilt-btn"}," \u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0441\u044E\u0434\u0430 -> \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043D\u0430\u043A\u043B\u043E\u043D\u044B ")):I("",!0)])):I("",!0)}};var ge=J(de,[["__scopeId","data-v-878c62da"]]);export{ge as default};
