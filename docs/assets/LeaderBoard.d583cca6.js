import{a as k}from"./index.ee43a98d.js";import{u as A}from"./example-store.174425a8.js";import{h as G,r as g,p as L,o as R,b as n,c as r,d as e,i as b,t as s,u as m,F as $,l as C,f,x as P}from"./index.c30be5a2.js";import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";const E={class:"result"},F={key:0,class:"leaderboard-wrapper"},M={class:"leaderboard-container"},T={class:"leaderboard"},V={key:0,class:"highlight-row"},z={class:"buttons-container"},D={__name:"LeaderBoard",setup(I){const v=G(),y=()=>{v.push("/special-app/")},h=()=>{v.go(-1)},a=A(),l=g([]),i=g(),u=g(!1),p=L(()=>u.value?l.value.slice(0,100):l.value.slice(0,7)),_=[{agent:"TurboAgent",time:"2.00",mistakes:0},{agent:"FlashSpeed",time:"2.15",mistakes:1},{agent:"Bond007",time:"2.61",mistakes:0},{agent:"Godzilla",time:"2.62",mistakes:2},{agent:"Mike",time:"2.63",mistakes:3},{agent:"Polina",time:"3.00",mistakes:0},{agent:"Monkey",time:"3.01",mistakes:1}],N=()=>{u.value=!u.value},w=async()=>{try{const t=(await k.scores.get()).data[a.gameName];console.log(t),Array.isArray(t)?l.value=t:(console.warn("\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u043D\u0435 \u044F\u0432\u043B\u044F\u044E\u0442\u0441\u044F \u043C\u0430\u0441\u0441\u0438\u0432\u043E\u043C! \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E \u0437\u0430\u043F\u0430\u0441\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",t),l.value=_)}catch(o){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0442\u0430\u0431\u043B\u0438\u0446\u044B \u043F\u043E\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u0435\u0439, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E \u0437\u0430\u043F\u0430\u0441\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",o),l.value=_}},B=()=>{l.value=l.value.sort((o,t)=>o.time-t.time),l.value.forEach((o,t)=>{o.time=o.time/1e3,o.agent===a.$state.agentName&&(i.value=t+1)})},x=async()=>{await k.scores.post(a.$state.gameName,a.$state.lastGameResults.time,a.$state.lastGameResults.mistakes,a.$state.agentName)};return R(async()=>{await x(),await w(),B()}),(o,t)=>(n(),r("div",E,[e("p",null,[t[0]||(t[0]=b("\u041F\u043E\u0437\u0434\u0440\u0430\u0432\u043B\u044F\u0435\u043C! Special Agent ")),t[1]||(t[1]=e("br",null,null,-1)),b(" "+s(m(a).$state.agentName)+" \u0432\u043E\u0448\u0435\u043B \u0432 \u0438\u0441\u0442\u043E\u0440\u0438\u044E!",1)]),t[3]||(t[3]=e("p",null,"\u0441\u0434\u0435\u043B\u0430\u0439 \u0441\u043A\u0440\u0438\u043D\u0448\u043E\u0442 \u0438 \u043F\u043E\u0445\u0432\u0430\u0441\u0442\u0443\u0439\u0441\u044F \u0442\u0438\u0447\u0435\u0440\u0443!",-1)),l.value?(n(),r("div",F,[e("div",M,[e("div",T,[e("table",null,[t[2]||(t[2]=e("thead",null,[e("tr",null,[e("th",null,"\u{1F3C6}"),e("th",null,"agent"),e("th",null,"time"),e("th",null,"fails")])],-1)),e("tbody",null,[(n(!0),r($,null,C(p.value,(c,d)=>(n(),r("tr",{key:d,class:P({"highlight-row":i.value===d+1})},[e("td",null,s(d+1),1),e("td",null,s(c.agent),1),e("td",null,s(c.time),1),e("td",null,s(c.mistakes),1)],2))),128)),i.value>p.value.length?(n(),r("tr",V,[e("td",null,s(i.value),1),e("td",null,s(m(a).agentName)+" (you)",1),e("td",null,s((m(a).lastGameResults.time/1e3).toFixed(2)),1),e("td",null,s(m(a).lastGameResults.mistakes),1)])):f("",!0)])])])]),e("div",z,[e("button",{class:"close-btn",onClick:y}," X "),e("button",{class:"try-again-btn",onClick:h}," Try Again "),e("button",{class:"toggle-btn",onClick:N},s(u.value?"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u25B2":"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u25BC"),1)])])):f("",!0)]))}};var J=S(D,[["__scopeId","data-v-55a1b652"]]);export{J as default};
