import{u as U,b as c,i as v,d as D,o as n,f as a,h as t,t as l,F as y,q as f,l as m,j as w,m as H,s as G}from"./index.921cc029.js";import{s as R}from"./short-words-data.61a3d329.js";import{_ as z}from"./plugin-vue_export-helper.21dcd24c.js";const B={class:"container"},E={class:"notebook-cover"},q={class:"notebook-page"},A={class:"lesson-title display-none"},F={class:"words-section"},j={class:"words-list"},L={class:"word-content"},J={class:"english-word"},K={key:0,class:"hint"},O={class:"translation"},P={key:0,class:"materials-section"},Q={key:1,class:"homework-section"},X={class:"homework-content"},Y={class:"homework-words"},Z={class:"word-header"},tt={class:"word-number"},et={class:"word-to-translate"},st=["onClick"],ot={key:0,class:"hint-content"},nt={class:"hint-text"},at=["onUpdate:modelValue"],it={class:"homework-submission"},lt=["disabled"],rt={__name:"GameHWNotebook",setup(ct){const b=U(),p=c(""),d=c([]),_=c(null),g=c(600),h=c(""),i=c([]),V=v(()=>d.value.length>0),x=v(()=>i.value.length>0),M=v(()=>i.value.every(s=>s.userTranslation&&s.userTranslation.trim()!=="")),T=v(()=>i.value.filter(s=>s.showHint).length),C=()=>{if(d.value.length===0)return[];const s=[...d.value].sort(()=>.5-Math.random());return s.slice(0,Math.min(5,s.length)).map(e=>({...e,userTranslation:"",showHint:!1}))},$=s=>{s.showHint=!s.showHint},N=()=>{console.log("Homework validation updated")},W=()=>{const s="vismyfriend";let e="";const o="!".repeat(T.value);h.value.trim()?e+=`Hi VVVVincent${o} 

 I am not a lazy ass, and it is my message to you: 
"${h.value.trim()}"

`:e+=`Hi Vincentik${o}

 I am a little lazy today.
 And how do you feel?
 It is my homework: 

`,e+=`Words from homework:
`,i.value.forEach((r,k)=>{e+=`${k+1}. ${r.eng}
`}),e+=`
My translation:
`,i.value.forEach((r,k)=>{e+=`${k+1}. ${r.userTranslation}
`});const u=`https://t.me/${s}?text=${encodeURIComponent(e)}`;window.open(u,"_blank")},I=()=>{if(!_.value)return 600;const s=_.value.scrollHeight;return Math.max(600,s+50)},S=()=>{const s=document.querySelector(".print-controls");s&&(s.style.display="none"),setTimeout(()=>{window.print(),setTimeout(()=>{s&&(s.style.display="block")},500)},100)};return D(()=>{p.value=b.params.missionName||"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u0443\u0440\u043E\u043A",d.value=R[p.value]||[],i.value=C(),setTimeout(()=>{g.value=I()},100)}),(s,e)=>(n(),a("div",B,[t("div",{class:"notebook-wrapper",style:G({height:g.value+"px"})},[t("div",E,[t("div",q,[e[6]||(e[6]=t("div",{class:"notebook-grid"},null,-1)),t("div",{class:"notebook-content",ref_key:"contentRef",ref:_},[t("div",A,' "'+l(p.value)+'" ',1),t("div",F,[e[1]||(e[1]=t("div",{class:"section-title display-none"},"\u0421\u0435\u043A\u0440\u0435\u0442\u043D\u0430\u044F \u043C\u0438\u0441\u0441\u0438\u044F : ",-1)),e[2]||(e[2]=t("div",{class:"lesson-title"},null,-1)),t("div",j,[(n(!0),a(y,null,f(d.value,(o,u)=>(n(),a("div",{class:"word-line",key:o.id},[t("div",L,[t("span",J,l(o.eng),1),o.hint?(n(),a("span",K,l(o.hint),1)):m("",!0),t("span",O,"- "+l(o.ru),1)])]))),128))])]),V.value?(n(),a("div",P,e[3]||(e[3]=[t("div",{class:"section-title"}," \u041E\u0445 \u0443\u0436 \u044D\u0442\u043E\u0442 Vincent...",-1),t("div",{class:"materials-content"},[t("p",null,"\u043D\u0430\u043F\u0440\u0438\u0434\u0443\u043C\u044B\u0432\u0430\u0435\u0442 \u0444\u0440\u0430\u0437 \u0432\u0441\u044F\u043A\u0438\u0445,"),t("p",null,"\u0430 \u043C\u043D\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0438\u0442\u044C, \u044F \u0436\u0435 special agent!")],-1)]))):m("",!0),x.value?(n(),a("div",Q,[e[5]||(e[5]=t("div",{class:"section-title"},"C\u0435\u0439\u0447\u0430\u0441 \u043D\u0430\u043F\u0438\u0448\u0443 :",-1)),t("div",X,[e[4]||(e[4]=t("p",null,"\u0438 \u0434\u0430\u0436\u0435 \u0431\u0435\u0437 \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043E\u043A \u043C\u043E\u0436\u0435\u0442 \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u044E",-1)),t("div",Y,[(n(!0),a(y,null,f(i.value,(o,u)=>(n(),a("div",{class:"homework-word",key:"hw-"+u},[t("div",Z,[t("span",tt,l(u+1)+". ",1),t("span",et,l(o.ru),1),o.hint&&!o.showHint?(n(),a("span",{key:0,class:"hint-icon",onClick:r=>$(o)}," \u{1F50D}\uFE0F \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0443 ",8,st)):m("",!0)]),o.showHint?(n(),a("div",ot,[t("span",nt,l(o.hint),1)])):m("",!0),w(t("input",{type:"text","onUpdate:modelValue":r=>o.userTranslation=r,placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434...",class:"translation-input",onInput:N},null,40,at),[[H,o.userTranslation]])]))),128))]),t("div",it,[w(t("textarea",{class:"message-input","onUpdate:modelValue":e[0]||(e[0]=o=>h.value=o),placeholder:"\u0421\u043E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0434\u043B\u044F \u0412\u0438 \u0447\u0442\u043E-\u043D\u0438\u0431\u0443\u0434\u044C \u0438\u0437 \u0441\u043B\u043E\u0432 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435, \u043F\u0443\u0441\u0442\u044C \u0442\u043E\u0436\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0438\u0442 (\u043B\u044E\u0431\u043E\u0435 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435)!"},null,512),[[H,h.value]]),t("button",{class:"homework-submit-btn",onClick:W,disabled:!M.value}," Send to Vismyfriend \u2192 ",8,lt)])])])):m("",!0)],512)])])],4),t("div",{class:"print-controls"},[t("button",{class:"print-button",onClick:S},"\u0420\u0430\u0441\u043F\u0435\u0447\u0430\u0442\u0430\u0442\u044C \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B")])]))}};var ht=z(rt,[["__scopeId","data-v-c8e98792"]]);export{ht as default};
