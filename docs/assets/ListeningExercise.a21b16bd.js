import{u as R,r as f,o as T,b as r,c as n,e as s,t as d,F as g,q as y,j as _,s as z,y as K,w as D,B as A,n as C}from"./index.9663a93a.js";import{L as j}from"./ListeningExerciseData.e59c3b21.js";import{_ as G}from"./plugin-vue_export-helper.21dcd24c.js";const O={key:0,class:"exercise-container"},Y={class:"exercise-header"},H={key:0,class:"useful-words-container"},I={class:"useful-words"},J={class:"useful-words-content"},Q={class:"english-word"},X={class:"translation"},Z={key:0,class:"comma"},q={class:"task-title"},x={key:1,class:"task-image-container"},ee=["src","alt"],se={key:2,controls:"",class:"audio-player",controlsList:"nodownload",oncontextmenu:"return false;"},te=["src"],le={key:3,class:"true-false-container"},ae={class:"true-false-table"},oe={class:"radio-label"},re=["name","onUpdate:modelValue"],ne={class:"radio-label"},ue=["name","onUpdate:modelValue"],ce={key:4,class:"multiple-choice-container"},ie={class:"question-text"},de={class:"options-container"},pe=["name","value","onUpdate:modelValue"],ve={class:"option-text"},_e={class:"check-script-wrapper"},fe=["onClick"],me={key:0,class:"script-toggle-wrapper"},he=["onClick"],ke={key:5,class:"text-script-content"},ge={__name:"ListeningExercise",setup(ye){const F=R(),u=f(null),p=f([]),v=f([]),b=f(null),m=f([]),E=f(""),L=t=>t===100?{letter:"A+",class:"grade-Aplus"}:t>=85?{letter:"A",class:"grade-A"}:t>=75?{letter:"B+",class:"grade-Bplus"}:t>=60?{letter:"B-",class:"grade-Bminus"}:t>=40?{letter:"C",class:"grade-C"}:t>=20?{letter:"D",class:"grade-D"}:t>=10?{letter:"E",class:"grade-E"}:{letter:"F",class:"grade-F"},V=t=>{b.value=b.value===t?null:t};T(()=>{E.value=F.params.missionName,u.value=j[E.value]||null,u.value&&(p.value=u.value.tasks.map(t=>Array(t.questions.length).fill(null)),v.value=u.value.tasks.map(()=>!1),m.value=u.value.tasks.map(()=>null)),M()});const M=()=>{document.addEventListener("contextmenu",t=>{if(t.target.classList.contains("audio-player"))return t.preventDefault(),!1}),document.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.key==="s"&&t.preventDefault()})},B=t=>t?t.split(",").map(o=>{const[l,e]=o.split("-").map(c=>c.trim());return{english:l,russian:e}}):[],N=t=>{v.value[t]=!0;const o=u.value.tasks[t];let l=0;o.questions.forEach((c,w)=>{p.value[t][w]===c.correctAnswer&&l++});const e=Math.round(l/o.questions.length*100);m.value[t]=e},S=(t,o,l,e)=>{if(!v.value[t])return"";const c=p.value[t][o];return l===e?c===l?"correct-selected":"correct-not-selected":c===l?"incorrect-selected":""},W=(t,o,l,e)=>{if(!v.value[t])return"";const c=p.value[t][o];return l===e?c===l?"option-correct-selected":"option-correct-not-selected":c===l?"option-incorrect-selected":""},$=["#cff0ff","#e0c0ff","#ffc0cb","#ffd700","#98fb98","#ffa07a","#ff6347"];return(t,o)=>u.value?(r(),n("div",O,[s("div",Y,[s("h2",null,d(u.value.mainDescription),1),o[0]||(o[0]=s("p",{class:"main-description"},"Special tasks for S.P.E.C.i.A.L. agents",-1))]),(r(!0),n(g,null,y(u.value.tasks,(l,e)=>{var c,w,U;return r(),n("div",{key:e,class:"task-container",style:z({backgroundColor:$[e%7]})},[(U=(w=(c=u.value)==null?void 0:c.tasks)==null?void 0:w[e])!=null&&U.usefulWords?(r(),n("div",H,[s("div",I,[o[2]||(o[2]=s("span",{class:"useful-words-title"},"Useful words:",-1)),s("div",J,[(r(!0),n(g,null,y(B(u.value.tasks[e].usefulWords),(i,a)=>(r(),n("div",{key:a,class:"word-pair"},[s("span",Q,d(i.english),1),o[1]||(o[1]=s("span",{class:"separator"},"-",-1)),s("span",X,d(i.russian),1),a<B(u.value.tasks[e].usefulWords).length-1?(r(),n("span",Z,",")):_("",!0)]))),128))])])])):_("",!0),s("h3",q,d(l.taskDescription),1),l.taskPicture?(r(),n("div",x,[s("img",{src:l.taskPicture,alt:"Image for task "+(e+1),class:"task-image"},null,8,ee)])):_("",!0),l.audio?(r(),n("audio",se,[s("source",{src:l.audio,type:"audio/mp3"},null,8,te),o[3]||(o[3]=K(" Your browser does not support the audio element. "))])):_("",!0),l.taskID==="true_false"?(r(),n("div",le,[s("table",ae,[o[4]||(o[4]=s("thead",null,[s("tr",null,[s("th",null,"\u043F\u0440\u0430\u0432\u0434\u0430 / \u0422\u0420\u0423 / \u0438\u043B\u0438 / \u0444\u041E\u043B\u0441 / \u043B\u043E\u0436\u044C :"),s("th",{class:"true-header"},"True"),s("th",{class:"false-header"},"False")])],-1)),s("tbody",null,[(r(!0),n(g,null,y(l.questions,(i,a)=>(r(),n("tr",{key:a},[s("td",null,d(i.text),1),s("td",null,[s("label",oe,[D(s("input",{type:"radio",name:"task"+e+"q"+a,value:"true","onUpdate:modelValue":h=>p.value[e][a]=h},null,8,re),[[A,p.value[e][a]]]),s("span",{class:C(["radio-custom",S(e,a,"true",i.correctAnswer)])},null,2)])]),s("td",null,[s("label",ne,[D(s("input",{type:"radio",name:"task"+e+"q"+a,value:"false","onUpdate:modelValue":h=>p.value[e][a]=h},null,8,ue),[[A,p.value[e][a]]]),s("span",{class:C(["radio-custom",S(e,a,"false",i.correctAnswer)])},null,2)])])]))),128))])])])):l.taskID==="multiple_choice"?(r(),n("div",ce,[(r(!0),n(g,null,y(l.questions,(i,a)=>(r(),n("div",{key:a,class:"question-container"},[s("p",ie,d(a+1)+") "+d(i.text),1),s("div",de,[(r(!0),n(g,null,y(i.options,(h,k)=>(r(),n("label",{key:k,class:C(["option-label",[W(e,a,k,i.correctAnswer),p.value[e][a]===k&&!v.value[e]?"option-selected":""]])},[D(s("input",{type:"radio",name:"task"+e+"q"+a,value:k,"onUpdate:modelValue":P=>p.value[e][a]=P,class:"option-input"},null,8,pe),[[A,p.value[e][a]]]),s("span",ve,d(k)+" : "+d(h),1)],2))),128))])]))),128))])):_("",!0),s("div",_e,[s("button",{class:"check-button",onClick:i=>N(e)}," \u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C - check ",8,fe),s("div",{class:C(["score-display",[{"score-visible":v.value[e]},v.value[e]?L(m.value[e]).class:""]])},d(v.value[e]?`${m.value[e]}% (${L(m.value[e]).letter})`:""),3),l.textScript?(r(),n("div",me,[s("button",{class:"toggle-script-btn",onClick:i=>V(e)},d(b.value===e?"\u0421\u043A\u0440\u044B\u0442\u044C \u0442\u0435\u043A\u0441\u0442":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0442\u0435\u043A\u0441\u0442 \u0430\u0443\u0434\u0438\u043E"),9,he)])):_("",!0)]),b.value===e?(r(),n("div",ke,[s("p",null,d(l.textScript),1)])):_("",!0)],4)}),128))])):_("",!0)}};var De=G(ge,[["__scopeId","data-v-b85f065a"]]);export{De as default};
