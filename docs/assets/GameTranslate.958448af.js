import{u as B,r as n,o as E,b as v,c as i,e as s,t as h,j as k,F as G,q as S,n as q}from"./index.d411f48f.js";import{q as I}from"./questions-data.c81d8c4a.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";const R={key:0,class:"game-container"},V={key:0,class:"modal-overlay"},j={class:"modal-content"},z={class:"game-content-wrapper"},A={class:"main-content"},K={class:"word"},O={class:"hint-container"},P=["onClick"],Z={__name:"GameTranslate",setup($){const b=B(),d=n([]),l=n([]),m=n([]),e=n({}),p=n(!1),g=n(""),o=n(!1),C=n(0);n(0);const u=n([]),w=()=>{C.value+=1,W()},T=()=>{x()},y=t=>t.sort(()=>Math.random()-.5),W=()=>{if(l.value.length===0){N("\u{1F389} \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430!");return}if(e.value&&!e.value.isIntro&&m.value.push({...e.value,isShowingTranslation:o.value}),e.value=l.value.pop(),o.value){const t=e.value.eng,a=e.value.ru;e.value.eng=a,e.value.ru=t}r()},x=()=>{if(m.value.length===0)return;e.value&&l.value.push(e.value);const t=m.value.pop();if(e.value={eng:t.eng,ru:t.ru},t.isShowingTranslation){const a=e.value.eng,_=e.value.ru;e.value.eng=_,e.value.ru=a,o.value=!0}else o.value=!1;r()},L=()=>{const t=e.value.eng,a=e.value.ru;e.value.eng=a,e.value.ru=t,o.value=!o.value,r()},M=t=>{u.value[t]=!0},r=()=>{e.value.ru&&(u.value=Array(e.value.ru.length).fill(!1))},N=t=>{g.value=t,p.value=!0},D=()=>{p.value=!1},f=t=>{t.touches&&t.touches.length>1&&(t.preventDefault(),t.stopPropagation())};return E(()=>{const t=b.params.missionName;d.value=I[t]||[],l.value=y([...d.value]),e.value={eng:"Click right",ru:"\u041D\u0430\u0436\u043C\u0438 \u0432\u043F\u0440\u0430\u0432\u043E",isIntro:!0},r(),document.addEventListener("dblclick",f),document.addEventListener("touchstart",f,{passive:!1});const a=document.createElement("meta");a.name="viewport",a.content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no",document.head.appendChild(a)}),(t,a)=>d.value.length?(v(),i("div",R,[p.value?(v(),i("div",V,[s("div",j,[s("p",null,h(g.value),1),s("button",{onClick:D},"OK")])])):k("",!0),s("div",z,[s("button",{class:"nav-button prev-button",onClick:T},"\u2039"),s("div",A,[s("div",{class:"word-card",onClick:L},[s("div",K,h(e.value.eng),1)]),s("div",O,[(v(!0),i(G,null,S(e.value.ru.split(""),(_,c)=>(v(),i("div",{class:q(["hint-box",{revealed:u.value[c]}]),key:c,onClick:H=>M(c)},h(u.value[c]?_:"?"),11,P))),128))])]),s("button",{class:"nav-button next-button",onClick:w},"\u203A")])])):k("",!0)}};var X=F(Z,[["__scopeId","data-v-43a449e4"]]);export{X as default};
