import{u as be,b as A,d as ke,o as l,f as a,h as c,t as _,F as y,q as k,l as b,x as we,s as z,j as P,I as Y,n as E,m as Q,D as Ae,J as Ce,z as Z,G as I}from"./index.d86366fc.js";import{b as De}from"./brainStormExerciseData.05516ee7.js";import{_ as Ee}from"./plugin-vue_export-helper.21dcd24c.js";const Te={key:0,class:"exercise-container"},Se={class:"exercise-header"},$e={class:"header-bottom"},ze={class:"task-counter"},Oe={key:0,class:"audio-player-sticky-container"},Ue={controls:"",class:"audio-player",controlsList:"nodownload",oncontextmenu:"return false;"},Pe=["src"],Fe={class:"task-content"},Me={key:0,class:"useful-words-container"},He={class:"useful-words"},Le={class:"useful-words-content"},Ne={class:"english-word"},Re={class:"translation"},We={key:0,class:"comma"},Be={class:"task-title"},Qe={key:1,class:"task-image-container"},Ke=["src","alt"],Ge={key:2,class:"true-false-container"},je={class:"true-false-table"},Ve={class:"radio-label"},Xe=["name","onUpdate:modelValue"],Je={class:"radio-label"},Ye=["name","onUpdate:modelValue"],Ze={key:3,class:"multiple-choice-container"},Ie={class:"question-text margin-bottom"},xe={key:0,class:"question-image-container"},qe=["src","alt"],et={class:"options-container"},tt=["name","value","onClick"],st={class:"option-text"},ot={key:1,class:"explain-container"},nt={key:0,class:"explanation-content"},rt=["onClick"],lt={key:4,class:"student-input-container"},at={class:"question-text"},ut=["onUpdate:modelValue","onKeyup","data-task","data-question"],ct=["onUpdate:modelValue","onInput","data-task","data-question"],it={key:0,class:"answer-feedback"},dt={key:0,class:"correct-answer"},pt={key:1,class:"correct-answer"},vt={key:2,class:"almost-answer"},ht={key:3,class:"incorrect-answer"},ft={key:5,class:"drop-down-text-container"},_t=["onUpdate:modelValue"],mt=["value"],yt={key:0,class:"answer-feedback"},gt={key:0,class:"correct-answer"},bt={key:1,class:"incorrect-answer"},kt={key:6,class:"grid-table-container"},wt={class:"grid-table"},At=["onUpdate:modelValue","placeholder"],Ct={key:0,class:"grid-table-feedback"},Dt={key:0,class:"correct-feedback"},Et={key:7,class:"discussion-task-container"},Tt={class:"question-controls"},St=["onClick"],$t={class:"question-text"},zt={class:"translation-section"},Ot=["onClick"],Ut={key:1,class:"translation-text"},Pt={key:1,class:"translation-text collapsed-translation"},Ft={class:"task-footer"},Mt={class:"task-controls"},Ht=["onClick"],Lt=["onClick","data-task-type"],Nt=["onClick"],Rt={key:0,class:"text-script-content"},Wt={class:"task-navigation"},Bt=["disabled"],Qt=["disabled"],Kt={__name:"BrainStormExercises",setup(Gt){const x=be(),f=A(null),d=A([]),D=A([]),H=A(null),L=A([]),K=A(""),T=A(0),S=A([]),O=A([]),U=A([]),F=A(!1),N=A([]),R=A([]),$=A([]),M=A([]),q={mounted:e=>{const s=document.createElement("div");s.style.cssText=`
      position: absolute;
      top: -9999px;
      left: -9999px;
      visibility: hidden;
      white-space: pre-wrap;
      word-wrap: break-word;
      overflow-wrap: break-word;
      font-family: ${getComputedStyle(e).fontFamily};
      font-size: ${getComputedStyle(e).fontSize};
      font-weight: ${getComputedStyle(e).fontWeight};
      line-height: ${getComputedStyle(e).lineHeight};
      padding: ${getComputedStyle(e).padding};
      width: ${e.offsetWidth}px;
      border: ${getComputedStyle(e).border};
      box-sizing: border-box;
    `,document.body.appendChild(s);const o=()=>{e.value?s.textContent=e.value+" ":s.textContent=e.placeholder||"";const t=s.offsetHeight+2;e.style.height="auto",e.style.height=t+"px"};e.addEventListener("input",o),e._resizeHandler=o,e._measureEl=s,setTimeout(o,0)},updated:e=>{e._resizeHandler&&setTimeout(e._resizeHandler,0)},unmounted:e=>{e._resizeHandler&&e.removeEventListener("input",e._resizeHandler),e._measureEl&&document.body.removeChild(e._measureEl)}},ee=e=>{if(!f.value)return;const s=f.value.tasks[e];s.taskID==="discussion_task"&&(F.value?(s.questions=[...s.originalQuestions],F.value=!1):(s.originalQuestions||(s.originalQuestions=[...s.questions]),s.questions=[...s.questions].sort(()=>Math.random()-.5),F.value=!0),S.value[e]=Array(s.questions.length).fill(!1),O.value[e]=Array(s.questions.length).fill(!1),U.value[e]=Array(s.questions.length).fill(!1))},w=e=>!e||typeof e!="string"?"":e.toLowerCase().replace(/\s+/g," ").trim().replace(/[.,!?;:…–—]+$/g,"").replace(/[.,!?;:…–—]/g," ").replace(/\s+/g," ").replace(/[`'‘’´]/g,"'").replace(/(\b(?:he|she|it))'?s not\b/g,"$1 is not").replace(/(\b(?:he|she|it)) isn'?t\b/g,"$1 is not").replace(/(\b(?:you|we|they|i))'?re not\b/g,"$1 are not").replace(/(\b(?:you|we|they|i)) aren'?t\b/g,"$1 are not").replace(/\bi'?m not\b/g,"i am not").replace(/\bdo not\b/g,"don't").replace(/\bdoes not\b/g,"doesn't").replace(/\bdid not\b/g,"didn't").replace(/\bwill not\b/g,"won't").replace(/\bcan not\b/g,"can't").replace(/\bmust not\b/g,"mustn't").replace(/\bshould not\b/g,"should't").replace(/\bwould not\b/g,"wouldn't").replace(/\b(?:dont|doesnt|didnt|wont|cant|hadnt|hasnt|mustnt|shouldnt|wouldnt)\b/g,s=>({dont:"don't",doesnt:"doesn't",didnt:"didn't",wont:"won't",cant:"can't",hasnt:"hasn't",hadnt:"hadn't",mustnt:"mustn't",shouldnt:"shouldn't",wouldnt:"wouldn't"})[s]).replace(/\b(?:i am|im)\b/g,"i'm").replace(/\b(?:you are|youre)\b/g,"you're").replace(/\b(?:we are|were)\b/g,"we're").replace(/\b(?:they are|theyre)\b/g,"they're").replace(/\b(?:she is|shes)\b/g,"she's").replace(/\b(?:he is|hes)\b/g,"he's").replace(/\b(?:it is|its)\b/g,"it's").replace(/(\b[a-z]+)'ll\b/gi,"$1 will").replace(/(\b(?:i|you|he|she|we|they|it))'?d\b/g,"$1 would").replace(/\brecieve\b/g,"receive").replace(/\bdefinately\b/g,"definitely").replace(/\bpractice\b/g,"practise").replace(/\s+/g," ").trim(),te=(e,s)=>{const o=s+1;o<f.value.tasks[e].questions.length&&I(()=>{const t=R.value.find(u=>Number(u.dataset.task)===e&&Number(u.dataset.question)===o);if(t&&(t.focus(),t.tagName==="TEXTAREA")){const u=t.value.length;t.setSelectionRange(u,u)}})},se=(e,s,o)=>{const t=o.target,u=t.value,i={"?":`+ \xA0\xA0\xA0 
- \xA0\xA0\xA0\xA0 
? \xA0\xA0\xA0\xA0 
o? \xA0 `,"+":`+ 
- 
? 
! `,"!":`! 
? 
- 
+ `,"*":`1. 
2. 
3. 
4. `," ":`+ \xA0\xA0\xA0 
- \xA0\xA0\xA0\xA0 
? \xA0\xA0\xA0\xA0 
o? \xA0 `};for(const[h,r]of Object.entries(i))if(u===h){d.value[e][s]=r,I(()=>{t.tagName==="TEXTAREA"&&t._resizeHandler&&t._resizeHandler();const n=r.indexOf(`
`);t.setSelectionRange(n,n),t.focus()});break}},G=(e,s,o,t)=>{if(!D.value[e]||f.value.tasks[e].taskID!=="student_input")return"";if(o==="anyIsOk")return"correct";const u=w(d.value[e][s]),i=w(o);return u===i?"correct":t!=null&&t.some(h=>w(h)===u)?"almost":"incorrect"},j=(e,s,o,t)=>{if(!D.value[e])return"";if(f.value.tasks[e].taskID==="student_input"){if(o==="anyIsOk")return"student-input-any-ok";const u=w(d.value[e][s]),i=w(o);return u===i?"student-input-correct":t&&t.some(h=>w(h)===u)?"student-input-almost-correct":"student-input-incorrect"}return d.value[e][s]===o?"student-input-correct":"student-input-incorrect"},oe=e=>e.split(/(_{1,4})/),ne=(e,s,o,t)=>{t.preventDefault();const u=d.value[e][s];M.value[e][s]||(M.value[e][s]=[]);const i=M.value[e][s];u===null?(i.push(o),d.value[e][s]=o):u!==o&&(i.includes(u)||i.push(u),i.includes(o)||i.push(o),d.value[e][s]=o)},re=(e,s)=>{$.value[e]||($.value[e]=[]),$.value[e][s]=!$.value[e][s]},le=(e,s,o)=>{const t=d.value[e][s];return t?(Array.isArray(o)?o.includes(t):t===o)?"explain-correct":"explain-incorrect":""},ae=()=>{T.value<f.value.tasks.length-1&&(T.value++,window.scrollTo({top:0,behavior:"smooth"}))},ue=()=>{T.value>0&&(T.value--,window.scrollTo({top:0,behavior:"smooth"}))},ce=e=>{H.value=H.value===e?null:e},ie=(e,s)=>{!S.value[e]||(S.value[e][s]=!S.value[e][s],O.value[e][s]=S.value[e][s])},de=(e,s)=>{!U.value[e]||(U.value[e][s]=!U.value[e][s])},pe=()=>{document.addEventListener("contextmenu",e=>{if(e.target.classList.contains("audio-player"))return e.preventDefault(),!1}),document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="s"&&e.preventDefault()})},V=e=>e?e.split(",").map(s=>{const[o,t]=s.split("-").map(u=>u.trim());return{english:o,russian:t}}):[],ve=e=>{const s=f.value.tasks[e];if(s.taskID==="discussion_task")return;D.value[e]=!0;let o=0;if(s.taskID==="grid_table")o=me(e);else{let t=0,u=0;s.questions.forEach((i,h)=>{if(s.taskID==="student_input"){if(i.correctAnswer==="anyIsOk")t++;else{const r=w(d.value[e][h]),n=w(i.correctAnswer);(r===n||i.almostCorrectAnswers&&i.almostCorrectAnswers.some(v=>w(v)===r))&&t++}u++}else if(s.taskID==="drop_down_text")W(i.text).filter(v=>v.type==="dropdown").forEach((v,m)=>{const p=d.value[e][h][m];v.correctOptions.includes(p)&&t++,u++});else if(s.taskID==="multiple_choice"){const r=d.value[e][h];Array.isArray(i.correctAnswer)?i.correctAnswer.includes(r)&&t++:r===i.correctAnswer&&t++,u++}else d.value[e][h]===i.correctAnswer&&t++,u++}),o=u>0?Math.round(t/u*100):0}L.value[e]=o},X=(e,s,o,t)=>{if(!D.value[e])return"";const u=d.value[e][s];return(Array.isArray(t)?t.includes(o):o===t)?u===o?"correct-selected":"correct-not-selected":u===o?"incorrect-selected":""},he=(e,s,o,t)=>{var n;const u=d.value[e][s],i=((n=M.value[e])==null?void 0:n[s])||[],h=Array.isArray(t)?t.includes(o):o===t,r=u===o;if(h&&i.includes(o))return"option-correct-selected";if(!h){if(r)return"option-incorrect-selected";if(i.includes(o))return"option-wrong-history"}return""},W=e=>{if(!e)return[];const s=e.split(`
`).filter(u=>u.trim()!=="");let o=0;const t=[];for(const u of s){const i=[];let h=0,r;const n=/\(([^)]+)\)/g;for(;(r=n.exec(u))!==null;){r.index>h&&i.push({type:"text",text:u.substring(h,r.index)});const m=r[1].split(",").map(p=>{const g=p.trim(),C=g.endsWith("*");return{value:C?g.replace(/\*$/,""):g,isCorrect:C}});i.push({type:"dropdown",options:m,index:o++,correctOptions:m.filter(p=>p.isCorrect).map(p=>p.value)}),h=r.index+r[0].length}h<u.length&&i.push({type:"text",text:u.substring(h)}),i.length>0&&t.push(i)}return t},J=(e,s,o)=>{if(!D.value[e])return"";const u=W(o).filter(r=>r.type==="dropdown");return u.every(r=>d.value[e][s][r.index]!=="")?u.every(r=>{const n=d.value[e][s][r.index];return r.correctOptions.includes(n)})?"correct":"incorrect":""},fe=(e,s,o,t)=>{if(!D.value[e])return"";const u=d.value[e][s][o];return u===""?"":t.includes(u)?"drop-down-correct":"drop-down-incorrect"},_e=e=>e.tableData.rows.map(s=>{const o={cells:[]};return s.cells.forEach((t,u)=>{o.cells.push(s.editable[u]?"":t)}),o}),me=e=>{const s=f.value.tasks[e],o=[];s.tableData.rows.forEach((u,i)=>{const h={allCorrect:!0,incorrect:{}};if(!u.correctAnswers){o.push(h);return}u.editable.forEach((r,n)=>{var g;if(!r||u.correctAnswers.cells[n]==="anyIsOk")return;const v=w(d.value[e][i].cells[n]),m=w(u.correctAnswers.cells[n]),p=(g=u.correctAnswers.almostCorrect)==null?void 0:g[n];v!==m&&(!p||!p.some(C=>w(C)===v))&&(h.allCorrect=!1,h.incorrect[n]={correct:u.correctAnswers.cells[n],userAnswer:d.value[e][i].cells[n]})}),o.push(h)}),N.value[e]=o;const t=o.filter(u=>u.allCorrect).length;return Math.round(t/s.tableData.rows.length*100)},ye=(e,s,o,t)=>{var r;if(!D.value[e]||!t)return"";if(t.cells[o]==="anyIsOk")return"grid-input-correct";const u=w(d.value[e][s].cells[o]),i=w(t.cells[o]),h=(r=t.almostCorrect)==null?void 0:r[o];return u===i?"grid-input-correct":h&&h.some(n=>w(n)===u)?"grid-input-almost-correct":"grid-input-incorrect"};ke(()=>{K.value=x.params.missionName,f.value=De[K.value]||null,f.value&&(f.value.tasks.forEach(e=>{e.taskID==="discussion_task"&&(e.originalQuestions=[...e.questions],e.questions=[...e.questions].sort(()=>Math.random()-.5),F.value=!0)}),d.value=f.value.tasks.map(e=>e.taskID==="grid_table"?_e(e):e.taskID==="drop_down_text"?e.questions.map(s=>{const o=(s.text.match(/\(/g)||[]).length;return Array(o).fill("")}):e.taskID==="discussion_task"?[]:Array(e.questions.length).fill(null)),M.value=f.value.tasks.map(e=>e.taskID==="multiple_choice"?Array(e.questions.length).fill().map(()=>[]):null),$.value=f.value.tasks.map(e=>e.taskID==="multiple_choice"?Array(e.questions.length).fill(!1):null),N.value=f.value.tasks.map(()=>[]),D.value=f.value.tasks.map(()=>!1),L.value=f.value.tasks.map(()=>null),S.value=f.value.tasks.map(e=>e.taskID==="discussion_task"?Array(e.questions.length).fill(!1):null),O.value=f.value.tasks.map(e=>e.taskID==="discussion_task"?Array(e.questions.length).fill(!1):null),U.value=f.value.tasks.map(e=>e.taskID==="discussion_task"?Array(e.questions.length).fill(!1):null)),pe()});const ge=["#cff0ff","#e0c0ff","#ffc0cb","#ffd700","#98fb98","#ffa07a","#ff6347"];return(e,s)=>f.value?(l(),a("div",Te,[c("div",Se,[c("h2",null,_(f.value.mainDescription),1),c("div",$e,[s[0]||(s[0]=c("p",{class:"main-description"},"Special tasks for S.P.E.C.i.A.L. agents",-1)),c("div",ze,_(T.value+1)+"/"+_(f.value.tasks.length),1)])]),(l(!0),a(y,null,k(f.value.tasks,(o,t)=>{var u,i,h;return l(),a("div",{key:t,class:"task-container",style:we({backgroundColor:ge[t%7],display:t===T.value?"block":"none"})},[o.audio?(l(),a("div",Oe,[c("audio",Ue,[c("source",{src:o.audio,type:"audio/mp3"},null,8,Pe),s[1]||(s[1]=z(" Your browser does not support the audio element. "))])])):b("",!0),c("div",Fe,[(h=(i=(u=f.value)==null?void 0:u.tasks)==null?void 0:i[t])!=null&&h.usefulWords?(l(),a("div",Me,[c("div",He,[s[3]||(s[3]=c("span",{class:"useful-words-title"},"Useful words:",-1)),c("div",Le,[(l(!0),a(y,null,k(V(f.value.tasks[t].usefulWords),(r,n)=>(l(),a("div",{key:n,class:"word-pair"},[c("span",Ne,_(r.english),1),s[2]||(s[2]=c("span",{class:"separator"},"-",-1)),c("span",Re,_(r.russian),1),n<V(f.value.tasks[t].usefulWords).length-1?(l(),a("span",We,",")):b("",!0)]))),128))])])])):b("",!0),c("h3",Be,_(o.taskDescription),1),o.taskPicture?(l(),a("div",Qe,[c("img",{src:o.taskPicture,alt:"Image for task "+(t+1),class:"task-image"},null,8,Ke)])):b("",!0),o.taskID==="true_false"?(l(),a("div",Ge,[c("table",je,[s[4]||(s[4]=c("thead",null,[c("tr",null,[c("th",null,"\u043F\u0440\u0430\u0432\u0434\u0430 / \u0422\u0420\u0423 / \u0438\u043B\u0438 / \u0444\u041E\u043B\u0441 / \u043B\u043E\u0436\u044C :"),c("th",{class:"true-header"},"True"),c("th",{class:"false-header"},"False")])],-1)),c("tbody",null,[(l(!0),a(y,null,k(o.questions,(r,n)=>(l(),a("tr",{key:n},[c("td",null,_(r.text),1),c("td",null,[c("label",Ve,[P(c("input",{type:"radio",name:"task"+t+"q"+n,value:"true","onUpdate:modelValue":v=>d.value[t][n]=v},null,8,Xe),[[Y,d.value[t][n]]]),c("span",{class:E(["radio-custom",X(t,n,"true",r.correctAnswer)])},null,2)])]),c("td",null,[c("label",Je,[P(c("input",{type:"radio",name:"task"+t+"q"+n,value:"false","onUpdate:modelValue":v=>d.value[t][n]=v},null,8,Ye),[[Y,d.value[t][n]]]),c("span",{class:E(["radio-custom",X(t,n,"false",r.correctAnswer)])},null,2)])])]))),128))])])])):o.taskID==="multiple_choice"?(l(),a("div",Ze,[(l(!0),a(y,null,k(o.questions,(r,n)=>{var v,m;return l(),a("div",{key:n,class:"question-container"},[c("p",Ie,_(n+1)+") "+_(r.text),1),r.questionPicture?(l(),a("div",xe,[c("img",{src:r.questionPicture,alt:"Image for question "+(n+1),class:"question-image"},null,8,qe)])):b("",!0),c("div",et,[(l(!0),a(y,null,k(r.options,(p,g)=>(l(),a("label",{key:g,class:E(["option-label",he(t,n,g,r.correctAnswer)])},[c("input",{type:"radio",name:"task"+t+"q"+n,value:g,class:"option-input",onClick:C=>ne(t,n,g,C)},null,8,tt),c("span",st,_(g)+" : "+_(p),1)],2))),128))]),d.value[t][n]?(l(),a("div",ot,[(v=$.value[t])!=null&&v[n]?(l(),a("div",nt,[c("p",null,_(r.explanation),1)])):b("",!0),c("button",{class:E(["explain-button",le(t,n,r.correctAnswer)]),onClick:p=>re(t,n)},_((m=$.value[t])!=null&&m[n]?"\u041D\u0443 \u043B\u0430\u0434\u043D\u043E... ":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043E\u0431\u044A\u044F\u0441\u043D\u0435\u043D\u0438\u0435"),11,rt)])):b("",!0)])}),128))])):o.taskID==="student_input"?(l(),a("div",lt,[(l(!0),a(y,null,k(o.questions,(r,n)=>(l(),a("div",{key:n,class:"question-container"},[c("p",at,[(l(!0),a(y,null,k(oe(r.text),(v,m)=>(l(),a(y,null,[v.startsWith("_")?(l(),a(y,{key:0},[v.length<=3?P((l(),a("input",{key:0,type:"text",placeholder:". . .",class:E(["student-input",[j(t,n,r.correctAnswer,r.almostCorrectAnswers),{"input-small":v.length===1,"input-medium":v.length===2,"input-large":v.length===3}]]),"onUpdate:modelValue":p=>d.value[t][n]=p,onKeyup:Ae(p=>te(t,n),["enter"]),disabled:!1,"data-task":t,"data-question":n,ref_for:!0,ref_key:"inputFields",ref:R},null,42,ut)),[[Q,d.value[t][n]]]):P((l(),a("textarea",{key:1,class:E(["student-input student-input-textarea",[j(t,n,r.correctAnswer,r.almostCorrectAnswers),"input-full"]]),"onUpdate:modelValue":p=>d.value[t][n]=p,onInput:p=>se(t,n,p),disabled:!1,"data-task":t,"data-question":n,ref_for:!0,ref_key:"inputFields",ref:R,rows:"1",placeholder:". . ."},null,42,ct)),[[Q,d.value[t][n]],[q]])],64)):(l(),a(y,{key:1},[z(_(v),1)],64))],64))),256))]),D.value[t]?(l(),a("div",it,[r.correctAnswer==="anyIsOk"?(l(),a("span",dt,"\u2713 \u041F\u0440\u0438\u043D\u0438\u043C\u0430\u0435\u0442\u0441\u044F \u043B\u044E\u0431\u043E\u0439 \u043E\u0442\u0432\u0435\u0442")):G(t,n,r.correctAnswer,r.almostCorrectAnswers)==="correct"?(l(),a("span",pt,"\u2713 \u0412\u0435\u0440\u043D\u043E!")):G(t,n,r.correctAnswer,r.almostCorrectAnswers)==="almost"?(l(),a("span",vt,"\u26A0 \u0412\u0440\u043E\u0434\u0435 \u0442\u043E\u0436\u0435 \u043D\u043E\u0440\u043C \u043E\u0442\u0432\u0435\u0442, \u043D\u043E \u0441\u0442\u043E\u0438\u0442 \u043F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C!")):(l(),a("span",ht,[s[5]||(s[5]=z(" \u2717 \u0437\u0434\u0435\u0441\u044C \u0432\u0435\u0440\u043D\u043E \u0431\u0443\u0434\u0435\u0442: ")),c("strong",null,_(r.correctAnswer),1)]))])):b("",!0)]))),128))])):o.taskID==="drop_down_text"?(l(),a("div",ft,[(l(!0),a(y,null,k(o.questions,(r,n)=>(l(),a("div",{key:n,class:"question-container"},[(l(!0),a(y,null,k(W(r.text),(v,m)=>(l(),a("div",{key:m,class:"paragraph"},[c("p",null,[(l(!0),a(y,null,k(v,(p,g)=>(l(),a(y,{key:g},[p.type==="dropdown"?P((l(),a("select",{key:0,class:E(["drop-down-select",fe(t,n,p.index,p.correctOptions)]),"onUpdate:modelValue":C=>d.value[t][n][p.index]=C},[s[6]||(s[6]=c("option",{value:"",disabled:"",selected:""},"? ? ?",-1)),(l(!0),a(y,null,k(p.options,(C,B)=>(l(),a("option",{key:B,value:C.value},_(C.value),9,mt))),128))],10,_t)),[[Ce,d.value[t][n][p.index]]]):(l(),a(y,{key:1},[z(_(p.text),1)],64))],64))),128))])]))),128)),D.value[t]&&J(t,n,r.text)!==""?(l(),a("div",yt,[J(t,n,r.text)==="correct"?(l(),a("span",gt,"\u2713 \u0412\u0435\u0440\u043D\u043E!")):(l(),a("span",bt," \u2717 \u041D\u0435\u0432\u0435\u0440\u043D\u043E. \u0413\u0434\u0435-\u0442\u043E \u043D\u0443\u0436\u043D\u043E \u0438\u0441\u043F\u0440\u0430\u0432\u0438\u0442\u044C! "))])):b("",!0)]))),128))])):o.taskID==="grid_table"?(l(),a("div",kt,[c("table",wt,[c("thead",null,[c("tr",null,[(l(!0),a(y,null,k(o.tableData.headers,(r,n)=>(l(),a("th",{key:n},_(r),1))),128))])]),c("tbody",null,[(l(!0),a(y,null,k(o.tableData.rows,(r,n)=>(l(),a("tr",{key:n},[(l(!0),a(y,null,k(r.cells,(v,m)=>{var p;return l(),a("td",{key:m},[r.editable[m]?P((l(),a("input",{key:0,type:"text",class:E(["grid-table-input",ye(t,n,m,r.correctAnswers)]),"onUpdate:modelValue":g=>d.value[t][n].cells[m]=g,placeholder:((p=r.correctAnswers)==null?void 0:p.cells[m])==="anyIsOk"?"Any answer":""},null,10,At)),[[Q,d.value[t][n].cells[m]]]):(l(),a(y,{key:1},[z(_(v),1)],64))])}),128))]))),128))])]),D.value[t]?(l(),a("div",Ct,[(l(!0),a(y,null,k(N.value[t],(r,n)=>(l(),a("div",{key:n,class:"feedback-item"},[z(" \u0421\u0442\u0440\u043E\u043A\u0430 "+_(n+1)+": ",1),r.allCorrect?(l(),a("span",Dt,"\u2713 \u0412\u0441\u0435 \u0432\u0435\u0440\u043D\u043E!")):(l(!0),a(y,{key:1},k(r.incorrect,(v,m)=>(l(),a("span",{key:m,class:"incorrect-feedback"},' \u2717 \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C "'+_(v.correct)+'" ',1))),128))]))),128))])):b("",!0)])):o.taskID==="discussion_task"?(l(),a("div",Et,[(l(!0),a(y,null,k(o.questions,(r,n)=>{var v,m,p,g,C;return l(),a("div",{key:n,class:"discussion-question"},[c("div",Tt,[c("button",{class:E(["discussion-checkbox",{checked:(v=S.value[t])==null?void 0:v[n]}]),onClick:Z(B=>ie(t,n),["stop"])},null,10,St)]),c("div",{class:E(["question-content",{collapsed:(m=O.value[t])==null?void 0:m[n]}])},[c("div",$t,_(r.text),1),c("div",zt,[(p=O.value[t])!=null&&p[n]?b("",!0):(l(),a("div",{key:0,class:"translation-toggle",onClick:Z(B=>de(t,n),["stop"])},[(g=U.value[t])!=null&&g[n]?(l(),a("span",Ut,_(r.translation),1)):(l(),a(y,{key:0},[z("\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0432\u043E\u0434")],64))],8,Ot)),(C=O.value[t])!=null&&C[n]?(l(),a("div",Pt,_(r.translation),1)):b("",!0)])],2)])}),128))])):b("",!0),c("div",Ft,[c("div",Mt,[o.textScript?(l(),a("button",{key:0,class:"toggle-script-btn",onClick:r=>ce(t)},_(H.value===t?"\u0421\u043A\u0440\u044B\u0442\u044C \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0438":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0438"),9,Ht)):b("",!0),o.taskID!=="multiple_choice"?(l(),a("div",{key:1,class:E(["score-display",{"score-visible":D.value[t]}])},_(D.value[t]?`${L.value[t]}%`:""),3)):b("",!0),o.taskID!=="discussion_task"&&o.taskID!=="multiple_choice"?(l(),a("button",{key:2,class:"check-button",onClick:r=>ve(t),"data-task-type":o.taskID}," \u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C ",8,Lt)):o.taskID==="discussion_task"?(l(),a("button",{key:3,class:"check-button",onClick:r=>ee(t)},_(F.value?"Unshuffle":"Shuffle"),9,Nt)):b("",!0)]),H.value===t?(l(),a("div",Rt,[c("p",null,_(o.textScript),1)])):b("",!0),c("div",Wt,[c("button",{class:"nav-button prev-button",onClick:ue,disabled:T.value===0}," \u2190 ",8,Bt),c("button",{class:"nav-button next-button",onClick:ae,disabled:T.value===f.value.tasks.length-1}," \u2192 ",8,Qt)])])])],4)}),128))])):b("",!0)}};var Jt=Ee(Kt,[["__scopeId","data-v-0de24c8d"]]);export{Jt as default};
