import{j as N,u as x,r as l,c as P,C as R,o as q,b as d,d as u,e as t,t as v,F as B,q as G,g as M,h as O,A as W}from"./index.0aa23513.js";import{q as H}from"./questions-data.c8aa9c58.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";const F={key:0,class:"game-container"},U=["disabled"],z={class:"deck-of-cards"},V={class:"card-content"},Y={class:"card-text"},$={class:"word"},j={class:"translation"},Q={class:"remaining-cards",ref:"remainingCardsContainer"},Z={class:"card-content"},J={class:"card-text"},K={class:"word"},X={class:"translation"},b=1e3,ee={__name:"GameDeckOfCards",setup(te){N();const E=x(),T=/iPhone|iPad|iPod/i.test(navigator.userAgent),_=l([]),a=l(null);let o=[];const r=l([]),f=l(!1),y=e=>e.sort(()=>Math.random()-.5),m=()=>{if(o.length===0){L();return}const e=o.pop();a.value&&!a.value.isIntro&&r.value.push(a.value),a.value=e},w=()=>{if(r.value.length===0)return;const e=r.value.pop();a.value&&o.push(a.value),a.value=e},L=()=>{alert("\u0418\u0433\u0440\u0430 \u043E\u043A\u043E\u043D\u0447\u0435\u043D\u0430! \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430.")},S=P(()=>o),I=e=>({top:`${e*1.5}px`,left:`${e*1.5}px`});let c=0,g=!0,h=!0;const p=e=>{const{beta:s}=e,n=Date.now(),i=125,k=30,D=90;s>k&&s<D&&(h=!0),s<i&&s>D&&(g=!0),s>i&&n-c>b&&g?(navigator.vibrate&&navigator.vibrate(30),m(),c=n,g=!1):s<k&&n-c>b&&h&&(navigator.vibrate&&navigator.vibrate(30),w(),c=n,h=!1)},C=()=>{window.DeviceOrientationEvent&&(typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"&&(window.addEventListener("deviceorientation",p),f.value=!0)}).catch(console.error):(window.addEventListener("deviceorientation",p),f.value=!0))};return R(()=>{window.removeEventListener("deviceorientation",p)}),q(()=>{const e=E.params.missionName;_.value=H[e]||[],o=y([..._.value]),a.value={ru:"\u0415\u0441\u043B\u0438 \u0432\u044B \u0443\u0441\u043B\u044B\u0448\u0430\u043B\u0438 YES - \u043D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D \u0432\u043D\u0438\u0437",eng:"If you heard YES - tilt your phone down",isIntro:!0},C()}),(e,s)=>_.value.length?(d(),u("div",F,[t("button",{class:"goBackPage",onClick:w,disabled:r.value.length===0}," ctrl + z ",8,U),t("div",z,[t("div",{class:"wordCard",onClick:m},[t("div",V,[t("div",Y,[t("div",$,v(a.value.ru),1),t("div",j,v(a.value.eng),1)])])]),t("div",Q,[(d(!0),u(B,null,G(S.value,(n,i)=>(d(),u("div",{class:"remaining-card",onClick:m,key:i,style:W(I(i))},[t("div",Z,[t("div",J,[t("div",K,v(n.ru),1),t("div",X,v(n.eng),1)])])],4))),128))],512)]),!f.value&&M(T)?(d(),u("button",{key:0,onClick:C,class:"enable-tilt-btn"}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430\u043A\u043B\u043E\u043D\u043E\u043C ")):O("",!0)])):O("",!0)}};var oe=A(ee,[["__scopeId","data-v-f669deb2"]]);export{oe as default};
