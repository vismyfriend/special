import{r as a,o as R,G as $,b as v,c as d,e,y as b,t as l,u as le,j as T,w as B,H as F,i as ie,h as se,F as re}from"./index.171fed52.js";import{q as ue}from"./questions-data.e4548d5f.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";const ve={class:"tilt-debugger"},de={__name:"TiltDebugger",setup(q){const k=a(0),E=a(0),c=a(0),r=i=>{var t,s,m;k.value=(t=i.alpha)!=null?t:0,E.value=(s=i.beta)!=null?s:0,c.value=(m=i.gamma)!=null?m:0};return R(()=>{window.addEventListener("deviceorientation",r)}),$(()=>{window.removeEventListener("deviceorientation",r)}),(i,t)=>(v(),d("div",ve,[t[3]||(t[3]=e("h4",null,"\u{1F4D0} \u041D\u0430\u043A\u043B\u043E\u043D\u044B \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430:",-1)),e("div",null,[t[0]||(t[0]=e("strong",null,"Alpha (\u043E\u0441\u0438 Z):",-1)),b(" "+l(k.value.toFixed(1))+"\xB0",1)]),e("div",null,[t[1]||(t[1]=e("strong",null,"Beta (\u043D\u0430\u043A\u043B\u043E\u043D \u043D\u0430 \u0441\u0435\u0431\u044F / \u043E\u0442 \u0441\u0435\u0431\u044F):",-1)),b(" "+l(E.value.toFixed(1))+"\xB0",1)]),e("div",null,[t[2]||(t[2]=e("strong",null,"Gamma (\u0432\u043B\u0435\u0432\u043E / \u0432\u043F\u0440\u0430\u0432\u043E):",-1)),b(" "+l(c.value.toFixed(1))+"\xB0",1)])]))}};var ce=V(de,[["__scopeId","data-v-71e860ce"]]);const me={key:0,class:"modal-overlay"},pe={key:1,class:"game-container"},ge={key:0,class:"modal-overlay"},fe={class:"modal-content"},we={key:1,class:"modal-overlay"},_e={class:"modal-content"},Te={class:"word"},be={class:"translation"},ke={class:"counter-row"},Ee={__name:"GameExplainTheWord",setup(q){const k=le(),E=/iPhone|iPad|iPod/i.test(navigator.userAgent),c=a([]),r=a([]),i=a([]),t=a({}),s=a(!1),m=a(!0),M=a(!1),L=a(""),p=a(0),h=a(!1),x=a(null),C=a(0),N=a(0),G=a("portrait"),y=()=>{G.value=window.innerWidth>window.innerHeight?"landscape":"portrait"},w=a(!1),D=a("on"),H=()=>{s.value=!1},I=o=>{L.value=`${o}

Next: ${C.value} \u0440\u0430\u0437
Skip: ${N.value} \u0440\u0430\u0437`,s.value=!0},U=()=>{C.value+=1,S()},A=()=>{N.value+=1,S()},z=()=>{j()},K=()=>{const o=t.value.ru;t.value.ru=t.value.eng,t.value.eng=o},Z=o=>o.sort(()=>Math.random()-.5),S=()=>{if(r.value.length===0){I("\u{1F389} \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430!");return}t.value&&!t.value.isIntro&&i.value.push(t.value),t.value=r.value.pop()},j=()=>{i.value.length!==0&&(t.value&&r.value.push(t.value),t.value=i.value.pop())},Q=()=>{if(h.value){clearInterval(x.value),p.value=0,h.value=!1;return}S(),p.value=10,h.value=!0,x.value=setInterval(()=>{p.value-=1,p.value<=0&&(clearInterval(x.value),h.value=!1,I("\u23F0 \u0412\u0440\u0435\u043C\u044F \u0432\u044B\u0448\u043B\u043E!"))},1e3)},_=o=>{const{alpha:n,beta:u,gamma:g}=o,O=Date.now(),ee=45,te=-45,ne=15,P=800,W=Math.abs(g)>45&&g<0,ae=Math.abs(g)>45&&g>0,oe=!W&&!ae;let f;oe?f=u:W?f=-g:f=g,f>ee&&O-lastTiltTime>P&&canTriggerForward?(navigator.vibrate&&navigator.vibrate(30),loadQuestion(),lastTiltTime=O,canTriggerForward=!1):f<te&&O-lastTiltTime>P&&canTriggerBackward&&(navigator.vibrate&&navigator.vibrate(30),undoLastRemoval(),lastTiltTime=O,canTriggerBackward=!1),Math.abs(f)<ne&&(canTriggerForward=!0,canTriggerBackward=!0)},J=()=>{window.DeviceOrientationEvent&&(typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(o=>{o==="granted"&&(window.addEventListener("deviceorientation",_),w.value=!0)}):(window.addEventListener("deviceorientation",_),w.value=!0))},X=()=>{m.value=!1},Y=async()=>{if(m.value=!1,y(),window.DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"&&(window.addEventListener("deviceorientation",_),w.value=!0,L.value=`\u2705 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,s.value=!0)}catch(o){console.warn("Permission denied",o)}else window.addEventListener("deviceorientation",_),w.value=!0,L.value=`\u2705 \u041D\u0430\u043A\u043B\u043E\u043D\u044B \u0432\u043A\u043B\u044E\u0447\u0435\u043D\u044B!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,s.value=!0};return R(()=>{const o=k.params.missionName;c.value=ue[o]||[],r.value=Z([...c.value]),t.value={ru:"\u041E\u0431\u044A\u044F\u0441\u043D\u0438 \u044D\u0442\u043E \u043C\u043D\u0435",eng:"Explain it to me",isIntro:!0},y(),window.addEventListener("resize",y)}),$(()=>{clearInterval(x.value),window.removeEventListener("deviceorientation",_),window.removeEventListener("resize",y)}),(o,n)=>(v(),d(re,null,[m.value?(v(),d("div",me,[e("div",{class:"modal-content"},[n[4]||(n[4]=e("p",null,"\u0412\u044B \u0438\u0433\u0440\u0430\u0435\u0442\u0435 \u0441 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u0438\u043B\u0438 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430?",-1)),e("button",{onClick:Y},"\u{1F4F1} \u0421 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E"),e("button",{onClick:X},"\u{1F4BB} \u0421 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430")])])):T("",!0),c.value.length?(v(),d("div",pe,[e("button",{onClick:n[0]||(n[0]=u=>M.value=!0)},"\u2699"),M.value?(v(),d("div",ge,[e("div",fe,[n[7]||(n[7]=e("p",null,"\u0420\u0435\u0436\u0438\u043C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043D\u0430\u043A\u043B\u043E\u043D\u0430\u043C\u0438:",-1)),e("label",null,[B(e("input",{type:"radio",value:"off","onUpdate:modelValue":n[1]||(n[1]=u=>D.value=u)},null,512),[[F,D.value]]),n[5]||(n[5]=b(" \u{1F515} \u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),n[8]||(n[8]=e("br",null,null,-1)),e("label",null,[B(e("input",{type:"radio",value:"on","onUpdate:modelValue":n[2]||(n[2]=u=>D.value=u)},null,512),[[F,D.value]]),n[6]||(n[6]=b(" \u{1F4F2} \u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),n[9]||(n[9]=e("br",null,null,-1)),e("button",{onClick:n[3]||(n[3]=u=>M.value=!1)},"OK")])])):T("",!0),s.value?(v(),d("div",we,[e("div",_e,[e("p",null,l(L.value),1),e("button",{onClick:H},"OK")])])):T("",!0),e("div",{class:"word-card",onClick:K},[e("div",Te,l(t.value.eng),1),e("div",be,l(t.value.ru),1)]),e("div",{class:"timer",onClick:Q},l(p.value>0?`${p.value} \u0441\u0435\u043A`:"\u0421\u0442\u0430\u0440\u0442"),1),e("div",{class:"button-row"},[e("button",{onClick:z},"\u2190 Back"),e("button",{onClick:U},"\u2192 Next"),e("button",{onClick:A},"\u23ED Skip")]),e("div",ke,[e("span",null,"Next: "+l(C.value),1),e("span",null,"Skip: "+l(N.value),1)]),!w.value&&ie(E)?(v(),d("button",{key:2,onClick:J}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043D\u0430\u043A\u043B\u043E\u043D\u044B ")):T("",!0)])):T("",!0),se(ce)],64))}};var ye=V(Ee,[["__scopeId","data-v-1220c54d"]]);export{ye as default};
