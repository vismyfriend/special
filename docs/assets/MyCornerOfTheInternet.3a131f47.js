import{p as V,r as g,H,o as U,b as v,c as m,e as i,F as A,q as B,n as L,t as x,G as D,h as G,m as K,j as J,a8 as Q}from"./index.7769f527.js";import{_ as Z}from"./plugin-vue_export-helper.21dcd24c.js";const le={};const ee={class:"background"},te=["onMouseenter","onMouseleave"],ne=["onClick"],oe={key:0,class:"submenu"},se=["onClick","target"],ae={class:"app-container"},ie={class:"menu-container"},_=20,re=.2,I="SPECIAL",ue={__name:"MyCornerOfTheInternet",setup(ce){const w={sounds:{},audioContext:null,isAudioContextStarted:!1,soundConfig:{helloSound:"../assets/audio/magic_sound_short.mp3"},async init(){try{this.initAudioContext(),await Promise.all(Object.entries(this.soundConfig).map(([t,e])=>this.loadSound(t,e,7,1))),console.log("AudioManager initialized")}catch(t){console.error("AudioManager init failed:",t)}},initAudioContext(){this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext))},async loadSound(t,e,n=7,o=1){try{const s=new URL(e,le.url).href,u=await(await fetch(s)).arrayBuffer(),y=await this.audioContext.decodeAudioData(u);this.sounds[t]={buffer:y,volume:Math.min(Math.max(n,0),10),loopDuration:Math.max(o,1),source:null}}catch(s){console.error(`Failed to load sound "${t}":`,s)}},playSound(t){if(!this.sounds[t]){console.warn(`Sound "${t}" not loaded`);return}try{if(this.initAudioContext(),this.audioContext.state==="suspended"){this.audioContext.resume().then(()=>{this._playSound(t)});return}this._playSound(t)}catch(e){console.error(`Error playing sound "${t}":`,e)}},_playSound(t){const e=this.sounds[t];e.source&&e.source.stop(),e.source=this.audioContext.createBufferSource(),e.source.buffer=e.buffer;const n=this.audioContext.createGain();n.gain.value=e.volume/10,e.source.connect(n),n.connect(this.audioContext.destination),e.loopDuration>1&&(e.source.loop=!0,e.source.loopEnd=e.buffer.duration*e.loopDuration,e.source.stop(this.audioContext.currentTime+e.buffer.duration*e.loopDuration)),e.source.start(0),e.source.onended=()=>e.source=null}},P=V(),a=g(null),c=g(!1),l=g(null),W=g([{title:"About Me :",subItems:[{name:"Portfolio",url:""},{name:"YouTube",url:""},{name:"VK",url:""},{name:"TikTok",url:""},{name:"Instagram",url:""},{name:"Facebook",url:""},{name:"Telegram",url:""},{name:"contacts \u261D",url:""}]},{title:"My Projects :",subItems:[{name:"Travel",url:""},{name:"Study",url:""},{name:"Enjoy",url:""},{name:"Business",url:""},{name:"English",url:""}]},{title:"My games:",subItems:[{name:"Tap-clicker",url:""},{name:"Skeleton 3D",url:"https://vismyfriend.itch.io/clicker-test"},{name:"Platformer 2D",url:""}]},{title:"English:",subItems:[{name:"TOEFL",url:""},{name:"IELTS",url:""},{name:"Books",url:""},{name:"C2",url:""},{name:"C1",url:""},{name:"B2",url:""},{name:"B1",url:""},{name:"A2",url:""},{name:"A1",url:""}]},{title:"S.P.E.C.I.A.L",subItems:[{name:"App",url:"/"},{name:"Website",url:"/games"}]}]),Y=()=>{w.playSound("helloSound"),c.value=!c.value,c.value||(l.value=null)},F=t=>{window.innerWidth<769&&(l.value=l.value===t?null:t)},O=t=>{window.innerWidth>=769&&c.value&&(l.value=t)},X=t=>{window.innerWidth>=769&&setTimeout(()=>{l.value===t&&(l.value=null)},200)},C=()=>{c.value=!1,l.value=null},z=(t,e)=>{C();try{typeof e=="object"&&e.url&&(e.url.startsWith("http")?window.open(e.url,"_blank"):P.push(e.url))}catch(n){console.error("Navigation failed:",n)}},$=()=>window.innerWidth<768?3:5;let M,f=[],d=0,h=0;class j{constructor(e,n,o){this.x=e,this.y=n,this.origX=e,this.origY=n,this.color=o,this.size=1.5,this.vx=Math.random()*4-2,this.vy=Math.random()*4-2,this.isBroken=!1}update(){this.x+=this.vx,this.y+=this.vy;const e=this.x-d,n=this.y-(h+270);Math.sqrt(e*e+n*n)<_&&(this.isBroken=!0);const s=this.isBroken?.01:re;this.x+=(this.origX-this.x)*s,this.y+=(this.origY-this.y)*s,this.isBroken&&Math.abs(this.x-this.origX)<1&&Math.abs(this.y-this.origY)<1&&(this.isBroken=!1)}draw(){const e=a.value.getContext("2d");e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,this.size,0,Math.PI*2),e.closePath(),e.fill()}}const p=()=>{!a.value||(a.value.width=window.innerWidth,a.value.height=window.innerHeight)},k=()=>{const t=a.value.getContext("2d");f=[];const e=Math.min(window.innerWidth*.2,200),n=$();t.font=`${e}px Outfit`,t.fillStyle="rgba(255, 255, 255, 0.8)",t.textAlign="center",t.textBaseline="middle",t.fillText(I,a.value.width/2,a.value.height/2);const o=t.measureText(I).width,s=t.getImageData(a.value.width/2-o/2,a.value.height/2-e/2,o,e);t.clearRect(0,0,a.value.width,a.value.height);for(let r=0;r<s.height;r+=n)for(let u=0;u<s.width;u+=n){const y=(u+r*s.width)*4;if(s.data[y+3]>128){const N=u+a.value.width/2-o/2,R=r+a.value.height/2-e/2;f.push(new j(N,R,"rgba(255, 255, 255, 0.8)"))}}},b=()=>{if(!a.value)return;a.value.getContext("2d").clearRect(0,0,a.value.width,a.value.height),f.forEach(e=>{e.update(),e.draw()}),M=requestAnimationFrame(b)},E=t=>{d=t.clientX,h=t.clientY},S=t=>{if(t.touches&&t.touches[0]){const e=t.touches[0].clientX,n=t.touches[0].clientY+270;d=e,h=n,f.forEach(o=>{const s=o.x-d,r=o.y-h;Math.sqrt(s*s+r*r)<_&&(o.isBroken=!0,o.vx=Math.random()*4-2,o.vy=Math.random()*4-2)})}},T=t=>{t.touches&&t.touches[0]&&(d=t.touches[0].clientX,h=t.touches[0].clientY+270,f.forEach(e=>{const n=e.x-d,o=e.y-h;Math.sqrt(n*n+o*o)<_&&(e.isBroken=!0,e.vx=Math.random()*4-2,e.vy=Math.random()*4-2)}))},q=()=>{cancelAnimationFrame(M),window.removeEventListener("mousemove",E),window.removeEventListener("resize",p),window.removeEventListener("touchmove",S),window.removeEventListener("touchstart",T)};return H(()=>{q()}),U(async()=>{await w.init();const t=()=>{var e;((e=w.audioContext)==null?void 0:e.state)==="suspended"&&w.audioContext.resume()};document.addEventListener("click",t,{once:!0}),document.addEventListener("touchstart",t,{once:!0}),p(),await document.fonts.ready,k(),b(),window.addEventListener("mousemove",E),window.addEventListener("resize",()=>{p(),setTimeout(k,100)}),window.addEventListener("touchmove",S),window.addEventListener("touchstart",T)}),(t,e)=>(v(),m("div",ee,[i("canvas",{ref_key:"canvas",ref:a,class:"particles-canvas"},null,512),i("nav",{class:L(["main-menu",{active:c.value}])},[i("ul",null,[(v(!0),m(A,null,B(W.value,(n,o)=>(v(),m("li",{key:o,onMouseenter:s=>O(o),onMouseleave:s=>X(o)},[i("a",{href:"#",onClick:D(s=>F(o),["prevent"])},x(n.title),9,ne),G(Q,{name:"fade"},{default:K(()=>[l.value===o?(v(),m("ul",oe,[(v(!0),m(A,null,B(n.subItems,(s,r)=>{var u;return v(),m("li",{key:r},[i("a",{href:"#",onClick:D(y=>z(n.title,s),["prevent"]),target:(u=s.url)!=null&&u.startsWith("http")?"_blank":""},x(s.name||s),9,se)])}),128))])):J("",!0)]),_:2},1024)],40,te))),128))])],2),i("div",{class:L(["menu-overlay",{active:c.value&&l.value!==null}]),onClick:C},null,2),i("div",ae,[i("div",ie,[e[0]||(e[0]=i("button",{class:"fancy-btn"},"Welcome",-1)),e[1]||(e[1]=i("button",{class:"fancy-btn"},"\u041F\u0440\u0438\u0432\u0435\u0442",-1)),i("button",{class:"fancy-btn",onClick:Y},[i("span",null,x(c.value?"Ok":"Hello"),1)])])])]))}};var me=Z(ue,[["__scopeId","data-v-2abb8018"]]);export{me as default};
