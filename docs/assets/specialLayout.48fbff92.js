import{b as d,d as P,i as R,o as r,f as i,h as s,t as p,k as z,F as q,q as Q,n as Y,l as y,u as Z,p as ee,r as te,x as se,a as u,w as G,Q as $,c as ae,y as S,z as oe}from"./index.1bb45944.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";const ne={class:"legendary-mode-content"},le={class:"streak-info"},re={class:"current-streak"},ie={class:"streak-number"},ce={class:"streak-description"},ue={class:"calendar-container"},de={class:"calendar-header"},ve={class:"calendar-grid"},pe={class:"calendar-days-header"},me={class:"calendar-days"},ye={key:0},ge={key:1,class:"fire-icon"},_e={class:"motivational-text"},fe={key:0,class:"dev-controls"},he={__name:"LegendaryMode",props:{currentDays:{type:Number,default:1}},emits:["update-days"],setup(B,{emit:_}){const D=()=>{const e=new Date;e.setHours(0,0,0,0);const t=new Date(n.value||e);t.setDate(t.getDate()+1),n.value=t,m(o.value+1),l.value.push(t.toISOString())},I=()=>{const e=new Date;e.setHours(0,0,0,0),n.value=e,m(1),l.value=[e.toISOString()],m(1)},k=()=>{const e=new Date,t=e.getMonth(),a=new Date(g,t,1),b=new Date(g,t+1,0);let A=a.getDay();A===0&&(A=7);const E=[];for(let v=1;v<A;v++)E.push({date:null,isActive:!1,isToday:!1,isFuture:!1});for(let v=1;v<=b.getDate();v++){const U=new Date(g,t,v),W=v===e.getDate(),j=U>e,K=l.value.some(X=>{const H=new Date(X);return H.getDate()===v&&H.getMonth()===t&&H.getFullYear()===g});E.push({date:v,isActive:K,isToday:W,isFuture:j})}return E},f=()=>{const e=new Date;e.setHours(0,0,0,0);const t=new Date(n.value||e);t.setDate(t.getDate()+1),n.value=t,m(1),l.value.push(e.toISOString()),alert(`\u041F\u0440\u043E\u043F\u0443\u0449\u0435\u043D \u0434\u0435\u043D\u044C! \u0421\u0447\u0435\u0442\u0447\u0438\u043A \u0441\u0431\u0440\u043E\u0448\u0435\u043D. \u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u043F\u043E\u0441\u0435\u0449\u0435\u043D\u0438\u0435: ${t.toLocaleDateString()}`)},L=B,h=_,o=d(L.currentDays),n=d(null),l=d([]),g=new Date().getFullYear(),V=["\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431","\u0412\u0441"],m=e=>{o.value=e,h("update-days",e),x()};P(()=>{w(),C()});const C=()=>{const e=new Date;if(e.setHours(0,0,0,0),!n.value){N(e);return}const t=new Date(n.value);t.setHours(0,0,0,0);const a=Math.floor((e-t)/864e5);a!==0&&(a===1?(m(o.value+1),l.value.push(e.toISOString()),n.value=e):a>1&&(m(1),l.value.push(e.toISOString()),n.value=e))},w=()=>{try{const e=localStorage.getItem("legendaryStreak"),t=localStorage.getItem("lastVisitDate"),a=localStorage.getItem("visitDates");e&&(o.value=parseInt(e)||1),t&&(n.value=new Date(t)),a&&(l.value=JSON.parse(a)),console.log("Data loaded from localStorage:",{streak:o.value,lastVisit:n.value,visits:l.value.length})}catch(e){console.error("Error loading legendary data:",e),o.value=1,n.value=new Date,l.value=[new Date().toISOString()]}},x=()=>{try{localStorage.setItem("legendaryStreak",o.value.toString()),localStorage.setItem("lastVisitDate",new Date().toISOString()),localStorage.setItem("visitDates",JSON.stringify(l.value)),console.log("Data saved to localStorage")}catch(e){console.error("Error saving legendary data:",e)}},N=e=>{console.log("First visit detected"),n.value=e,o.value=1,l.value=[e.toISOString()],x()},M=()=>o.value===1?"\u041D\u0430\u0447\u043D\u0438 \u0441\u0432\u043E\u0439 \u043B\u0435\u0433\u0435\u043D\u0434\u0430\u0440\u043D\u044B\u0439 \u043F\u0443\u0442\u044C!":o.value<7?"\u041E\u0442\u043B\u0438\u0447\u043D\u043E\u0435 \u043D\u0430\u0447\u0430\u043B\u043E! \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0439 \u0432 \u0442\u043E\u043C \u0436\u0435 \u0434\u0443\u0445\u0435!":o.value<30?"\u041D\u0435\u0434\u0435\u043B\u044F \u0437\u0430 \u043D\u0435\u0434\u0435\u043B\u0435\u0439 - \u0442\u044B \u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0448\u044C\u0441\u044F \u0441\u0438\u043B\u044C\u043D\u0435\u0435!":o.value<100?"\u041C\u0435\u0441\u044F\u0446 \u0437\u0430 \u043C\u0435\u0441\u044F\u0446\u0435\u043C - \u0442\u044B \u043D\u0430\u0441\u0442\u043E\u044F\u0449\u0438\u0439 \u0433\u0435\u0440\u043E\u0439!":"\u0422\u044B \u043B\u0435\u0433\u0435\u043D\u0434\u0430! \u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0439 \u0441\u0432\u043E\u0439 \u043F\u0443\u0442\u044C!",F=()=>{const e=["\u041A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C - \u044D\u0442\u043E \u0448\u0430\u0433 \u043A \u0441\u043E\u0432\u0435\u0440\u0448\u0435\u043D\u0441\u0442\u0432\u0443!","\u0421\u0438\u0441\u0442\u0435\u043C\u0430\u0442\u0438\u0447\u043D\u043E\u0441\u0442\u044C - \u043A\u043B\u044E\u0447 \u043A \u0443\u0441\u043F\u0435\u0445\u0443!","\u0422\u044B \u0434\u0435\u043B\u0430\u0435\u0448\u044C \u044D\u0442\u043E \u043A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C - \u0442\u044B \u043C\u043E\u043B\u043E\u0434\u0435\u0446!","\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0439 \u0432 \u0442\u043E\u043C \u0436\u0435 \u0434\u0443\u0445\u0435!","\u0422\u044B \u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0448\u044C\u0441\u044F \u043B\u0443\u0447\u0448\u0435 \u0441 \u043A\u0430\u0436\u0434\u044B\u043C \u0434\u043D\u0435\u043C!"];return e[Math.floor(Math.random()*e.length)]},O=()=>["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"][new Date().getMonth()],T=R(k);return(e,t)=>(r(),i("div",ne,[t[1]||(t[1]=s("div",{class:"modal-header"},[s("h2",null,"\u{1F525} Legendary Mode")],-1)),s("div",le,[s("div",re,[s("span",ie,p(o.value),1),t[0]||(t[0]=s("span",{class:"streak-text"},"\u0434\u043D\u0435\u0439 \u043F\u043E\u0434\u0440\u044F\u0434",-1))]),s("p",ce,p(M()),1)]),s("div",ue,[s("div",de,[s("h3",null,p(O())+" "+p(z(g)),1)]),s("div",ve,[s("div",pe,[(r(),i(q,null,Q(V,a=>s("div",{key:a,class:"day-header"},p(a),1)),64))]),s("div",me,[(r(!0),i(q,null,Q(T.value,a=>(r(),i("div",{key:a.date,class:Y(["calendar-day",{empty:!a.date,active:a.isActive,today:a.isToday,future:a.isFuture}])},[a.date?(r(),i("span",ye,p(a.date),1)):y("",!0),a.isActive?(r(),i("span",ge,"\u{1F525}")):y("",!0)],2))),128))])])]),s("div",_e,[s("p",null,p(F()),1)]),z(!1)?(r(),i("div",fe,[s("button",{onClick:D,class:"dev-button"},"[DEV] +1 \u0434\u0435\u043D\u044C"),s("button",{onClick:f,class:"dev-button"},"[DEV] \u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u0434\u0435\u043D\u044C"),s("button",{onClick:I,class:"dev-button"},"[DEV] \u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C")])):y("",!0)]))}};var De=J(he,[["__scopeId","data-v-66920f3d"]]);const ke={key:0,class:"overlay"},we={class:"top-menu-bar"},be={class:"legendary-visual"},Se={class:"days-counter"},Ie={class:"collapse-button"},Ce={class:"legendary-modal-content"},xe={key:2,class:"modal-overlay"},Me={class:"modal-content"},$e=["innerHTML"],Le={class:"instructions"},Ve={class:"star-icons"},Ne={__name:"specialLayout",setup(B){const _=Z(),c=ee(),D=d(!1),I=d(""),k=d(!1),f=d(!1),L=d(!0),h=d(1),o=e=>{h.value=e},n=()=>{m(`
    <div style="text-align: center;">
      <p>\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435 \u043F\u0440\u043E <br>S.P.E.C.I.A.L.<br>\u0438 vismyfriend</p>

      <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">


        <!-- \u041A\u043D\u043E\u043F\u043A\u0430 "\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F" (\u0432\u043D\u0443\u0442\u0440\u0435\u043D\u043D\u0438\u0439 \u043F\u0435\u0440\u0435\u0445\u043E\u0434) -->
        <button onclick="window.__router.push('/v-is-my-friend/'); window.__modal.close()"
           style="padding: 8px 16px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer;">
          Vismyfriend
        </button>

        <!-- \u041A\u043D\u043E\u043F\u043A\u0430 "\u041E\u0431 \u0430\u0432\u0442\u043E\u0440\u0430\u0445" (\u0432\u043D\u0435\u0448\u043D\u044F\u044F \u0441\u0441\u044B\u043B\u043A\u0430) -->
<!--        <a href="https://vismyfriend.itch.io/clicker-test"-->
<!--           target="_blank"-->
<!--           style="padding: 8px 16px; background: #4CAF50; color: white; border-radius: 4px; text-decoration: none;">-->
<!--          Who is Vincent?-->
<!--        </a>-->

        <button onclick="window.__router.push('/landing/'); window.__modal.close()"
           style="padding: 8px 16px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer;">
          my site
        </button>
      </div>
    </div>
  `)},l=()=>{c.go(0)},g=()=>{c.push("/see-all-sets-of-words/")},V=()=>{_.params.missionName?c.push(`/see-all-sets-of-words/${_.params.missionName}`):c.push("/see-all-sets-of-words/")},m=e=>{I.value=e,D.value=!0},C=()=>{D.value=!1},w=d(!1),x=()=>{M.value?c.push(`/see-all-sets-of-words/${_.params.missionName}`):(console.error("missionName is undefined"),c.push("/see-all-sets-of-words/"))},N=()=>{c.push("/see-all-sets-of-words/")},M=R(()=>!!_.params.missionName),F=()=>{c.push("/")},O=()=>{w.value=!0},T=()=>{w.value=!1};return P(()=>{const e=localStorage.getItem("legendaryStreak");e&&(h.value=parseInt(e)||1),setTimeout(()=>{k.value=!0},1e4),window.__router=c,window.__modal={close:C}}),(e,t)=>{const a=te("router-view");return r(),i("div",null,[L.value?(r(),i("div",ke)):y("",!0),s("div",{class:Y(["top-menu-wrapper",{collapsed:k.value}])},[s("div",we,[s("button",{class:"menu-button",onClick:n},"\u2699\uFE0F"),s("button",{class:"menu-button",onClick:V},"\u0417\u0430\u0434\u0430\u043D\u0438\u044F"),s("button",{class:"menu-button",onClick:l},"\u0417\u0430\u043D\u043E\u0432\u043E"),s("button",{class:"menu-button",onClick:g},"\u0414\u0440\u0443\u0433\u043E\u0439 \u043D\u0430\u0431\u043E\u0440"),s("button",{class:"menu-button legendary-button",onClick:t[0]||(t[0]=b=>f.value=!0)},[s("span",be,[t[4]||(t[4]=s("span",{class:"flame"},"\u{1F525}",-1)),s("span",Se,p(h.value),1)])]),s("button",Ie,p(k.value?"s.p.e.c.i.a.l.":"..."),1)])],2),f.value?(r(),i("div",{key:1,class:"legendary-modal-overlay",onClick:t[2]||(t[2]=se(b=>f.value=!1,["self"]))},[s("div",Ce,[u(De,{"current-days":h.value,onUpdateDays:o},null,8,["current-days"]),s("button",{onClick:t[1]||(t[1]=b=>f.value=!1),class:"close-legendary-modal"},"\u0417\u0430\u043A\u0440\u044B\u0442\u044C")])])):y("",!0),D.value?(r(),i("div",xe,[s("div",Me,[s("p",{innerHTML:I.value},null,8,$e),s("button",{onClick:C},"\u0437\u0430\u043A\u0440\u044B\u0442\u044C")])])):y("",!0),u(a),s("button",{class:"infoButton",onClick:O}),w.value?(r(),i("div",{key:3,class:"overlay",onClick:T},[s("div",Le,[t[6]||(t[6]=s("h3",null,"what do u wanna do?",-1)),u($,{class:"q-mb-sm zoomIn",label:"\u041F\u043E\u043F\u0440\u043E\u0431\u043E\u0432\u0430\u0442\u044C \u0435\u0449\u0451 \u0440\u0430\u0437\xA0\xA0",push:"",color:"green",onClick:t[3]||(t[3]=b=>e.$router.go(0))},{default:G(()=>[s("span",Ve,[u(S,{name:"star",color:"yellow"}),u(S,{name:"star",color:"yellow"}),u(S,{name:"star",color:"yellow"}),u(S,{name:"star",color:"yellow"}),u(S,{name:"star",color:"yellow"})])]),_:1}),u($,{class:"q-mb-sm zoomIn",icon:"search",label:"\u0414\u0440\u0443\u0433\u043E\u0439 \u043D\u0430\u0431\u043E\u0440 \u0441\u043B\u043E\u0432",push:"",color:"primary",onClick:N}),u($,{class:"q-mb-sm zoomIn",icon:"fingerprint",label:"QUIT S.P.E.C.I.A.L App",stack:"",glossy:"",color:"purple",onClick:F}),M.value?(r(),ae($,{key:0,push:"",color:"brown-5",onClick:x,label:"\u042D\u0442\u043E\u0442 \u0436\u0435 \u043D\u0430\u0431\u043E\u0440, \u0434\u0440\u0443\u0433\u043E\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435"},{default:G(()=>t[5]||(t[5]=[oe(" \u{1F50E} ")])),_:1})):y("",!0)])])):y("",!0)])}}};var Te=J(Ne,[["__scopeId","data-v-3de6b6b3"]]);export{Te as default};
