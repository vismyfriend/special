import{r as o,o as A,G as z,b as d,c,e,y as E,t as i,u as se,j as k,w as H,H as U,i as re,h as ue,F as ve}from"./index.95f44527.js";import{q as de}from"./questions-data.e4548d5f.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";const ce={class:"tilt-debugger"},pe={__name:"TiltDebugger",setup(Z){const T=o(0),x=o(0),p=o(0),u=s=>{var t,r,m;T.value=(t=s.alpha)!=null?t:0,x.value=(r=s.beta)!=null?r:0,p.value=(m=s.gamma)!=null?m:0};return A(()=>{window.addEventListener("deviceorientation",u)}),z(()=>{window.removeEventListener("deviceorientation",u)}),(s,t)=>(d(),c("div",ce,[t[3]||(t[3]=e("h4",null,"\u{1F4D0} \u041D\u0430\u043A\u043B\u043E\u043D\u044B \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430:",-1)),e("div",null,[t[0]||(t[0]=e("strong",null,"Alpha (\u043E\u0441\u0438 Z):",-1)),E(" "+i(T.value.toFixed(1))+"\xB0",1)]),e("div",null,[t[1]||(t[1]=e("strong",null,"Beta (\u043D\u0430\u043A\u043B\u043E\u043D \u043D\u0430 \u0441\u0435\u0431\u044F / \u043E\u0442 \u0441\u0435\u0431\u044F):",-1)),E(" "+i(x.value.toFixed(1))+"\xB0",1)]),e("div",null,[t[2]||(t[2]=e("strong",null,"Gamma (\u0432\u043B\u0435\u0432\u043E / \u0432\u043F\u0440\u0430\u0432\u043E):",-1)),E(" "+i(p.value.toFixed(1))+"\xB0",1)])]))}};var me=K(pe,[["__scopeId","data-v-71e860ce"]]);const fe={key:0,class:"modal-overlay"},ge={key:1,class:"game-container"},we={key:0,class:"modal-overlay"},_e={class:"modal-content"},be={key:1,class:"modal-overlay"},ke={class:"modal-content"},Ee={class:"word"},Te={class:"translation"},xe={class:"counter-row"},Le={__name:"GameExplainTheWord",setup(Z){const T=se(),x=/iPhone|iPad|iPod/i.test(navigator.userAgent),p=o([]),u=o([]),s=o([]),t=o({}),r=o(!1),m=o(!0),M=o(!1),L=o(""),f=o(0),h=o(!1),y=o(null),N=o(0),S=o(0),j=o("portrait"),D=()=>{j.value=window.innerWidth>window.innerHeight?"landscape":"portrait"},g=o(!1),w=o("on"),J=()=>{r.value=!1},_=a=>{L.value=`${a}

Next: ${N.value} \u0440\u0430\u0437
Skip: ${S.value} \u0440\u0430\u0437`,r.value=!0},$=()=>{N.value+=1,I()},Q=()=>{S.value+=1,I()},B=()=>{ee()},X=()=>{const a=t.value.ru;t.value.ru=t.value.eng,t.value.eng=a},Y=a=>a.sort(()=>Math.random()-.5),I=()=>{if(u.value.length===0){_("\u{1F389} \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430!");return}t.value&&!t.value.isIntro&&s.value.push(t.value),t.value=u.value.pop()},ee=()=>{s.value.length!==0&&(t.value&&u.value.push(t.value),t.value=s.value.pop())},te=()=>{if(h.value){clearInterval(y.value),f.value=0,h.value=!1;return}I(),f.value=10,h.value=!0,y.value=setInterval(()=>{f.value-=1,f.value<=0&&(clearInterval(y.value),h.value=!1,_("\u23F0 \u0412\u0440\u0435\u043C\u044F \u0432\u044B\u0448\u043B\u043E!"))},1e3)};let O=0,P=!0,W=!0;const b=a=>{if(w.value!=="on")return;const{beta:n,gamma:l}=a,C=Date.now(),R=30,V=-30,q=25,F=800,G=Math.abs(l)>60&&l<0,le=Math.abs(l)>60&&l>0,ie=!G&&!le;let v;ie?v=n:G?v=-l:v=l,v>R&&P&&C-O>F&&(navigator.vibrate&&navigator.vibrate(30),$(),O=C,P=!1),v<V&&W&&C-O>F&&(navigator.vibrate&&navigator.vibrate(30),B(),O=C,W=!1),v>V+q&&v<R-q&&(P=!0,W=!0)},ne=()=>{window.DeviceOrientationEvent?typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(a=>{a==="granted"&&(window.addEventListener("deviceorientation",b),g.value=!0,_("\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430\u043A\u043B\u043E\u043D\u0430\u043C\u0438 \u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D\u043E!"))}).catch(a=>{console.error("Permission denied:",a),_("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u0434\u0430\u0442\u0447\u0438\u043A\u0430\u043C")}):(window.addEventListener("deviceorientation",b),g.value=!0):_("\u0412\u0430\u0448\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430\u043A\u043B\u043E\u043D\u0430\u043C\u0438")},oe=()=>{m.value=!1},ae=async()=>{if(m.value=!1,D(),window.DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"&&(window.addEventListener("deviceorientation",b),g.value=!0,L.value=`\u2705 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,r.value=!0)}catch(a){console.warn("Permission denied",a)}else window.addEventListener("deviceorientation",b),g.value=!0,L.value=`\u2705 \u041D\u0430\u043A\u043B\u043E\u043D\u044B \u0432\u043A\u043B\u044E\u0447\u0435\u043D\u044B!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,r.value=!0};return A(()=>{const a=T.params.missionName;p.value=de[a]||[],u.value=Y([...p.value]),t.value={ru:"\u041E\u0431\u044A\u044F\u0441\u043D\u0438 \u044D\u0442\u043E \u043C\u043D\u0435",eng:"Explain it to me",isIntro:!0},D(),window.addEventListener("resize",D)}),z(()=>{clearInterval(y.value),window.removeEventListener("deviceorientation",b),window.removeEventListener("resize",D)}),(a,n)=>(d(),c(ve,null,[m.value?(d(),c("div",fe,[e("div",{class:"modal-content"},[n[4]||(n[4]=e("p",null,"\u0412\u044B \u0438\u0433\u0440\u0430\u0435\u0442\u0435 \u0441 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u0438\u043B\u0438 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430?",-1)),e("button",{onClick:ae},"\u{1F4F1} \u0421 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E"),e("button",{onClick:oe},"\u{1F4BB} \u0421 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430")])])):k("",!0),p.value.length?(d(),c("div",ge,[e("button",{onClick:n[0]||(n[0]=l=>M.value=!0)},"\u2699"),M.value?(d(),c("div",we,[e("div",_e,[n[7]||(n[7]=e("p",null,"\u0420\u0435\u0436\u0438\u043C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043D\u0430\u043A\u043B\u043E\u043D\u0430\u043C\u0438:",-1)),e("label",null,[H(e("input",{type:"radio",value:"off","onUpdate:modelValue":n[1]||(n[1]=l=>w.value=l)},null,512),[[U,w.value]]),n[5]||(n[5]=E(" \u{1F515} \u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),n[8]||(n[8]=e("br",null,null,-1)),e("label",null,[H(e("input",{type:"radio",value:"on","onUpdate:modelValue":n[2]||(n[2]=l=>w.value=l)},null,512),[[U,w.value]]),n[6]||(n[6]=E(" \u{1F4F2} \u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),n[9]||(n[9]=e("br",null,null,-1)),e("button",{onClick:n[3]||(n[3]=l=>M.value=!1)},"OK")])])):k("",!0),r.value?(d(),c("div",be,[e("div",ke,[e("p",null,i(L.value),1),e("button",{onClick:J},"OK")])])):k("",!0),e("div",{class:"word-card",onClick:X},[e("div",Ee,i(t.value.eng),1),e("div",Te,i(t.value.ru),1)]),e("div",{class:"timer",onClick:te},i(f.value>0?`${f.value} \u0441\u0435\u043A`:"\u0421\u0442\u0430\u0440\u0442"),1),e("div",{class:"button-row"},[e("button",{onClick:B},"\u2190 Back"),e("button",{onClick:$},"\u2192 Next"),e("button",{onClick:Q},"\u23ED Skip")]),e("div",xe,[e("span",null,"Next: "+i(N.value),1),e("span",null,"Skip: "+i(S.value),1)]),!g.value&&re(x)?(d(),c("button",{key:2,onClick:ne}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043D\u0430\u043A\u043B\u043E\u043D\u044B ")):k("",!0)])):k("",!0),ue(me)],64))}};var Oe=K(Le,[["__scopeId","data-v-bcdd692c"]]);export{Oe as default};
