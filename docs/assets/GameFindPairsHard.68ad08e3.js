import{h as R,n as $,r as i,p as z,o as V,b as o,c as r,d as s,y as X,F as p,l as y,t as n,f as G,x as C}from"./index.afe69ef5.js";import{s as j}from"./short-words-data.515e1299.js";import{a as q}from"./index.d0a97145.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";const K={class:"progress-container"},O={key:0,class:"row"},Q={class:"col"},U=["onClick"],Y={class:"col"},Z=["onClick"],W={key:0,class:"result"},ee={class:"leaderboard"},ae={class:C("highlight-row")},se={__name:"GameFindPairsHard",setup(le){R();const T=$(),w=l=>l.sort(()=>Math.random()-.5),x=i(),m=i(),u=i([]),v=i([]),_=i(!1),E=i(0),F=i(0),b=[{name:"\u0410\u0433\u0435\u043D\u0442 A",time:"1 min 30 sec"},{name:"\u0410\u0433\u0435\u043D\u0442 B",time:"2:15:187"},{name:"\u0410\u0433\u0435\u043D\u0442 C",time:"3 \u043C\u0438\u043D 5 \u0441\u0435\u043A"},{name:"\u0410\u0433\u0435\u043D\u0442 D",time:"3 \u043C\u0438\u043D 50 \u0441\u0435\u043A"},{name:"\u0410\u0433\u0435\u043D\u0442 E",time:"6 \u043C\u0438\u043D 0 \u0441\u0435\u043A",mistakes:"20"},{name:"\u0410\u0433\u0435\u043D\u0442 F",time:"7 \u043C\u0438\u043D 20 \u0441\u0435\u043A"},{name:"\u0410\u0433\u0435\u043D\u0442 G",time:"10 \u0447\u0430\u0441\u043E\u0432"}],f=i(b),c=i({minutes:0,seconds:0,milliseconds:0}),g=i(0),P=i(5),A=i(0),B=i(20),D=z(()=>`${A.value/B.value*100}%`),I=async()=>{try{const l=await q.scores.get();Array.isArray(l.data)?f.value=l.data:(console.warn("\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u043D\u0435 \u044F\u0432\u043B\u044F\u044E\u0442\u0441\u044F \u043C\u0430\u0441\u0441\u0438\u0432\u043E\u043C! \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E \u0437\u0430\u043F\u0430\u0441\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",l.data),f.value=b)}catch(l){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0442\u0430\u0431\u043B\u0438\u0446\u044B \u043F\u043E\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u0435\u0439, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E \u0437\u0430\u043F\u0430\u0441\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435",l),f.value=b}},S=(l,e)=>w(l).slice(0,e),h=l=>{var a;let e=(a=m.value)==null?void 0:a.map(t=>({id:t.id,lang:t[l],active:!1,visible:!0}));return e=e.slice(g.value,P.value),w(e)},k=l=>{switch(l){case"left":u.value.forEach(e=>e.active=!1);break;case"right":v.value.forEach(e=>e.active=!1);break;default:u.value.forEach(e=>e.active=!1),v.value.forEach(e=>e.active=!1);break}},M=(l,e)=>{let a,t;if(e==="left"){if(k(e),a=u.value.find(d=>d.id===l),a.active=!0,t=v.value.find(d=>d.active),!t)return}else if(k(e),t=v.value.find(d=>d.id===l),t.active=!0,a=u.value.find(d=>d.active),!a)return;a.id===t.id&&H(t,a),k()},H=(l,e)=>{l.visible=!1,e.visible=!1,A.value++,u.value.every(t=>t.visible===!1)&&(P.value+=5,g.value+=5,g.value<m.value.length?(v.value=h("ru"),u.value=h("eng")):L())},L=()=>{_.value||(_.value=!0,F.value=performance.now(),N())},N=()=>{const l=F.value-E.value;c.value.minutes=Math.floor(l/6e4),c.value.seconds=Math.floor(l%6e4/1e3),c.value.milliseconds=(l%1e3).toFixed(0).replace(".","")};return V(()=>{x.value=T.params.missionName,m.value=j[x.value],m.value=S(m.value,20),v.value=h("ru"),u.value=h("eng"),E.value=performance.now(),I()}),(l,e)=>(o(),r(p,null,[s("div",K,[s("div",{class:"progress-bar",style:X({width:D.value})},null,4)]),m.value?(o(),r("div",O,[s("div",Q,[(o(!0),r(p,null,y(u.value,a=>(o(),r("div",{class:C(["flex direction-column wordCard",[a.active?"active":"",a.visible?"":"invisible"]]),key:a.id,onClick:t=>M(a.id,"left")},n(a.lang),11,U))),128))]),s("div",Y,[(o(!0),r(p,null,y(v.value,a=>(o(),r("div",{class:C(["flex direction-column wordCard",[a.active?"active":"",a.visible?"":"invisible"]]),key:a.id,onClick:t=>M(a.id,"right")},n(a.lang),11,Z))),128))]),_.value?(o(),r("div",W,[e[5]||(e[5]=s("p",null,"\u041F\u043E\u0437\u0434\u0440\u0430\u0432\u043B\u044F\u0435\u043C! \u0410\u0433\u0435\u043D\u0442 X \u043D\u0430\u0448\u0435\u043B \u0432\u0441\u0435 \u043F\u0430\u0440\u044B!",-1)),s("p",null,"\u0412\u0440\u0435\u043C\u044F \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F: "+n(c.value.minutes)+" min "+n(c.value.seconds)+" sec "+n(c.value.milliseconds)+" \u043C\u0438\u043B\u043B\u0438\u0441\u0435\u043A\u0443\u043D\u0434",1),s("div",ee,[e[4]||(e[4]=s("h3",null,"\u0422\u0430\u0431\u043B\u0438\u0446\u0430 SPECIAL :",-1)),s("table",null,[e[3]||(e[3]=s("thead",null,[s("tr",null,[s("th",null,"\u041C\u0435\u0441\u0442\u043E"),s("th",null,"\u0418\u0433\u0440\u043E\u043A"),s("th",null,"\u0412\u0440\u0435\u043C\u044F"),s("th",null,"\u041F\u0440\u043E\u043C\u0430\u0445\u0438")])],-1)),s("tbody",null,[(o(!0),r(p,null,y(f.value.slice(0,7),(a,t)=>(o(),r("tr",{key:t},[s("td",null,n(t+1),1),s("td",null,n(a.name),1),s("td",null,n(a.time),1),s("td",null,n(a.mistakes),1)]))),128)),s("tr",ae,[e[0]||(e[0]=s("td",null,"8",-1)),e[1]||(e[1]=s("td",null,"\u0412\u044B (\u0410\u0433\u0435\u043D\u0442 X)",-1)),s("td",null,n(c.value.minutes)+" min "+n(c.value.seconds)+" sec",1),e[2]||(e[2]=s("td",null,"0",-1))])])])])])):G("",!0)])):G("",!0)],64))}};var ue=J(se,[["__scopeId","data-v-2177feed"]]);export{ue as default};
