import{p as J,b as x,C as Q,d as Z,o as f,f as w,h as l,F as P,q as W,n as R,t as M,x as Y,a as ee,w as te,l as ne,ab as se}from"./index.6c6610dc.js";import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";const ve={};const oe={class:"background"},ie=["onMouseenter","onMouseleave"],le=["onClick"],re={key:0,class:"submenu"},ue=["onClick","target"],ce={class:"app-container"},de={class:"menu-container"},k=20,he=.2,D="Vismyfriend",me={__name:"MyCornerOfTheInternet",setup(fe){const F=()=>{const e=new URL("/special/assets/WithoutMeNoSpaces.cd9404c2.mp3",self.location).href,t=new Audio(e),n=.1;t.volume=Math.min(Math.max(n/10,0),1),t.play().catch(s=>{console.warn("Audio playback failed:",s)})},p={en:[{title:"About Me :",subItems:[{name:"Portfolio",url:""},{name:"YouTube",url:""},{name:"VK",url:""},{name:"TikTok",url:""},{name:"Instagram",url:""},{name:"Facebook",url:""},{name:"Telegram",url:""},{name:"contacts \u261D",url:""}]},{title:"My Projects :",subItems:[{name:"Travel",url:""},{name:"Study",url:""},{name:"Enjoy",url:""},{name:"Business",url:""},{name:"English",url:""}]},{title:"My games:",subItems:[{name:"Tap-clicker",url:""},{name:"Skeleton 3D",url:"https://vismyfriend.itch.io/clicker-test"},{name:"Guess the year",url:"https://www.chronophoto.app/game.html"},{name:"Platformer 2D",url:""}]},{title:"English:",subItems:[{name:"TOEFL",url:""},{name:"IELTS",url:""},{name:"Books",url:""},{name:"C2",url:""},{name:"C1",url:""},{name:"B2",url:""},{name:"B1",url:""},{name:"A2",url:""},{name:"A1",url:""}]},{title:"Links:",subItems:[{name:"Guess the year",url:"https://www.chronophoto.app/game.html"}]},{title:"S.P.E.C.I.A.L",subItems:[{name:"App",url:"/"},{name:"Website",url:"/games"}]}],ru:[{title:"\u041E\u0431\u043E \u043C\u043D\u0435 :",subItems:[{name:"\u041F\u043E\u0440\u0442\u0444\u043E\u043B\u0438\u043E",url:""},{name:"YouTube",url:""},{name:"VK",url:""},{name:"TikTok",url:""},{name:"Instagram",url:""},{name:"Facebook",url:""},{name:"Telegram",url:""},{name:"\u043A\u043E\u043D\u0442\u0430\u043A\u0442\u044B \u261D",url:""}]},{title:"\u041C\u043E\u0438 \u043F\u0440\u043E\u0435\u043A\u0442\u044B:",subItems:[{name:"\u041F\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044F",url:""},{name:"\u041E\u0431\u0443\u0447\u0435\u043D\u0438\u0435",url:""},{name:"\u0423\u0434\u043E\u0432\u043E\u043B\u044C\u0441\u0442\u0432\u0438\u044F",url:""},{name:"\u0411\u0438\u0437\u043D\u0435\u0441",url:""},{name:"\u0410\u043D\u0433\u043B\u0438\u0439\u0441\u043A\u0438\u0439",url:""}]},{title:"\u041C\u043E\u0438 \u0438\u0433\u0440\u044B:",subItems:[{name:"Tap-clicker",url:""},{name:"Skeleton 3D",url:"https://vismyfriend.itch.io/clicker-test"},{name:"Year guesser",url:"https://www.chronophoto.app/game.html"},{name:"Guess the year",url:"/yearGuesser"},{name:"Platformer 2D",url:""}]},{title:"\u0410\u043D\u0433\u043B\u0438\u0439\u0441\u043A\u0438\u0439:",subItems:[{name:"TOEFL",url:""},{name:"IELTS",url:""},{name:"Books",url:""},{name:"C2",url:""},{name:"C1",url:""},{name:"B2",url:""},{name:"B1",url:""},{name:"A2",url:""},{name:"A1",url:""}]},{title:"\u0421\u0441\u044B\u043B\u043A\u0438:",subItems:[{name:"Guess the year",url:"https://www.chronophoto.app/game.html"}]},{title:"S.P.E.C.I.A.L",subItems:[{name:"App",url:"/"},{name:"\u0421\u0430\u0439\u0442",url:"/games"}]}]},y={sounds:{},audioContext:null,activeLoops:new Set,isAudioAllowed:!1,activeSounds:new Map,soundConfig:{helloSound:new URL("/special/assets/magic_sound_short.bdf87c78.mp3",self.location).href,privetSound:new URL("/special/assets/trimmedStarsSound.3bf30995.mp3",self.location).href,withoutMe:new URL("/special/assets/WithoutMeNoSpaces.cd9404c2.mp3",self.location).href,starsMysterySound:new URL("/special/assets/trimmedStarsSound.3bf30995.mp3",self.location).href},async init(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.suspend(),await this.loadAllSounds(),console.log("AudioManager initialized (suspended)")}catch(e){console.error("AudioManager init failed:",e)}},async allowAudio(){var e;this.isAudioAllowed||(((e=this.audioContext)==null?void 0:e.state)==="suspended"&&await this.audioContext.resume(),this.isAudioAllowed=!0,console.log("Audio allowed after user interaction"))},async loadAllSounds(){await Promise.all(Object.keys(this.soundConfig).map(e=>this.loadSound(e,this.soundConfig[e])))},async loadSound(e,t){try{const n=new URL(t,ve.url).href,a=await(await fetch(n)).arrayBuffer(),i=await this.audioContext.decodeAudioData(a);this.sounds[e]={buffer:i,sources:new Set}}catch(n){console.error(`Failed to load sound "${e}":`,n)}},async playSound(e,t=7,n=1){if(await this.allowAudio(),!this.sounds[e]){console.warn(`Sound "${e}" not loaded`);return}if(this.activeSounds.has(e)){console.log(`Sound "${e}" is already playing`);return}this._playSound(e,t,n)},_playSound(e,t,n){const s=this.sounds[e],a=this.audioContext.createGain();a.gain.value=Math.min(Math.max(t,0),10)/10,a.connect(this.audioContext.destination);let i=0;const c=n,S=()=>{const h=this.audioContext.createBufferSource();h.buffer=s.buffer,h.connect(a),s.sources.add(h),this.activeSounds.set(e,h),h.onended=()=>{s.sources.delete(h),i++,i<c?S():this.activeSounds.delete(e)},h.start(0)};S()},stopSound(e){if(!this.sounds[e])return;const t=this.sounds[e];t.sources.forEach(n=>{try{n.stop()}catch(s){console.warn(`Error stopping sound "${e}":`,s)}}),t.sources.clear(),this.activeSounds.has(e)&&this.activeSounds.delete(e),this.activeLoops.delete(e)},stopAllSounds(){Object.keys(this.sounds).forEach(e=>{this.stopSound(e)}),this.activeLoops.clear()},isSoundPlaying(e){return this.activeSounds.has(e)}},O=J(),o=x(null),r=x(!1),u=x(null),d=x("en"),g=x(p.en),z=async()=>{try{await y.allowAudio(),await y.playSound("privetSound",5,1),r.value?d.value==="en"?(r.value=!1,u.value=null):(d.value="en",g.value=p.en):(d.value="en",g.value=p.en,r.value=!0)}catch(e){console.error("Error in toggleEnglish:",e)}},X=async()=>{try{await y.allowAudio(),await y.playSound("privetSound",5,1),r.value?d.value==="ru"?(r.value=!1,u.value=null):(d.value="ru",g.value=p.ru):(d.value="ru",g.value=p.ru,r.value=!0)}catch(e){console.error("Error in toggleRussian:",e)}},$=e=>{window.innerWidth<769&&(u.value=u.value===e?null:e)},U=e=>{window.innerWidth>=769&&r.value&&(u.value=e)},N=e=>{window.innerWidth>=769&&setTimeout(()=>{u.value===e&&(u.value=null)},200)},C=()=>{r.value=!1,u.value=null},G=(e,t)=>{C();try{typeof t=="object"&&t.url&&(t.url.startsWith("http")?window.open(t.url,"_blank"):O.push(t.url))}catch(n){console.error("Navigation failed:",n)}},V=()=>window.innerWidth<768?3:5;let A,_=[],m=0,v=0;class j{constructor(t,n,s){this.x=t,this.y=n,this.origX=t,this.origY=n,this.color=s,this.size=1.5,this.vx=Math.random()*4-2,this.vy=Math.random()*4-2,this.isBroken=!1}update(){this.x+=this.vx,this.y+=this.vy;const t=this.x-m,n=this.y-(v+270);Math.sqrt(t*t+n*n)<k&&(this.isBroken=!0);const a=this.isBroken?.01:he;this.x+=(this.origX-this.x)*a,this.y+=(this.origY-this.y)*a,this.isBroken&&Math.abs(this.x-this.origX)<1&&Math.abs(this.y-this.origY)<1&&(this.isBroken=!1)}draw(){const t=o.value.getContext("2d");t.fillStyle=this.color,t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.closePath(),t.fill()}}const b=()=>{!o.value||(o.value.width=window.innerWidth,o.value.height=window.innerHeight)},E=()=>{const e=o.value.getContext("2d");_=[];const t=Math.min(window.innerWidth*.2,200),n=V();e.font=`${t}px Outfit`,e.fillStyle="rgba(255, 255, 255, 0.8)",e.textAlign="center",e.textBaseline="middle",e.fillText(D,o.value.width/2,o.value.height/2);const s=e.measureText(D).width,a=e.getImageData(o.value.width/2-s/2,o.value.height/2-t/2,s,t);e.clearRect(0,0,o.value.width,o.value.height);for(let i=0;i<a.height;i+=n)for(let c=0;c<a.width;c+=n){const S=(c+i*a.width)*4;if(a.data[S+3]>128){const H=c+o.value.width/2-s/2,K=i+o.value.height/2-t/2;_.push(new j(H,K,"rgba(255, 255, 255, 0.8)"))}}},L=()=>{if(!o.value)return;o.value.getContext("2d").clearRect(0,0,o.value.width,o.value.height),_.forEach(t=>{t.update(),t.draw()}),A=requestAnimationFrame(L)},T=e=>{m=e.clientX,v=e.clientY},B=e=>{if(e.touches&&e.touches[0]){const t=e.touches[0].clientX,n=e.touches[0].clientY+270;m=t,v=n,_.forEach(s=>{const a=s.x-m,i=s.y-v;Math.sqrt(a*a+i*i)<k&&(s.isBroken=!0,s.vx=Math.random()*4-2,s.vy=Math.random()*4-2)})}},I=e=>{e.touches&&e.touches[0]&&(m=e.touches[0].clientX,v=e.touches[0].clientY+270,_.forEach(t=>{const n=t.x-m,s=t.y-v;Math.sqrt(n*n+s*s)<k&&(t.isBroken=!0,t.vx=Math.random()*4-2,t.vy=Math.random()*4-2)}))},q=()=>{cancelAnimationFrame(A),window.removeEventListener("mousemove",T),window.removeEventListener("resize",b),window.removeEventListener("touchmove",B),window.removeEventListener("touchstart",I)};return Q(()=>{q()}),Z(async()=>{try{await y.init(),b(),await document.fonts.ready,E(),L(),window.addEventListener("mousemove",T),window.addEventListener("resize",()=>{b(),setTimeout(E,100)}),window.addEventListener("touchmove",B),window.addEventListener("touchstart",I)}catch(e){console.error("Initialization error:",e)}}),(e,t)=>(f(),w("div",oe,[l("canvas",{ref_key:"canvas",ref:o,class:"particles-canvas"},null,512),l("nav",{class:R(["main-menu",{active:r.value}])},[l("ul",null,[(f(!0),w(P,null,W(g.value,(n,s)=>(f(),w("li",{key:s,onMouseenter:a=>U(s),onMouseleave:a=>N(s)},[l("a",{href:"#",onClick:Y(a=>$(s),["prevent"])},M(n.title),9,le),ee(se,{name:"fade"},{default:te(()=>[u.value===s?(f(),w("ul",re,[(f(!0),w(P,null,W(n.subItems,(a,i)=>{var c;return f(),w("li",{key:i},[l("a",{href:"#",onClick:Y(S=>G(n.title,a),["prevent"]),target:(c=a.url)!=null&&c.startsWith("http")?"_blank":""},M(a.name||a),9,ue)])}),128))])):ne("",!0)]),_:2},1024)],40,ie))),128))])],2),l("div",{class:R(["menu-overlay",{active:r.value&&u.value!==null}]),onClick:C},null,2),l("div",ce,[l("div",de,[l("button",{class:"fancy-btn",onClick:F},"Welcome"),l("button",{class:"fancy-btn",onClick:X},[l("span",null,M(r.value&&d.value==="ru"?"<-->":"\u041F\u0440\u0438\u0432\u0435\u0442"),1)]),l("button",{class:"fancy-btn",onClick:z},[l("span",null,M(r.value&&d.value==="en"?"<-->":"Hello"),1)])])])]))}};var ye=ae(me,[["__scopeId","data-v-fb5036a6"]]);export{ye as default};
