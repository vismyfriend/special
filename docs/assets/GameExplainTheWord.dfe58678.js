import{r as o,o as R,G as V,b as r,c as v,e,y as E,t as l,u as ee,j as b,w as $,H as q,i as te,h as ne,F as oe}from"./index.07f74f8c.js";import{q as ae}from"./questions-data.e4548d5f.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";const le={class:"tilt-debugger"},ie={__name:"TiltDebugger",setup(U){const x=o(0),y=o(0),d=o(0),u=i=>{var n,s,c;x.value=(n=i.alpha)!=null?n:0,y.value=(s=i.beta)!=null?s:0,d.value=(c=i.gamma)!=null?c:0};return R(()=>{window.addEventListener("deviceorientation",u)}),V(()=>{window.removeEventListener("deviceorientation",u)}),(i,n)=>(r(),v("div",le,[n[3]||(n[3]=e("h4",null,"\u{1F4D0} \u041D\u0430\u043A\u043B\u043E\u043D\u044B \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430:",-1)),e("div",null,[n[0]||(n[0]=e("strong",null,"Alpha (\u043E\u0441\u0438 Z):",-1)),E(" "+l(x.value.toFixed(1))+"\xB0",1)]),e("div",null,[n[1]||(n[1]=e("strong",null,"Beta (\u043D\u0430\u043A\u043B\u043E\u043D \u043D\u0430 \u0441\u0435\u0431\u044F / \u043E\u0442 \u0441\u0435\u0431\u044F):",-1)),E(" "+l(y.value.toFixed(1))+"\xB0",1)]),e("div",null,[n[2]||(n[2]=e("strong",null,"Gamma (\u0432\u043B\u0435\u0432\u043E / \u0432\u043F\u0440\u0430\u0432\u043E):",-1)),E(" "+l(d.value.toFixed(1))+"\xB0",1)])]))}};var se=F(ie,[["__scopeId","data-v-71e860ce"]]);const ue={key:0,class:"modal-overlay"},re={key:1,class:"game-container"},ve={key:0,class:"modal-overlay"},de={class:"modal-content"},ce={key:1,class:"modal-overlay"},pe={class:"modal-content"},me={class:"word"},fe={class:"translation"},we={class:"counter-row"},A=60,B=120,G=20,ge={__name:"GameExplainTheWord",setup(U){const x=ee(),y=/iPhone|iPad|iPod/i.test(navigator.userAgent),d=o([]),u=o([]),i=o([]),n=o({}),s=o(!1),c=o(!0),L=o(!1),h=o(""),p=o(0),D=o(!1),T=o(null),M=o(0),N=o(0),S=o("portrait"),m=()=>{S.value=window.innerWidth>window.innerHeight?"landscape":"portrait"},f=o(!1),w=o("on"),H=()=>{s.value=!1},I=a=>{h.value=`${a}

Next: ${M.value} \u0440\u0430\u0437
Skip: ${N.value} \u0440\u0430\u0437`,s.value=!0},P=()=>{M.value+=1,O()},z=()=>{N.value+=1,O()},W=()=>{j()},K=()=>{const a=n.value.ru;n.value.ru=n.value.eng,n.value.eng=a},Z=a=>a.sort(()=>Math.random()-.5),O=()=>{if(u.value.length===0){I("\u{1F389} \u0412\u044B \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u043B\u0438 \u0432\u0441\u0435 \u0441\u043B\u043E\u0432\u0430!");return}n.value&&!n.value.isIntro&&i.value.push(n.value),n.value=u.value.pop()},j=()=>{i.value.length!==0&&(n.value&&u.value.push(n.value),n.value=i.value.pop())},X=()=>{if(D.value){clearInterval(T.value),p.value=0,D.value=!1;return}O(),p.value=10,D.value=!0,T.value=setInterval(()=>{p.value-=1,p.value<=0&&(clearInterval(T.value),D.value=!1,I("\u23F0 \u0412\u0440\u0435\u043C\u044F \u0432\u044B\u0448\u043B\u043E!"))},1e3)};let g=null,C=!0;const _=a=>{if(w.value==="off")return;m();let t=0;if(S.value==="portrait"?t=a.beta:t=-a.gamma,t>A&&t<B){C=!0,g=null;return}!C||(t>=B+G&&g!=="forward"&&(P(),C=!1,g="forward"),t<=A-G&&g!=="back"&&(W(),C=!1,g="back"))},J=()=>{window.DeviceOrientationEvent&&(typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(a=>{a==="granted"&&(window.addEventListener("deviceorientation",_),f.value=!0)}):(window.addEventListener("deviceorientation",_),f.value=!0))},Q=()=>{c.value=!1},Y=async()=>{if(c.value=!1,m(),window.DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"&&(window.addEventListener("deviceorientation",_),f.value=!0,h.value=`\u2705 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,s.value=!0)}catch(a){console.warn("Permission denied",a)}else window.addEventListener("deviceorientation",_),f.value=!0,h.value=`\u2705 \u041D\u0430\u043A\u043B\u043E\u043D\u044B \u0432\u043A\u043B\u044E\u0447\u0435\u043D\u044B!

\u25B6 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D **\u043D\u0430 \u0441\u0435\u0431\u044F** \u2014 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E
\u25C0 \u041D\u0430\u043A\u043B\u043E\u043D\u0438\u0442\u0435 **\u043E\u0442 \u0441\u0435\u0431\u044F** \u2014 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0441\u043B\u043E\u0432\u043E`,s.value=!0};return R(()=>{const a=x.params.missionName;d.value=ae[a]||[],u.value=Z([...d.value]),n.value={ru:"\u041E\u0431\u044A\u044F\u0441\u043D\u0438 \u044D\u0442\u043E \u043C\u043D\u0435",eng:"Explain it to me",isIntro:!0},m(),window.addEventListener("resize",m)}),V(()=>{clearInterval(T.value),window.removeEventListener("deviceorientation",_),window.removeEventListener("resize",m)}),(a,t)=>(r(),v(oe,null,[c.value?(r(),v("div",ue,[e("div",{class:"modal-content"},[t[4]||(t[4]=e("p",null,"\u0412\u044B \u0438\u0433\u0440\u0430\u0435\u0442\u0435 \u0441 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 \u0438\u043B\u0438 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430?",-1)),e("button",{onClick:Y},"\u{1F4F1} \u0421 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0433\u043E"),e("button",{onClick:Q},"\u{1F4BB} \u0421 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0430")])])):b("",!0),d.value.length?(r(),v("div",re,[e("button",{onClick:t[0]||(t[0]=k=>L.value=!0)},"\u2699"),L.value?(r(),v("div",ve,[e("div",de,[t[7]||(t[7]=e("p",null,"\u0420\u0435\u0436\u0438\u043C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043D\u0430\u043A\u043B\u043E\u043D\u0430\u043C\u0438:",-1)),e("label",null,[$(e("input",{type:"radio",value:"off","onUpdate:modelValue":t[1]||(t[1]=k=>w.value=k)},null,512),[[q,w.value]]),t[5]||(t[5]=E(" \u{1F515} \u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),t[8]||(t[8]=e("br",null,null,-1)),e("label",null,[$(e("input",{type:"radio",value:"on","onUpdate:modelValue":t[2]||(t[2]=k=>w.value=k)},null,512),[[q,w.value]]),t[6]||(t[6]=E(" \u{1F4F2} \u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C "))]),t[9]||(t[9]=e("br",null,null,-1)),e("button",{onClick:t[3]||(t[3]=k=>L.value=!1)},"OK")])])):b("",!0),s.value?(r(),v("div",ce,[e("div",pe,[e("p",null,l(h.value),1),e("button",{onClick:H},"OK")])])):b("",!0),e("div",{class:"word-card",onClick:K},[e("div",me,l(n.value.eng),1),e("div",fe,l(n.value.ru),1)]),e("div",{class:"timer",onClick:X},l(p.value>0?`${p.value} \u0441\u0435\u043A`:"\u0421\u0442\u0430\u0440\u0442"),1),e("div",{class:"button-row"},[e("button",{onClick:W},"\u2190 Back"),e("button",{onClick:P},"\u2192 Next"),e("button",{onClick:z},"\u23ED Skip")]),e("div",we,[e("span",null,"Next: "+l(M.value),1),e("span",null,"Skip: "+l(N.value),1)]),!f.value&&te(y)?(r(),v("button",{key:2,onClick:J}," \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043D\u0430\u043A\u043B\u043E\u043D\u044B ")):b("",!0)])):b("",!0),ne(se)],64))}};var Ee=F(ge,[["__scopeId","data-v-1973a0aa"]]);export{Ee as default};
