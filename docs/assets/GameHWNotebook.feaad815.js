import{u as D,b as c,i as v,d as E,o,f as a,h as e,t as l,F as g,q as w,l as m,j as b,m as f,s as G}from"./index.e88c3b8f.js";import{s as R}from"./short-words-data.dcc0517d.js";import{_ as z}from"./plugin-vue_export-helper.21dcd24c.js";const A={class:"container"},B={class:"notebook-cover"},q={class:"notebook-page"},F={class:"lesson-title display-none"},j={class:"words-section"},L={class:"words-list"},J={class:"word-content"},K={class:"english-word"},O={key:0,class:"hint"},P={class:"translation"},Q={key:0,class:"materials-section"},X={key:1,class:"homework-section"},Y={class:"homework-content"},Z={class:"homework-words"},ee={class:"word-header"},te={class:"word-number"},se={class:"word-to-translate"},ne=["onClick"],oe={key:0,class:"hint-content"},ae={class:"hint-text"},ie=["onUpdate:modelValue"],le={class:"homework-submission"},re=["disabled"],ce={__name:"GameHWNotebook",setup(de){const H=D(),p=c(""),d=c([]),_=c(null),y=c(600),h=c(""),i=c([]),x=v(()=>d.value.length>0),C=v(()=>i.value.length>0),T=v(()=>i.value.every(s=>s.userTranslation&&s.userTranslation.trim()!=="")),V=v(()=>i.value.filter(s=>s.showHint).length),M=()=>{if(d.value.length===0)return[];const s=[...d.value].sort(()=>.5-Math.random());return s.slice(0,Math.min(5,s.length)).map(t=>({...t,userTranslation:"",showHint:!1}))},$=s=>{s.showHint=!s.showHint},N=()=>{console.log("Homework validation updated")},W=async s=>{try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(s),!0;{const t=document.createElement("textarea");return t.value=s,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),!0}}catch(t){return console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430:",t),!1}},I=async()=>{const s="vismyfriend";let t="";const n="!".repeat(V.value);h.value.trim()?t+=`Hi VVVVincent${n} 

 I am not a lazy ass, and it is my message to you: 
"${h.value.trim()}"

`:t+=`Hi Vincentik${n}

 I am a little lazy today.
 And how do you feel?
 It is my homework: 

`,t+=`Words from homework:
`,i.value.forEach((r,k)=>{t+=`${k+1}. ${r.eng}
`}),t+=`
My translation:
`,i.value.forEach((r,k)=>{t+=`${k+1}. ${r.userTranslation}
`}),await W(t),alert(`\u2705 \u0423\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E!

\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u043C \u0443\u0447\u0438\u043B\u043A\u0435... 

 \u0415\u0441\u043B\u0438 \u0432\u0430\u0448\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u043D\u0435 \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u0441\u044F \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438, \u0442\u043E\u0433\u0434\u0430:

\u{1F4BB} \u041D\u0430 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435: 
\u043A\u043B\u0438\u043A \u043F\u0440\u0430\u0432\u043E\u0439 \u043A\u043D\u043E\u043F\u043A\u043E\u0439 \u2192 \u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C
\u{1F4F1}\u041D\u0430 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0435: 
\u0437\u0430\u0436\u043C\u0438\u0442\u0435 \u043F\u0430\u043B\u044C\u0446\u0435\u043C \u2192 \u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C`);const u=`https://t.me/${s}?text=${encodeURIComponent(t)}`;window.open(u,"_blank")},S=()=>{if(!_.value)return 600;const s=_.value.scrollHeight;return Math.max(600,s+50)},U=()=>{const s=document.querySelector(".print-controls");s&&(s.style.display="none"),setTimeout(()=>{window.print(),setTimeout(()=>{s&&(s.style.display="block")},500)},100)};return E(()=>{p.value=H.params.missionName||"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u0443\u0440\u043E\u043A",d.value=R[p.value]||[],i.value=M(),setTimeout(()=>{y.value=S()},100)}),(s,t)=>(o(),a("div",A,[e("div",{class:"notebook-wrapper",style:G({height:y.value+"px"})},[e("div",B,[e("div",q,[t[4]||(t[4]=e("div",{class:"notebook-grid"},null,-1)),e("div",{class:"notebook-content",ref_key:"contentRef",ref:_},[e("div",F,' "'+l(p.value)+'" ',1),e("div",j,[t[1]||(t[1]=e("div",{class:"section-title display-none"},"\u0421\u0435\u043A\u0440\u0435\u0442\u043D\u0430\u044F \u043C\u0438\u0441\u0441\u0438\u044F : ",-1)),t[2]||(t[2]=e("div",{class:"lesson-title"},null,-1)),e("div",L,[(o(!0),a(g,null,w(d.value,(n,u)=>(o(),a("div",{class:"word-line",key:n.id},[e("div",J,[e("span",K,l(n.eng),1),n.hint?(o(),a("span",O,l(n.hint),1)):m("",!0),e("span",P,"- "+l(n.ru),1)])]))),128))])]),x.value?(o(),a("div",Q,t[3]||(t[3]=[e("div",{class:"section-title"}," \u041E\u0445 \u0443\u0436 \u044D\u0442\u043E\u0442 Vincent...",-1),e("div",{class:"materials-content"},[e("p",null,"\u043D\u0430\u043F\u0440\u0438\u0434\u0443\u043C\u044B\u0432\u0430\u0435\u0442 \u0444\u0440\u0430\u0437 \u0432\u0441\u044F\u043A\u0438\u0445, a \u043C\u043D\u0435"),e("p",null,"\u043F\u0438\u0441\u0430\u0442\u044C \u0438 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0438\u0442\u044C... \u041B\u0430\u0434\u043D\u043E, \u043D\u0430\u043F\u0438\u0448\u0443!"),e("p",null,"\u042F \u0436\u0435 \u043F\u043E\u043D\u0438\u043C\u0430\u044E, \u0447\u0442\u043E \u0443\u0447\u0438\u043B\u043A\u0430 \u0434\u043B\u044F \u043C\u0435\u043D\u044F"),e("p",null,"\u0441\u0442\u0430\u0440\u0430\u043B\u0441\u044F. \u0418 \u044F \u043D\u0435 \u043B\u0435\u043D\u0438\u0432\u0430\u044F \u0437\u0430\u0434\u043D\u0438\u0446\u0430! ")],-1)]))):m("",!0),C.value?(o(),a("div",X,[e("div",Y,[e("div",Z,[(o(!0),a(g,null,w(i.value,(n,u)=>(o(),a("div",{class:"homework-word",key:"hw-"+u},[e("div",ee,[e("span",te,l(u+1)+". ",1),e("span",se,l(n.ru),1),n.hint&&!n.showHint?(o(),a("span",{key:0,class:"hint-icon",onClick:r=>$(n)}," \u{1F50D}\uFE0F \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0443 ",8,ne)):m("",!0)]),n.showHint?(o(),a("div",oe,[e("span",ae,l(n.hint),1)])):m("",!0),b(e("input",{type:"text","onUpdate:modelValue":r=>n.userTranslation=r,placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434...",class:"translation-input",onInput:N},null,40,ie),[[f,n.userTranslation]])]))),128))]),e("div",le,[b(e("textarea",{class:"message-input","onUpdate:modelValue":t[0]||(t[0]=n=>h.value=n),placeholder:"\u0421\u043E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0434\u043B\u044F \u0412\u0438 \u0447\u0442\u043E-\u043D\u0438\u0431\u0443\u0434\u044C \u0438\u0437 \u0441\u043B\u043E\u0432 \u0432 \u0441\u043F\u0438\u0441\u043A\u0435, \u043F\u0443\u0441\u0442\u044C \u0442\u043E\u0436\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0438\u0442 (\u043B\u044E\u0431\u043E\u0435 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435)!"},null,512),[[f,h.value]]),e("button",{class:"homework-submit-btn",onClick:I,disabled:!T.value}," Send to Vismyfriend \u2192 ",8,re)])])])):m("",!0)],512)])])],4),e("div",{class:"print-controls"},[e("button",{class:"print-button",onClick:U},"\u0420\u0430\u0441\u043F\u0435\u0447\u0430\u0442\u0430\u0442\u044C \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B")])]))}};var ve=z(ce,[["__scopeId","data-v-3b72eb96"]]);export{ve as default};
