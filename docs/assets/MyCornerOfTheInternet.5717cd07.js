import{p as K,r as _,H as J,o as Q,b as v,c as f,e as r,F as I,q as P,n as W,t as x,G as R,h as Z,w as ee,l as te,a8 as ne}from"./index.fafe007c.js";import{_ as se}from"./plugin-vue_export-helper.21dcd24c.js";const me={};const ae={class:"background"},oe=["onMouseenter","onMouseleave"],ie=["onClick"],re={key:0,class:"submenu"},le=["onClick","target"],ue={class:"app-container"},ce={class:"menu-container"},k=20,de=.2,D="SPECIAL",he={__name:"MyCornerOfTheInternet",setup(ve){const F=()=>{const e=new URL("/special/assets/WithoutMeNoSpaces.cd9404c2.mp3",self.location).href,t=new Audio(e),n=.3;t.volume=Math.min(Math.max(n/10,0),1),t.play().catch(s=>{console.warn("Audio playback failed:",s)})},w={en:[{title:"About Me :",subItems:[{name:"Portfolio",url:""},{name:"YouTube",url:""},{name:"VK",url:""},{name:"TikTok",url:""},{name:"Instagram",url:""},{name:"Facebook",url:""},{name:"Telegram",url:""},{name:"contacts \u261D",url:""}]},{title:"My Projects :",subItems:[{name:"Travel",url:""},{name:"Study",url:""},{name:"Enjoy",url:""},{name:"Business",url:""},{name:"English",url:""}]},{title:"My games:",subItems:[{name:"Tap-clicker",url:""},{name:"Skeleton 3D",url:"https://vismyfriend.itch.io/clicker-test"},{name:"Platformer 2D",url:""}]},{title:"English:",subItems:[{name:"TOEFL",url:""},{name:"IELTS",url:""},{name:"Books",url:""},{name:"C2",url:""},{name:"C1",url:""},{name:"B2",url:""},{name:"B1",url:""},{name:"A2",url:""},{name:"A1",url:""}]},{title:"S.P.E.C.I.A.L",subItems:[{name:"App",url:"/"},{name:"Website",url:"/games"}]}],ru:[{title:"\u041E\u0431\u043E \u043C\u043D\u0435 :",subItems:[{name:"\u041F\u043E\u0440\u0442\u0444\u043E\u043B\u0438\u043E",url:""},{name:"YouTube",url:""},{name:"VK",url:""},{name:"TikTok",url:""},{name:"Instagram",url:""},{name:"Facebook",url:""},{name:"Telegram",url:""},{name:"\u043A\u043E\u043D\u0442\u0430\u043A\u0442\u044B \u261D",url:""}]},{title:"\u041C\u043E\u0438 \u043F\u0440\u043E\u0435\u043A\u0442\u044B:",subItems:[{name:"\u041F\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044F",url:""},{name:"\u041E\u0431\u0443\u0447\u0435\u043D\u0438\u0435",url:""},{name:"\u0423\u0434\u043E\u0432\u043E\u043B\u044C\u0441\u0442\u0432\u0438\u044F",url:""},{name:"\u0411\u0438\u0437\u043D\u0435\u0441",url:""},{name:"\u0410\u043D\u0433\u043B\u0438\u0439\u0441\u043A\u0438\u0439",url:""}]},{title:"\u041C\u043E\u0438 \u0438\u0433\u0440\u044B:",subItems:[{name:"Tap-clicker",url:""},{name:"Skeleton 3D",url:"https://vismyfriend.itch.io/clicker-test"},{name:"Platformer 2D",url:""}]},{title:"\u0410\u043D\u0433\u043B\u0438\u0439\u0441\u043A\u0438\u0439:",subItems:[{name:"TOEFL",url:""},{name:"IELTS",url:""},{name:"Books",url:""},{name:"C2",url:""},{name:"C1",url:""},{name:"B2",url:""},{name:"B1",url:""},{name:"A2",url:""},{name:"A1",url:""}]},{title:"S.P.E.C.I.A.L",subItems:[{name:"App",url:"/"},{name:"\u0421\u0430\u0439\u0442",url:"/games"}]}]},p={sounds:{},audioContext:null,activeLoops:new Set,isAudioAllowed:!1,soundConfig:{helloSound:new URL("/special/assets/magic_sound_short.bdf87c78.mp3",self.location).href,privetSound:new URL("/special/assets/trimmedStarsSound.3bf30995.mp3",self.location).href,withoutMe:new URL("/special/assets/WithoutMeNoSpaces.cd9404c2.mp3",self.location).href,starsMysterySound:new URL("/special/assets/trimmedStarsSound.3bf30995.mp3",self.location).href},async init(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.suspend(),await this.loadAllSounds(),console.log("AudioManager initialized (suspended)")}catch(e){console.error("AudioManager init failed:",e)}},async allowAudio(){var e;this.isAudioAllowed||(((e=this.audioContext)==null?void 0:e.state)==="suspended"&&await this.audioContext.resume(),this.isAudioAllowed=!0,console.log("Audio allowed after user interaction"))},async loadAllSounds(){await Promise.all(Object.keys(this.soundConfig).map(e=>this.loadSound(e,this.soundConfig[e])))},async loadSound(e,t){try{const n=new URL(t,me.url).href,a=await(await fetch(n)).arrayBuffer(),i=await this.audioContext.decodeAudioData(a);this.sounds[e]={buffer:i,sources:new Set}}catch(n){console.error(`Failed to load sound "${e}":`,n)}},async playSound(e,t=7,n=1){if(await this.allowAudio(),!this.sounds[e]){console.warn(`Sound "${e}" not loaded`);return}n>1&&this.stopSound(e),this._playSound(e,t,n)},_playSound(e,t,n){const s=this.sounds[e];if(n>1){if(this.activeLoops.has(e))return;this.activeLoops.add(e)}const a=this.audioContext.createBufferSource();a.buffer=s.buffer,s.sources.add(a);const i=this.audioContext.createGain();i.gain.value=Math.min(Math.max(t,0),10)/10,a.connect(i),i.connect(this.audioContext.destination),n>1&&(a.loop=!0,a.loopEnd=s.buffer.duration*n),a.onended=()=>{s.sources.delete(a),n>1&&this.activeLoops.delete(e)},a.start(0),n>1&&setTimeout(()=>{s.sources.has(a)&&a.stop()},s.buffer.duration*n*1e3)},stopSound(e){if(!this.sounds[e])return;const t=this.sounds[e];t.sources.forEach(n=>{try{n.stop()}catch(s){console.warn(`Error stopping sound "${e}":`,s)}}),t.sources.clear(),this.activeLoops.delete(e)},stopAllSounds(){Object.keys(this.sounds).forEach(e=>{this.stopSound(e)}),this.activeLoops.clear()}},O=K(),o=_(null),l=_(!1),u=_(null),c=_("en"),y=_(w.en),Y=async()=>{try{await p.allowAudio(),await p.playSound("helloSound",2,2),l.value?c.value==="en"?(l.value=!1,u.value=null):(c.value="en",y.value=w.en):(c.value="en",y.value=w.en,l.value=!0)}catch(e){console.error("Error in toggleEnglish:",e)}},z=async()=>{try{await p.allowAudio(),await p.playSound("withoutMe",.2,1),l.value?c.value==="ru"?(l.value=!1,u.value=null):(c.value="ru",y.value=w.ru):(c.value="ru",y.value=w.ru,l.value=!0)}catch(e){console.error("Error in toggleRussian:",e)}},X=e=>{window.innerWidth<769&&(u.value=u.value===e?null:e)},U=e=>{window.innerWidth>=769&&l.value&&(u.value=e)},$=e=>{window.innerWidth>=769&&setTimeout(()=>{u.value===e&&(u.value=null)},200)},S=()=>{l.value=!1,u.value=null},N=(e,t)=>{S();try{typeof t=="object"&&t.url&&(t.url.startsWith("http")?window.open(t.url,"_blank"):O.push(t.url))}catch(n){console.error("Navigation failed:",n)}},j=()=>window.innerWidth<768?3:5;let b,g=[],h=0,m=0;class q{constructor(t,n,s){this.x=t,this.y=n,this.origX=t,this.origY=n,this.color=s,this.size=1.5,this.vx=Math.random()*4-2,this.vy=Math.random()*4-2,this.isBroken=!1}update(){this.x+=this.vx,this.y+=this.vy;const t=this.x-h,n=this.y-(m+270);Math.sqrt(t*t+n*n)<k&&(this.isBroken=!0);const a=this.isBroken?.01:de;this.x+=(this.origX-this.x)*a,this.y+=(this.origY-this.y)*a,this.isBroken&&Math.abs(this.x-this.origX)<1&&Math.abs(this.y-this.origY)<1&&(this.isBroken=!1)}draw(){const t=o.value.getContext("2d");t.fillStyle=this.color,t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.closePath(),t.fill()}}const M=()=>{!o.value||(o.value.width=window.innerWidth,o.value.height=window.innerHeight)},A=()=>{const e=o.value.getContext("2d");g=[];const t=Math.min(window.innerWidth*.2,200),n=j();e.font=`${t}px Outfit`,e.fillStyle="rgba(255, 255, 255, 0.8)",e.textAlign="center",e.textBaseline="middle",e.fillText(D,o.value.width/2,o.value.height/2);const s=e.measureText(D).width,a=e.getImageData(o.value.width/2-s/2,o.value.height/2-t/2,s,t);e.clearRect(0,0,o.value.width,o.value.height);for(let i=0;i<a.height;i+=n)for(let d=0;d<a.width;d+=n){const B=(d+i*a.width)*4;if(a.data[B+3]>128){const H=d+o.value.width/2-s/2,G=i+o.value.height/2-t/2;g.push(new q(H,G,"rgba(255, 255, 255, 0.8)"))}}},C=()=>{if(!o.value)return;o.value.getContext("2d").clearRect(0,0,o.value.width,o.value.height),g.forEach(t=>{t.update(),t.draw()}),b=requestAnimationFrame(C)},E=e=>{h=e.clientX,m=e.clientY},L=e=>{if(e.touches&&e.touches[0]){const t=e.touches[0].clientX,n=e.touches[0].clientY+270;h=t,m=n,g.forEach(s=>{const a=s.x-h,i=s.y-m;Math.sqrt(a*a+i*i)<k&&(s.isBroken=!0,s.vx=Math.random()*4-2,s.vy=Math.random()*4-2)})}},T=e=>{e.touches&&e.touches[0]&&(h=e.touches[0].clientX,m=e.touches[0].clientY+270,g.forEach(t=>{const n=t.x-h,s=t.y-m;Math.sqrt(n*n+s*s)<k&&(t.isBroken=!0,t.vx=Math.random()*4-2,t.vy=Math.random()*4-2)}))},V=()=>{cancelAnimationFrame(b),window.removeEventListener("mousemove",E),window.removeEventListener("resize",M),window.removeEventListener("touchmove",L),window.removeEventListener("touchstart",T)};return J(()=>{V()}),Q(async()=>{try{await p.init(),M(),await document.fonts.ready,A(),C(),window.addEventListener("mousemove",E),window.addEventListener("resize",()=>{M(),setTimeout(A,100)}),window.addEventListener("touchmove",L),window.addEventListener("touchstart",T)}catch(e){console.error("Initialization error:",e)}}),(e,t)=>(v(),f("div",ae,[r("canvas",{ref_key:"canvas",ref:o,class:"particles-canvas"},null,512),r("nav",{class:W(["main-menu",{active:l.value}])},[r("ul",null,[(v(!0),f(I,null,P(y.value,(n,s)=>(v(),f("li",{key:s,onMouseenter:a=>U(s),onMouseleave:a=>$(s)},[r("a",{href:"#",onClick:R(a=>X(s),["prevent"])},x(n.title),9,ie),Z(ne,{name:"fade"},{default:ee(()=>[u.value===s?(v(),f("ul",re,[(v(!0),f(I,null,P(n.subItems,(a,i)=>{var d;return v(),f("li",{key:i},[r("a",{href:"#",onClick:R(B=>N(n.title,a),["prevent"]),target:(d=a.url)!=null&&d.startsWith("http")?"_blank":""},x(a.name||a),9,le)])}),128))])):te("",!0)]),_:2},1024)],40,oe))),128))])],2),r("div",{class:W(["menu-overlay",{active:l.value&&u.value!==null}]),onClick:S},null,2),r("div",ue,[r("div",ce,[r("button",{class:"fancy-btn",onClick:F},"Welcome"),r("button",{class:"fancy-btn",onClick:z},[r("span",null,x(l.value&&c.value==="ru"?"\u0425\u043E\u0440\u043E\u0448\u043E":"\u041F\u0440\u0438\u0432\u0435\u0442"),1)]),r("button",{class:"fancy-btn",onClick:Y},[r("span",null,x(l.value&&c.value==="en"?"Ok":"Hello"),1)])])])]))}};var ye=se(he,[["__scopeId","data-v-09d288f0"]]);export{ye as default};
