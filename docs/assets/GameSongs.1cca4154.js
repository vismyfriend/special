import{u as L,b as C,i as k,o as e,f as s,h as r,t as u,k as _,l,F as m,q as p,z as D}from"./index.e88c3b8f.js";import{s as N}from"./SongsData.d2e80d8e.js";const I={class:"minimal-container"},H={key:0,class:"task-navigation"},M=["disabled"],W={class:"task-counter"},B=["disabled"],S={key:1},V=["src"],F={key:3,class:"useful-words"},G={key:4},P={key:0},U={key:5,controls:"",class:"audio-player"},$=["src"],q={key:6,class:"extra-info"},w={key:7,class:"song-text"},z=["innerHTML"],E={key:8,class:"dialog-text"},R=["innerHTML"],O={__name:"GameSongs",setup(j){const f=L().params.missionName,o=C(0),i=N[f],a=k(()=>{var t;return((t=i==null?void 0:i.tasks)==null?void 0:t[o.value])||{}}),d=k(()=>{var t;return((t=a.value.script)==null?void 0:t[0])||{}}),y=()=>{o.value>0&&o.value--},x=()=>{o.value<i.tasks.length-1&&o.value++},b=t=>t?t.split(",").map(v=>{const[n,c]=v.split("-").map(T=>T.trim());return{english:n,russian:c}}):[],h=k(()=>d.value.text?d.value.text.split(`
`).map(t=>t.replace(/\(([^)]+)\)/g,(v,n)=>`<span class="blurred" data-word="${n}">${n}</span>`)):[]),g=t=>{t.target.classList.contains("blurred")&&(t.target.classList.remove("blurred"),t.target.classList.add("revealed"))};return(t,v)=>(e(),s("div",I,[r("h2",null,u(_(i).mainDescription),1),_(i).tasks.length>1?(e(),s("div",H,[r("button",{onClick:y,disabled:o.value===0,class:"nav-button"}," \u2190 ",8,M),r("div",W,u(o.value+1)+"/"+u(_(i).tasks.length),1),r("button",{onClick:x,disabled:o.value===_(i).tasks.length-1,class:"nav-button"}," \u2192 ",8,B)])):l("",!0),a.value.taskDescription?(e(),s("h3",S,u(a.value.taskDescription),1)):l("",!0),a.value.taskPicture?(e(),s("img",{key:2,src:a.value.taskPicture,alt:"Task image",class:"task-image"},null,8,V)):l("",!0),a.value.usefulWords?(e(),s("div",F,[v[0]||(v[0]=r("h4",null,"Useful words:",-1)),r("ul",null,[(e(!0),s(m,null,p(b(a.value.usefulWords),(n,c)=>(e(),s("li",{key:c},[r("strong",null,u(n.english),1),D(" - "+u(n.russian),1)]))),128))])])):l("",!0),a.value.taskID==="listenCarefully"?(e(),s("div",G,[r("h3",null,u(d.value.singer),1),d.value.audioName?(e(),s("h4",P,u(d.value.audioName),1)):l("",!0)])):l("",!0),a.value.audio?(e(),s("audio",U,[r("source",{src:a.value.audio,type:"audio/mp3"},null,8,$)])):l("",!0),a.value.extraInfo?(e(),s("p",q,u(a.value.extraInfo),1)):l("",!0),a.value.taskID==="listenCarefully"?(e(),s("div",w,[(e(!0),s(m,null,p(h.value,(n,c)=>(e(),s("div",{key:c,innerHTML:n,onClick:g},null,8,z))),128))])):l("",!0),a.value.taskID==="taskDialogs"?(e(),s("div",E,[(e(!0),s(m,null,p(h.value,(n,c)=>(e(),s("div",{key:c,class:"dialog-line",innerHTML:n,onClick:g},null,8,R))),128))])):l("",!0)]))}};export{O as default};
